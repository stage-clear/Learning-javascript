! function() {
    "use strict";
    var e = "undefined" != typeof window ? window : global;
    if ("function" != typeof e.require) {
        var t = {},
            i = {},
            n = function(e, t) {
                return {}.hasOwnProperty.call(e, t)
            },
            a = function(e, t) {
                var i, n, a = [];
                i = /^\.\.?(\/|$)/.test(t) ? [e, t].join("/").split("/") : t.split("/");
                for (var s = 0, o = i.length; o > s; s++) n = i[s], ".." === n ? a.pop() : "." !== n && "" !== n && a.push(n);
                return a.join("/")
            },
            s = function(e) {
                return e.split("/").slice(0, -1).join("/")
            },
            o = function(t) {
                return function(i) {
                    var n = s(t),
                        o = a(n, i);
                    return e.require(o, t)
                }
            },
            r = function(e, t) {
                var n = {
                    id: e,
                    exports: {}
                };
                return i[e] = n, t(n.exports, o(e), n), n.exports
            },
            l = function(e, s) {
                var o = a(e, ".");
                if (null == s && (s = "/"), n(i, o)) return i[o].exports;
                if (n(t, o)) return r(o, t[o]);
                var l = a(o, "./index");
                if (n(i, l)) return i[l].exports;
                if (n(t, l)) return r(l, t[l]);
                throw new Error('Cannot find module "' + e + '" from "' + s + '"')
            },
            c = function(e, i) {
                if ("object" == typeof e)
                    for (var a in e) n(e, a) && (t[a] = e[a]);
                else t[e] = i
            },
            h = function() {
                var e = [];
                for (var i in t) n(t, i) && e.push(i);
                return e
            };
        e.require = l, e.require.define = c, e.require.register = c, e.require.list = h, e.require.brunch = !0
    }
}(), require.register("application", function(e, t, i) {
    i.exports = Application = Chaplin.Application.extend({})
}), require.register("controllers/appendix-controller", function(e, t, i) {
    var n = t("lib/omniture-module"),
        a = t("controllers/base/controller"),
        s = t("models/base/collection"),
        o = t("models/base/model"),
        r = t("mediator"),
        l = t("models/cookie-model"),
        c = t("lib/utils"),
        h = t("views/appendix/appendix-view"),
        d = t("views/appendix/landing-view"),
        p = t("views/appendix/chapter-view"),
        u = t("views/appendix/bumper-view"),
        m = t("views/appendix/push-in-view");
    i.exports = a.extend({
        index: function(e) {
            var t, i = this,
                a = e.id,
                f = new l;
            this.view = new h({
                region: "main"
            }), $("body").removeClass("hide-nav"), Backbone.history.fragment.indexOf("appendix") > -1 && window.history.pushState("", "", "/" + Backbone.history.fragment.replace(/appendix/, "histories"));
            var g = new o,
                v = new o;
            r.unsubscribe("appendix:goto").subscribe("appendix:goto", function(e) {
                var t, i = g.get("chapters");
                if (i && i.length) {
                    if (t = i[0].content, a = e, g.sectionId = a, "undefined" != typeof a) {
                        a = a.toString();
                        var n = a.split(".");
                        t = _.findWhere(i, {
                            id: Number(n[0])
                        }), t = t ? t.content : i[0].content, r.publish("appendix:setchapter", n[0])
                    } else r.publish("appendix:setchapter", i[0].id);
                    v.allowTriggerLoaded = !0, r.publish("pushnav:updateshare", {
                        fb: c.getShare("appendix", "fb", t.title, t.title),
                        tb: c.getShare("appendix", "tb", t.title, t.title),
                        tw: c.getShare("appendix", "tw", t.title)
                    }), v.clear(), v.set(t), v.set("appendix_title", g.get("appendix_title"))
                }
            }), v.bind("contentloaded", function() {
                if ("undefined" != typeof a) {
                    var e = a.split(".");
                    if (e)
                        if (e[1]) {
                            var t = i.view.$el.find("article").find("h3.subchapter-anchor").eq(e[1]);
                            t.length && c.scrollTo(t.offset().top - $(".global-nav").height(), 250)
                        } else c.scrollTo(i.view.$el.find(".landing").outerHeight(), 250);
                    else c.scrollTo(i.view.$el.find(".landing").outerHeight(), 250)
                }
            }), Chaplin.mediator.publish("loader:show", {
                backgroundColor: "#d2d2d2"
            }), g.fetch({
                success: function(e) {
                    var n = "Game of Thrones Viewer's Guide - Histories";
                    $("title").html(n), c.requestMetaData("appendix"), i.view.subview("push-in-nav", new m({
                        region: "pushinnav",
                        collection: new s(g.get("chapters")),
                        model: e
                    })), g.sectionId = a, i.view.subview("landing", new d({
                        region: "landing",
                        model: g
                    }));
                    var o, l = g.get("chapters");
                    if (l && l.length) {
                        if (o = l[0].content, "undefined" != typeof a) {
                            a = a.toString();
                            var h = a.split(".");
                            o = _.findWhere(l, {
                                id: Number(h[0])
                            }), o = o ? o.content : l[0].content, r.publish("appendix:setchapter", h[0])
                        }
                        r.publish("pushnav:updateshare", {
                            fb: c.getShare("appendix", "fb", o.title, o.title),
                            tb: c.getShare("appendix", "tb", o.title, o.title),
                            tw: c.getShare("appendix", "tw", o.title)
                        }), v.set(o), v.set("appendix_title", g.get("appendix_title")), t = g.get("appendix_title")
                    }
                    i.view.subview("article", new p({
                        region: "article",
                        model: v
                    })), i.view.subview("bumper", new u({
                        region: "bumper",
                        model: g
                    })), i.view.showSpoilerGuard()
                },
                data: f.requestData(),
                url: Chaplin.Application.getServiceUrl("appendix")
            });
            var w = !1,
                b = 0;
            $(window).off("scroll.appendix").on("scroll.appendix", function() {
                var e = $(window).scrollTop();
                e - b >= 0 && e + $(window).height() >= $("body").height() - 96 ? (r.publish("appendix:showbumper"), w = !0) : w && (r.publish("appendix:hidebumper"), w = !1), b = e
            }), Chaplin.mediator.unsubscribe("video:play"), Chaplin.mediator.subscribe("video:play", function(e) {
                var t = new n({
                    section2: "appendix",
                    section3: "S" + f.get("season_id") + "E" + f.get("episode_number"),
                    contentType: "video",
                    contentName: "Game of Thrones:" + e,
                    extras: "video"
                });
                t.fireEvent("Video Tracking")
            }), Chaplin.mediator.unsubscribe("share:omniture"), Chaplin.mediator.subscribe("share:omniture", function(e) {
                var t = new n({
                    section2: "appendix",
                    section3: "S" + f.get("season_id") + "E" + f.get("episode_number"),
                    contentType: null,
                    contentName: null,
                    extras: e
                });
                t.fireEvent("Event Tracking")
            })
        }
    })
}), require.register("controllers/base/controller", function(e, t, i) {
    var n = t("models/cookie-model"),
        a = t("views/site-view"),
        s = t("views/home/nav-view"),
        o = t("views/home/side-nav-view"),
        r = (t("models/base/collection"), t("models/base/model")),
        l = (t("lib/jquery.bxslider"), t("lib/facebook"), t("lib/jquery.share"), t("lib/omniture-module")),
        n = t("models/cookie-model"),
        c = function(e) {
            return e !== e
        },
        h = {
            "aerys-ii-targaryen": 3,
            "amory-lorch": 7,
            anguy: 8,
            "balon-greyjoy": 10,
            "benjen-stark": 12,
            "beric-dondarrion": 13,
            "black-walder-rivers": 15,
            "brandon-stark": 18,
            "brynden-the-blackfish-tully": 21,
            "catelyn-stark": 22,
            craster: 24,
            cressen: 25,
            doreah: 32,
            "eddard-ned-stark": 34,
            "edmure-tully": 35,
            gendry: 39,
            "hoster-tully": 46,
            "hugh-of-the-vale": 48,
            "illyrio-mopatis": 49,
            "ilyn-payne": 50,
            irri: 51,
            "jaqen-h'ghar": 54,
            "jeor-mormont": 55,
            "jon-arryn": 59,
            "jon-greatjon-umber": 60,
            "jory-cassel": 63,
            "joyeuse-frey": 64,
            "kevan-lannister": 66,
            drogo: 67,
            kovarro: 68,
            kraznys: 69,
            "lancel-lannister": 70,
            lommy: 72,
            "lothar-frey": 74,
            "lyanna-stark": 76,
            luwin: 79,
            marillion: 82,
            "matthos-seaworth": 84,
            micah: 88,
            "mirri-maz-duur": 90,
            mordane: 92,
            "myrcella-baratheon": 93,
            "old-nan": 95,
            orell: 98,
            osha: 99,
            "pyat-pree": 103,
            "qhorin-halfhand": 105,
            quaithe: 106,
            rakharo: 108,
            rattleshirt: 110,
            "razdal-mo-eraz": 111,
            "rhaegar-targaryen": 113,
            "rhaella-targaryen": 114,
            "rickard-karstark": 116,
            "rickard-stark": 117,
            "rickon-stark": 118,
            "robb-stark": 119,
            "rodrik-cassel": 122,
            ros: 126,
            "roslin-tully": 127,
            shagga: 134,
            "syrio-forel": 138,
            "talisa-stark": 139,
            "the-tickler": 140,
            "thoros-of-myr": 142,
            "vardis-egen": 149,
            "viserys-targaryen": 151,
            "walder-frey": 153,
            "xaro-xhoan-daxos": 157,
            yoren: 160,
            "doran-martell": 171,
            olyvar: 97,
            polliver: 102,
            "elia-targaryen": 36,
            "roose-bolton": 124,
            "theon-greyjoy": 141,
            melisandre: 86,
            myranda: 173,
            "walda-bolton": 152,
            "loras-tyrell": 73,
            "davos-seaworth": 28,
            "dontos-hollard": 30,
            "jaime-lannister": 52,
            hodor: 45,
            "podrick-payne": 101,
            "janos-slynt": 53,
            "olenna-tyrell": 96,
            rast: 109,
            "margaery-tyrell": 81,
            locke: 71,
            karl: 65,
            "tommen-baratheon": 143,
            "meryn-trant": 87,
            "yara-greyjoy": 158,
            "tycho-big-boss-nestoris": 178,
            "salladhor-saan": 128,
            "mace-tyrell": 78,
            "hizdahr-zo-loraq": 179,
            rorge: 125,
            "selyse-baratheon": 132,
            "hot-pie": 47,
            bronn: 20,
            "lysa-baelish": 77,
            "shireen-baratheon": 135,
            biter: 14,
            "daario-naharis": 26,
            "grey-worm": 44,
            missandei: 91,
            "waymar-royce": 154,
            "oberyn-martell": 170,
            "ellaria-sand": 169,
            "anya-waynwood": 180,
            "yohn-royce": 181,
            "sansa-stark": 131,
            "petyr-littlefinger-baelish": 100,
            "robin-arryn": 121,
            "jorah-mormont": 62,
            "ramsay-bolton": 162,
            "barristan-selmy": 11,
            "eddison-tollett": 29,
            "tormund-giantsbane": 144,
            pyp: 104,
            grenn: 43,
            ygritte: 159,
            "alliser-thorne": 6,
            styr: 172,
            "samwell-tarly": 129,
            "mag-the-mighty": 182,
            gilly: 40,
            aemon: 2,
            olly: 174,
            pycelle: 41,
            qyburn: 107,
            "bran-stark": 17,
            "arya-stark": 9,
            "daenerys-targaryen": 27,
            "stannis-baratheon": 136,
            "jojen-reed": 58,
            "meera-reed": 85,
            varys: 150,
            "sandor-the-hound-clegane": 130,
            shae: 133,
            "tywin-lannister": 148,
            "tyrion-lannister": 146,
            "jon-snow": 61,
            "mance-rayder": 80,
            "brienne-tarth": 19,
            "gregor-the-mountain-clegane": 42,
            "cersei-lannister": 23,
            "robert-baratheon": 120,
            "joffrey-baratheon": 57,
            "renly-baratheon": 112
        },
        d = {
            "ashmark-2": 1,
            astapor: 3,
            "bear-island": 4,
            "braavos-free-city": 5,
            "brightwater-keep": 6,
            "casterly-rock": 7,
            "castle-black": 8,
            "castle-cerwyn": 9,
            "cleganes-keep": 10,
            cornfield: 11,
            crakehall: 12,
            "crasters-keep": 13,
            crownlands: 14,
            "deep-lake": 15,
            dorne: 16,
            "dothraki-sea": 17,
            dragonstone: 18,
            eyrie: 19,
            "fist-of-the-first-men": 20,
            "frostfang-mountains": 21,
            harrenhal: 22,
            highgarden: 23,
            hornwood: 24,
            "inn-at-the-crossroads": 25,
            karhold: 26,
            "kings-landing": 27,
            "last-hearth": 28,
            "lys-free-city": 29,
            maidenpool: 30,
            meereen: 31,
            "moat-cailin": 32,
            "moles-town": 72,
            "myr-free-city": 34,
            nightsong: 35,
            oldtown: 36,
            "pentos-free-city": 37,
            pyke: 38,
            qarth: 39,
            "raventree-hall": 40,
            "red-waste": 41,
            riverrun: 42,
            runestone: 43,
            seagard: 44,
            "stone-hedge": 45,
            stonehelm: 46,
            "storms-end": 47,
            summerhall: 48,
            sunspear: 49,
            "the-arbor": 50,
            "the-bloody-gate": 73,
            "the-crag": 52,
            "the-dreadfort": 53,
            "the-gift": 54,
            "the-golden-tooth": 55,
            "the-nightfort": 56,
            "the-ruby-ford": 57,
            "the-trident": 58,
            "the-twins": 59,
            "the-vale-of-arryn": 60,
            "the-whispering-wood": 61,
            "the-whispers": 62,
            "torrhens-square": 63,
            "tyrosh-free-city": 64,
            "vaes-dothrak": 65,
            valyria: 66,
            "village-of-the-lhazareen": 67,
            "volantis-free-city": 68,
            winterfell: 69,
            yunkai: 70
        },
        p = {
            "house-arryn": 6,
            "house-baratheon": 1,
            "house-bolton": 15,
            "brotherhood-without-banners": 14,
            "free-folk": 13,
            "house-frey": 7,
            "house-greyjoy": 8,
            "house-lannister": 9,
            "house-martell": 17,
            "nights-watch": 12,
            "house-stark": 4,
            "house-targaryen": 5,
            "house-tully": 10,
            "house-tyrell": 11
        };
    i.exports = Chaplin.Controller.extend({
        beforeAction: function(e, i) {
            var u = new n,
                m = null,
                f = "S" + u.get("season_id") + "E" + u.get("episode_number");
            i.path && (i.path.match(/houses$/) ? (m = new l({
                section2: "houses",
                section3: f,
                contentType: "houses landing",
                contentName: "",
                extras: null
            }), m.fire()) : i.path.match(/people$/) ? (m = new l({
                section2: "people",
                section3: f,
                contentType: "people landing",
                contentName: "",
                extras: null
            }), m.fire()) : i.path.match(/histories$/) && (m = new l({
                section2: "histories",
                section3: f,
                contentType: "histories landing",
                contentName: "",
                extras: null
            }), m.fire())), _.isEmpty(e) || e.name && !e.id && (e.name in h && (console.log(e.name, e.id, h[e.name]), e.id = h[e.name]), e.name in d && (console.log(e.name, e.id, d[e.name]), e.id = d[e.name]), e.name in p && (console.log(e.name, e.id, p[e.name]), e.id = p[e.name]));
            var g = $("body"),
                v = $("html").css("font-family").replace(new RegExp("'", "g"), "").replace(new RegExp('"', "g"), "");
            window.device = v, g.addClass(v);
            var w = function(e, t) {
                setTimeout(function() {
                    Chaplin.mediator.publish(e, t)
                }, 50), window.device = t
            };
            g.toggleClass("no-touch", !("ontouchstart" in document.documentElement)), $(window).off("resize").off("snapscroll.endscroll").off("scroll.snapscroll").off("resize.snapscroll"), $("body").off("mousewheel"), $(window).on("resize", function() {
                var e = $("html").css("font-family").replace(new RegExp("'", "g"), "").replace(new RegExp('"', "g"), "");
                v != e && (g.removeClass(e).addClass(v), v = e, w("device:change", e))
            });
            var b = /android/i.test(navigator.userAgent.toLowerCase()),
                y = /iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase());
            window.mobile = b ? "android" : y ? "ios" : !1;
            var u = new n;
            u.get("season_colors") && (window.scolor = u.get("season_colors"));
            var x = !1;
            if (e.eid && e.sid) {
                var k = parseInt(e.eid.split("-")[1]),
                    S = parseInt(e.sid.split("-")[1]);
                if (u.get("episode_number") !== k || u.get("season_number") !== S) {
                    var T = Chaplin.Application.seasons;
                    c(S) && (S = _.last(T.get("seasons")).id, k = _.last(T.get("seasons")[parseInt(S) - 1].episodes).episode_number);
                    var C = _.findWhere(T.get("seasons"), {
                            season_number: S
                        }),
                        E = _.findWhere(C.episodes, {
                            episode_number: k
                        });
                    u.set({
                        episode_number: k,
                        season_number: S,
                        id: E.id,
                        season_id: C.id,
                        season_colors: C.season_colors
                    }), x = !0;
                    var A = C.season_colors.color1;
                    window.scolor = C.season_colors, Chaplin.mediator.publish("styles:rerender"), $(".side-nav-container .bg-scolored, .nav-container .bg-scolored").css("background-color", A), $(".side-nav-container .scolored, .nav-container .scolored").css("color", A)
                }
            }
            this.reuse("site", a);
            var M = t("models/languages-collection"),
                L = {
                    Facebook: "sprites-social-icon-fb",
                    Tumblr: "sprites-social-icon-tu",
                    Twitter: "sprites-social-icon-tw",
                    YouTube: "sprites-social-icon-yt",
                    Instagram: "sprites-social-icon-in"
                },
                D = u.get("social_links");
            for (var P in L) {
                if (!D) break;
                for (var I = 0; I < D.length; I++) D[I].title === P && (D[I].icon = L[P], D[I].hover = L[P] + "-white")
            }
            u.set("social_links", D);
            var z = new r({
                episode_id: u.get("id"),
                episode_number: u.get("episode_number"),
                season_number: u.get("season_number"),
                lang: u.get("lang"),
                lang_name: M.findWhere({
                    name: u.get("lang")
                }).get("displayName"),
                languages: M.toJSON(),
                menu_links_title: u.get("menu_links_title"),
                menu_links: u.get("menu_links"),
                social_links_title: u.get("social_links_title"),
                social_links: u.get("social_links"),
                sync: function() {}
            });
            u.get("hodorize") && z.set("lang_name", "Hodor"), "splash" !== i.action && (u.get("id") || Chaplin.utils.redirectTo("home#splash"), this.reuse("header", s, {
                region: "header",
                url: "seasons",
                seasonModel: Chaplin.Application.seasons,
                model: z
            }), this.reuse("side", o, {
                region: "side",
                model: z
            })), x && Chaplin.mediator.publish("navbar:update")
        }
    })
}), require.register("controllers/home-controller", function(e, t, i) {
    var n = t("lib/omniture-module"),
        a = t("mediator"),
        s = t("models/base/model"),
        o = t("models/cookie-model"),
        r = t("models/base/collection"),
        l = t("controllers/base/controller"),
        c = t("lib/mapbase"),
        h = (t("lib/leaflet-064"), t("lib/snowfall.jquery"), t("lib/jquery.scroll_to"), t("views/home/hero-view")),
        d = t("views/home/inside-view"),
        p = t("views/home/quote-view"),
        u = t("views/home/people-view"),
        m = t("/views/home/explore-view"),
        f = t("views/home/home-page-view"),
        g = t("views/home/galleries-view"),
        v = t("views/splash/splash-page-view"),
        w = t("views/home/locations-view"),
        b = t("views/splash/splash-cards-view"),
        y = t("views/splash/splash-slider-collection-view"),
        x = t("views/home/footer-view"),
        k = t("views/home/nav-view"),
        S = t("views/home/side-nav-view"),
        T = t("views/home/error-view"),
        C = t("models/lists/season-model"),
        E = t("models/map/episodic-model"),
        A = (t("models/lists/gallery-model"), t("models/lists/episode-model")),
        M = t("models/lists/explore-model"),
        s = t("models/base/model"),
        D = t("lib/utils"),
        P = !1;
    i.exports = l.extend({
        error: function() {
            P = !0;
            var e = this;
            setTimeout(function() {
                P = !1
            }, 0);
            var t = new o;
            Chaplin.mediator.publish("loader:show");
            var i = new C;
            i.fetch({
                success: function(i) {
                    i = new r(_.filter(i.get("seasons"), function(e) {
                        return e.episodes.length > 0
                    }));
                    var a = _.last(_.where(_.last(i.models).get("episodes"), {
                        locked: "0"
                    }));
                    t.set({
                        season_number: a.season_number,
                        season_id: a.season_id,
                        episode_number: a.episode_number,
                        season_color: a.season_color,
                        id: a.id
                    });
                    var o = new T({
                        region: "main"
                    });
                    $("a").on("click.dipose-error-view", function() {
                        $(this).hasClass("episode-selector") || $(this).hasClass("navbar-item-settings") || $(this).hasClass("tablet-up") || (o.dispose(), $("a").off("click.dispose-error-view"))
                    }.bind(e));
                    var l = new s({
                        episode_id: t.get("id"),
                        episode_number: t.get("episode_number"),
                        season_number: t.get("season_number"),
                        lang: t.get("lang"),
                        lang_name: languages.findWhere({
                            name: t.get("lang")
                        }).get("displayName"),
                        languages: languages.toJSON(),
                        menu_links_title: t.get("menu_links_title"),
                        menu_links: t.get("menu_links"),
                        social_links_title: t.get("social_links_title"),
                        social_links: t.get("social_links"),
                        sync: function() {}
                    });
                    e.reuse("header", k, {
                        region: "header",
                        url: "seasons",
                        seasonModel: Chaplin.Application.seasons,
                        model: l
                    }), e.reuse("side", S, {
                        region: "side",
                        model: l
                    }), $(".side-nav-container .bg-scolored, .nav-container .bg-scolored").css("background-color", t.get("season_color")), $(".side-nav-container .scolored, .nav-container .scolored").css("color", t.get("season_color"));
                    var c = new n({
                        section2: "error page",
                        section3: "404 page not found",
                        contentType: null,
                        contentName: null,
                        extras: null
                    });
                    c.fire(), Chaplin.mediator.publish("loader:hide")
                },
                error: function() {},
                data: _.merge({
                    id: t.get("id")
                }, t.requestData()),
                jsonpCallback: "seasons_splash",
                url: Chaplin.Application.getServiceUrl("seasons")
            })
        },
        splash: function(e) {
            if (!P) {
                P = !1;
                var i = new o;
                if (!e.temporary && i.get("id")) return void Chaplin.utils.redirectTo("home#home", {
                    id: i.get("id"),
                    sid: "season-" + i.get("season_number"),
                    eid: "episode-" + i.get("episode_number")
                });
                var l = this,
                    c = t("models/languages-collection"),
                    h = new s({
                        splash_title: "THE VIEWER'S GUIDE",
                        hbo_logo: "hbo_logo_" + i.get("lang") + ".png",
                        got_logo: "got_logo_" + i.get("lang") + ".png",
                        lang: i.get("lang"),
                        lang_name: c.findWhere({
                            name: i.get("lang")
                        }).get("name"),
                        languages: c.toJSON()
                    });
                this.view = new v({
                    region: "main",
                    model: h
                }), $("body").removeClass("side-nav-opened").addClass("hide-nav");
                var d = new r(null, {
                    model: A
                });
                d.fetch({
                    success: function(e) {
                        D.requestMetaData("last-episodes"), a.publish("splash:showepisodes"), $(".splash-page").data(e.first().get("season_colors")), l.view.subview("slider", new y({
                            region: "slider",
                            collection: e
                        }))
                    },
                    data: i.requestData(),
                    url: Chaplin.Application.getServiceUrl("last_episodes")
                }), Chaplin.mediator.publish("loader:show");
                var p = new C;
                p.fetch({
                    success: function(e) {
                        e = new r(_.filter(e.get("seasons"), function(e) {
                            return e.episodes.length > 0
                        })), window.scolor = e.last().get("season_colors"), Chaplin.mediator.publish("styles:rerender"), _.each(e.models, function(e) {
                            _.each(e.attributes.episodes, function(e) {
                                "boolean" != typeof e.locked && (e.locked = parseInt(e.locked)), e.season_id < i.attributes.season_id ? e.spoiler = !1 : e.season_id == i.attributes.season_id ? e.id < i.attributes.id ? e.spoiler = !1 : e.id == i.attributes.id ? e.currently_viewing = !0 : (e.spoiler = !0, e.currently_viewing = !1) : e.spoiler = !0
                            })
                        });
                        var t = {
                            title: "",
                            description: ""
                        };
                        l.view.subview("archived", new b({
                            region: "footer",
                            collection: e,
                            header: t
                        })), Chaplin.mediator.publish("cards:setSeason", 4);
                        var n = _.last(_.where(_.last(e.models).get("episodes"), {
                            locked: 0
                        }));
                        n.season_number && n.episode_number && $(".bottom ul a").each(function() {
                            var e = $(this).attr("href"),
                                t = e.replace(/season-4/, "season-" + n.season_number).replace(/episode-10/, "episode-" + n.episode_number);
                            $(this).attr("href", t)
                        })
                    },
                    error: function() {},
                    data: _.merge({
                        id: i.get("id")
                    }, i.requestData()),
                    jsonpCallback: "seasons_splash",
                    url: Chaplin.Application.getServiceUrl("seasons")
                }), $("title").text("Game of Thrones Viewer's Guide");
                var u = new n({
                    section2: "home",
                    section3: null,
                    contentType: null,
                    contentName: null,
                    extras: null
                });
                u.fire()
            }
        },
        showsplash: function() {
            Chaplin.utils.redirectTo("home#splash", {
                temporary: !0
            })
        },
        home: function(e) {
            Chaplin.mediator.publish("loader:show");
            var i = new o,
                l = {
                    id: i.get("id"),
                    season_id: i.get("season_id")
                };
            $("body").removeClass("hide-nav"), e.id && i.set("id", e.id);
            var v = t("models/languages-collection"),
                b = (v.findWhere({
                    name: i.get("lang")
                }).get("name").toLowerCase(), new s({
                    hbo_logo: "hbo_logo_" + i.get("lang") + ".png",
                    got_logo: "got_logo_" + i.get("lang") + ".png",
                    menu_links: i.get("menu_links")
                }));
            this.view = new f({
                region: "main"
            });
            var y = this,
                k = new s,
                S = new s,
                T = new r(null, {
                    model: M
                }),
                C = new r(null, {
                    model: E
                }),
                A = new r(null, {
                    model: E
                });
            this.view.subview("footer", new x({
                region: "footer",
                model: b
            })), k.fetch({
                error: function() {
                    var e = i.get("lang");
                    i.removeCookie(), i.clear(), i.set("lang", e), Chaplin.utils.redirectTo("home#splash")
                },
                success: function(t) {
                    var o = "Game of Thrones Viewer's Guide",
                        c = i.get("season_id"),
                        f = i.get("episode_number"),
                        v = " - Season " + c + ", Episode " + f;
                    o += v, $("title").html(o), D.addMetaData(t.get("meta_data"));
                    var b = t.get("episode");
                    if (b.splash_hash && i.get("splash_hash") && b.splash_hash !== i.get("splash_hash")) {
                        var x = i.get("lang"),
                            E = i.has("spoilerAlerts") ? i.get("spoilerAlerts") : -1;
                        return i.removeCookie(), i.clear(), i.set("lang", x), -1 !== E && i.set("spoilerAlerts", E), void Chaplin.utils.redirectTo("home#splash")
                    }(Number(l.id) !== Number(b.id) || Number(l.season_id) !== Number(b.season_id)) && (i.set(b), l = {}), i.set(b), a.publish("navbar:update");
                    var M = b.season_colors.color1;
                    window.scolor = b.season_colors, Chaplin.mediator.publish("styles:rerender"), $(".side-nav-container .bg-scolored, .nav-container .bg-scolored").css("background-color", M), $(".side-nav-container .scolored, .nav-container .scolored").css("color", M), a.unsubscribe("home:heroloaded").subscribe("home:heroloaded", function() {
                        var t = 0;
                        _.each(k.get("sections"), function(e) {
                            t++;
                            var i = "region" + t;
                            if (y.view) switch (y.view.registerRegion(i, ".home-" + i), e.name) {
                                case "inside":
                                    y.view.$el.find("#explore").before('<section id="inside' + t + '" class="inside scrollAnchor home-' + i + '"></section>');
                                    var n = new s;
                                    n.set(e.data), y.view.subview("inside" + t, new d({
                                        region: i,
                                        model: n
                                    }));
                                    break;
                                case "quote":
                                    y.view.$el.find("#explore").before('<section id="quote' + t + '" class="quote home-' + i + '"></section>');
                                    var a = new s;
                                    a.set(e.data), y.view.subview("quote" + t, new p({
                                        region: i,
                                        model: a
                                    }));
                                    break;
                                case "locations":
                                    y.view.$el.find("#explore").before('<section id="locations' + t + '" class="locations scrollAnchor home-' + i + '"></section>');
                                    var o = new s;
                                    if (o.set(e.data), C.add(o.get("locations")), A.add(C.filter(function(e) {
                                            return !e.has("type") || 4 !== e.get("type")
                                        })), A.models.length) {
                                        var r = new w({
                                            region: i,
                                            model: o,
                                            collection: A
                                        });
                                        y.view.subview("locations" + t, r), r.renderAllItems()
                                    }
                                    break;
                                case "people":
                                    y.view.$el.find("#explore").before('<section id="people' + t + '" class="people scrollAnchor home-' + i + '"></section>');
                                    var l = new s;
                                    l.set(e.data), y.view.subview("people" + t, new u({
                                        region: i,
                                        model: l
                                    }));
                                    break;
                                case "galleries":
                                    y.view.$el.find("#explore").before('<section id="galleries' + t + '" class="galleries scrollAnchor home-' + i + '"></section>');
                                    var c = new s,
                                        h = {};
                                    for (var m in e.data) h[m] = e.data[m];
                                    h.galleries = e.data.galleries.slice(0), c.set(h), y.view.subview("galleries" + t, new g({
                                        region: i,
                                        model: c
                                    }))
                            }
                        }), T.add(_.map(k.get("explore").promo_images, function(e) {
                            return "articles" == e.type && (e.type = "appendix"), e.link = e.type ? e.type + "#index" : null, e
                        }));
                        var i = Chaplin.Application.seasons,
                            n = {
                                title: i.get("title"),
                                description: i.get("description")
                            };
                        i = new r(_.filter(i.get("seasons"), function(e) {
                            return e.episodes.length > 0
                        })), y.view.subview("explore", new m({
                            region: "explore",
                            exploreEpisodes: i,
                            header: n,
                            model: new s(k.get("explore")),
                            exploreItems: T
                        })), D.removeExtraImages(!0);
                        var o = _.find(["inside", "people", "locations", "galleries", "explore"], function(t) {
                            return t == e.section
                        });
                        if (o) {
                            var l = y.view.$el.find("." + o + ".scrollAnchor"),
                                c = l.offset().top - 30;
                            $.scrollTo(c), setTimeout(function() {
                                var e = l.offset().top - 30;
                                $.scrollTo(e)
                            }, 100)
                        }
                        a.publish("home:loaded")
                    }), S.set(_.merge(k.get("hero"), {
                        season: b.season_number,
                        episode: b.episode_number
                    })), y.view.subview("hero", new h({
                        region: "hero",
                        model: S
                    }));
                    var L = new n({
                        section2: "episodes",
                        section3: "S" + b.season_number + "E" + b.episode_number,
                        contentType: null,
                        contentName: null,
                        extras: null
                    });
                    L.fire()
                },
                data: _.merge({
                    id: i.get("id")
                }, i.requestData()),
                url: Chaplin.Application.getServiceUrl("episode_home")
            });
            var P = D.getViewportInstance();
            a.subscribe("home:updateviewport", function() {
                P.refresh()
            }), a.subscribe("home:viewportadd", function(e) {
                D.pushParallaxView(P, $(e))
            });
            var I = t("models/map-filters-collection");
            a.unsubscribe("home:locations-init"), a.subscribe("home:locations-init", function(e) {
                if (e.el) {
                    map = new c(e.el, {
                        mapMinZoom: 8,
                        mapMaxZoom: 8,
                        filtersCollection: I,
                        mapOptions: {
                            dragging: !1,
                            zoomControl: !1,
                            scrollWheelZoom: !1,
                            bounceAtZoomLimits: !0,
                            touchZoom: !1,
                            doubleClickZoom: !1,
                            boxZoom: !1,
                            tap: !1
                        }
                    }), map.markers.clearLayers(), _.each(C.models, function(e) {
                        var t = e.get("title");
                        i.get("hodorize") && (t = t.replace(/\w+/g, "Hodor"));
                        var n = (e.hasImg() ? '<div class="small-location-image"><img src="' + Chaplin.Application.imagesUrl + "large" + e.get("img") + '" alt="" /></div>' : "") + '<div class="text-wrapper">' + t + "</div>";
                        map.addMarker(e, map.markers, !1, n, 136)
                    }), map.markers.addTo(map), map.markers.eachLayer(function(e) {
                        e.options.type = 0, e.options.active = !0, map.setMarkerIcon(e, e.options.active, e.options.color)
                    }), $(map.getContainer()).on("click", function() {
                        map.markers.eachLayer(function(e) {
                            e.options.active && Chaplin.utils.redirectTo("map#location", {
                                sid: "season-" + i.get("season_number"),
                                eid: "episode-" + i.get("episode_number"),
                                id: parseInt(e.options.location_id),
                                name: e.options.title.toLowerCase().replace(/ /g, "-").replace(/[, \""]/g, "")
                            })
                        })
                    });
                    var t = $(".slider ul.locations-slider li.location-item");
                    t.length > 0 && Chaplin.mediator.publish("home:locations-slide", t.first())
                }
            }), a.unsubscribe("home:locations-slide").subscribe("home:locations-slide", function(e) {
                map.closePopup(), e = e.find("h1");
                var t = e.data("latlng") ? e.data("latlng").split(",") : !1;
                if (t && t[0] && t[1]) {
                    var i = L.latLng(t),
                        n = (e.data("type"), i.lat),
                        a = i.lng,
                        s = map.getBounds().getNorth() - map.getBounds().getSouth(),
                        o = map.getBounds().getEast() - map.getBounds().getWest();
                    i.lat + s / 2 >= map.options.mapBounds.getNorth() && (n = map.options.mapBounds.getNorth() - s / 2), i.lat - s / 2 <= map.options.mapBounds.getSouth() && (n = map.options.mapBounds.getSouth() + s / 2), i.lng + o / 2 >= map.options.mapBounds.getEast() && (a = map.options.mapBounds.getEast() - o / 2), i.lng + o / 2 <= map.options.mapBounds.getWest() && (a = map.options.mapBounds.getWest() + o / 2), i.lat = n, i.lng = a, map.setView(i, 8, {
                        pan: {
                            animate: !0,
                            duration: 1.5,
                            easeLinearity: 1,
                            noMoveStart: !0
                        }
                    }), map.markers.eachLayer(function(t) {
                        t.options.location_id == e.data("id") ? (t.options.active = !0, ~window.device.indexOf("mobile") || t.openPopup()) : t.options.active = !1
                    })
                }
            }), Chaplin.mediator.unsubscribe("video:play"), Chaplin.mediator.subscribe("video:play", function(e) {
                var t = new n({
                    section2: "episodes",
                    section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                    contentType: "video",
                    contentName: "Game of Thrones:" + e,
                    extras: "video"
                });
                t.fireEvent("Video Tracking")
            }), Chaplin.mediator.unsubscribe("share:omniture"), Chaplin.mediator.subscribe("share:omniture", function(e) {
                var t = new n({
                    section2: "episodes",
                    section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                    contentType: null,
                    contentName: null,
                    extras: e
                });
                t.fireEvent("Event Tracking")
            }), Chaplin.mediator.subscribe("home:actionarticle", function(e) {
                if ("Watch on HBO GO" == e.text) {
                    var t = new n({
                        section2: "home",
                        section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                        contentType: "hbogo",
                        contentName: "Game of Thrones: HBO GO Link",
                        extras: "hbo"
                    });
                    t.fireEvent("Event Tracking")
                } else if ("Read the Synopsis" === e.text) {
                    var t = new n({
                        section2: "home",
                        section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                        contentType: "synopsis",
                        contentName: "Game of Thrones: " + e.text,
                        extras: null
                    });
                    t.fireEvent("Event Tracking")
                }
            }), a.unsubscribe("home:galleryinteract"), a.subscribe("home:galleryinteract", function() {
                var e = new n({
                    section2: "episodes",
                    section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                    contentType: "gallery",
                    contentName: "Game of Thrones: Gallery View",
                    extras: null
                });
                e.fire(), a.unsubscribe("home:galleryinteract")
            }), a.subscribe("global-episodes:toggleSpoiler", function(e) {
                var t = $(e.currentTarget).hasClass("on") ? "on" : "off",
                    a = new n({
                        section2: "episodes",
                        section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                        contentType: "toggleSpoiler",
                        contentName: "Game of Thrones: Spoilers Toggled",
                        extras: t
                    });
                a.fire()
            }), $(".explore").css("display", "block")
        }
    })
}), require.register("controllers/houses-controller", function(e, t, i) {
    var n = t("lib/omniture-module"),
        a = t("controllers/base/controller"),
        s = t("models/base/collection"),
        o = t("models/base/model"),
        r = t("mediator"),
        l = t("models/cookie-model"),
        c = t("lib/utils"),
        h = (t("lib/jquery.scroll_to"), t("lib/jquery.snapscroll"), t("models/lists/house-model")),
        d = t("models/lists/house-tree"),
        p = t("views/houses/houses-view"),
        u = t("views/houses/push-in-view"),
        m = t("views/houses/landing-view"),
        f = t("views/houses/description-view"),
        g = t("views/houses/tree-view"),
        v = t("views/houses/bumper-view");
    i.exports = a.extend({
        index: function(e) {
            {
                var t = new l,
                    i = e.id,
                    a = null,
                    w = null,
                    b = this,
                    y = new o;
                $(".global-nav").height()
            }
            this.view = new p({
                region: "main"
            });
            var x = new s(null, {
                model: h
            });
            Chaplin.mediator.publish("loader:show", {
                backgroundColor: "#efefef"
            }), $("body").removeClass("hide-nav");
            var k = function() {
                if ($(".spoiler-guard").length > 0) return void Backbone.history.navigate(w);
                var e = $(window).scrollTop(),
                    t = $(".houses.description").length ? $(".houses.description").position().top - 10 : 0,
                    i = e < Math.floor(t) ? a : w,
                    n = (i.substr(1), Backbone.history.fragment),
                    s = {
                        trigger: !1,
                        replace: !0
                    };
                0 !== e && null !== n.match(/\/houses(\/|$)/) && (n != a.substr(1) && i != a && (s.replace = !1), e <= Math.floor(t) ? $(".global-nav").addClass("initial") : $(".global-nav").removeClass("initial"), Backbone.history.navigate(i, s))
            };
            x.fetch({
                success: function(e) {
                    c.requestMetaData("houses-list"), b.view.subview("push-in-nav", new u({
                        region: "pushinnav",
                        collection: e,
                        model: new o,
                        loadItem: function() {}
                    })), r.publish("houses:setactivelistitem", e.first().id), i || setTimeout(function() {
                        Chaplin.mediator.publish("loader:hide")
                    }, 1e3)
                },
                data: t.requestData(),
                url: Chaplin.Application.getServiceUrl("houses-list")
            }), Chaplin.mediator.unsubscribe("house:load"), Chaplin.mediator.subscribe("house:load", function(e) {
                var s = new h,
                    o = new d;
                s.id = e.id, o.id = e.id, e.silent && (s.set("silent_loaded", !0), o.set("silent_loaded", !0)), i && (s.set("house_id", i), o.set("house_id", i)), e.silent || Chaplin.mediator.publish("loader:show", {
                    blocked: i && !e.tree ? !0 : !1,
                    backgroundColor: "#efefef"
                }), e.tree && (o.set("scrollToTree", !0), s.set("scrollToTree", !0)), s.fetch({
                    data: _.merge({
                        id: s.id
                    }, t.requestData()),
                    url: Chaplin.Application.getServiceUrl("house"),
                    success: function(i) {
                        if (!i.has("name")) return void Chaplin.mediator.publish("loader:hide");
                        var l = i.get("name"),
                            h = (t.get("season_id"), t.get("episode_number"), "Game of Thrones Viewer's Guide"),
                            d = " - " + l,
                            p = " - Houses";
                        h += e.defaultId ? p : d, $("title").html(h);
                        var u = l + ", Game of Thrones, Viewer's Guide",
                            m = $("<meta>").attr({
                                name: "keywords",
                                content: u
                            });
                        $("meta[name=keywords]").remove(), $("head").prepend(m);
                        var y = l + " is a house in Game of Thrones. Explore their history on the Game of Thrones Viewer's Guide.",
                            x = $("<meta>").attr({
                                name: "description",
                                content: y
                            });
                        $("meta[name=description]").remove(), $("head").prepend(x), c.addMetaData(i.get("meta_data")), r.publish("houses:setactivelistitem", s.id), r.publish("pushnav:updateshare", {
                            fb: c.getShare("houses", "fb", l, l),
                            tb: c.getShare("houses", "tb", l, l),
                            tw: c.getShare("houses", "tw", l)
                        });
                        var S = new n({
                            section2: "houses",
                            section3: "S" + t.get("season_id") + "E" + t.get("episode_number"),
                            contentType: "house",
                            contentName: "Game of Thrones:" + l,
                            extras: null
                        });
                        S.fire(), a = Handlebars.helpers.url("houses#index"), w = Handlebars.helpers.url("houses#index", i.id, l, {
                            data: {
                                first: !0
                            }
                        }), k(), $(window).on("scroll.scrollurl", k);
                        if (i.has("description")) {
                            var T = new f({
                                region: "description",
                                model: i
                            });
                            (!i.get("silent_loaded") || i.get("house_id")) && (i.get("scrollToTree") || r.publish("houses:snaptoim", 1)), b.view.subview("description", T), (!i.get("silent_loaded") || i.get("house_id")) && (i.get("scrollToTree") || (r.publish("houses:snaptoim", 1), Chaplin.mediator.publish("loader:hide", {
                                blocked: !1
                            })))
                        } else Chaplin.mediator.publish("loader:hide");
                        o.fetch({
                            data: _.merge({
                                id: o.id
                            }, t.requestData()),
                            url: Chaplin.Application.getServiceUrl("house/tree"),
                            success: function(e) {
                                console.log("fetched a tree!"), c.addMetaData(i.get("meta_data"));
                                for (var a = o.get("tree"), s = 0; s < a.length; s++)
                                    for (var r = 0; r < a[s].characters.length; r++) {
                                        var l = a[s].characters[r];
                                        if (l.past_relationships && l.past_relationships.length > 0)
                                            for (var h = 0; h < l.past_relationships.length; h++) {
                                                var d = l.past_relationships[h];
                                                ! function(e) {
                                                    $.ajax({
                                                        type: "GET",
                                                        url: Chaplin.Application.getServiceUrl("character"),
                                                        data: {
                                                            id: d.character,
                                                            episode_id: 40,
                                                            lang: 1
                                                        },
                                                        dataType: "jsonp",
                                                        success: function(t) {
                                                            t = _.extend({
                                                                id: this.url.substring(this.url.indexOf("id=") + 3, this.url.indexOf("&", this.url.indexOf("id=") + 1))
                                                            }, t), Chaplin.mediator.publish("pastrelations:loaded", t, e.character)
                                                        }
                                                    })
                                                }(l, b)
                                            }
                                    }
                                console.log("making a treevkew now"), b.view.subview("tree", new g({
                                    region: "tree",
                                    houseModel: i,
                                    tree: e.get("tree"),
                                    blocks: e.get("additionalBlocks")
                                }));
                                var p = i.get("name"),
                                    u = new n({
                                        section2: "houses",
                                        section3: "S" + t.get("season_id") + "E" + t.get("episode_number"),
                                        contentType: "house tree view",
                                        contentName: "Game of Thrones:" + p,
                                        extras: null
                                    });
                                u.fire()
                            }
                        }), b.view.subview("bumper", new v({
                            region: "bumper",
                            model: i
                        }))
                    },
                    error: function() {
                        Chaplin.mediator.publish("loader:hide", {
                            blocked: !1
                        })
                    }
                })
            });
            var S = function() {
                    T && Chaplin.mediator.publish("house:load", {
                        id: T,
                        silent: !1
                    })
                },
                T = e.id;
            y.fetch({
                success: function(e) {
                    c.addMetaData(e.get("meta_data")), b.view.subview("landing", new m({
                        region: "landing",
                        collection: new s(y.get("houses")),
                        pageProp: {
                            grid: y.get("grid"),
                            title: y.get("title"),
                            subtitle: y.get("subtitle")
                        },
                        model: new o({
                            house_id: T
                        })
                    })), S()
                },
                error: function() {
                    S()
                },
                data: t.requestData(),
                url: Chaplin.Application.getServiceUrl("houses-landing")
            }), r.unsubscribe("houses:snapto").subscribe("houses:snapto", function() {}), r.unsubscribe("houses:snaptoim").subscribe("houses:snaptoim", function() {
                var e = $(".houses.description").position().top - 10;
                $("html,body").scrollTop(e)
            });
            var C = this.view.$el.find(".houses");
            r.unsubscribe("window:scrolled").subscribe("window:scrolled", function(e) {
                $(".spoiler-guard").length > 0 || C.each(function() {
                    $house = $(this);
                    var t = $house.position().top,
                        i = $house.find(".background-layer");
                    if (i.length) {
                        var n = navigator.userAgent.indexOf("MSIE") > -1 || navigator.userAgent.indexOf("Trident/7.0") > -1 ? 0 : e - t;
                        i[0].style[c.transform] = "translate3d(0, " + n + "px, 0)"
                    }
                })
            }), Chaplin.mediator.unsubscribe("video:play"), Chaplin.mediator.subscribe("video:play", function(e) {
                var i = new n({
                    section2: "houses",
                    section3: "S" + t.get("season_id") + "E" + t.get("episode_number"),
                    contentType: "video",
                    contentName: "Game of Thrones:" + e,
                    extras: "video"
                });
                i.fireEvent("Video Tracking")
            }), Chaplin.mediator.unsubscribe("share:omniture"), Chaplin.mediator.subscribe("share:omniture", function(e) {
                var i = new n({
                    section2: "houses",
                    section3: "S" + t.get("season_id") + "E" + t.get("episode_number"),
                    contentType: null,
                    contentName: null,
                    extras: e
                });
                i.fireEvent("Event Tracking")
            })
        }
    })
}), require.register("controllers/map-controller", function(e, t, i) {
    var n = t("lib/omniture-module"),
        a = (t("lib/leaflet-064"), t("lib/mapbase")),
        s = t("lib/control.minimap"),
        o = (t("lib/leaflet.edgemarker"), t("controllers/base/controller")),
        r = (t("views/home/nav-view"), t("views/map/map-main-view")),
        l = t("views/map/map-episodic-view"),
        c = t("views/map/map-takeover-view"),
        h = t("models/base/collection"),
        d = t("models/map/episodic-model"),
        p = (t("lib/jquery.glide"), t("mediator")),
        u = t("models/cookie-model"),
        m = t("views/map/templates/popup"),
        f = t("lib/utils");
    i.exports = o.extend({
        location: function(e) {
            this.index(e.id)
        },
        index: function(e) {
            "object" != typeof e || e.length ? e.toString().length || (e = null) : e = null;
            var i = new u,
                o = this;
            $("body").removeClass("hide-nav"), this.view = new r({
                region: "main"
            });
            var g = new h(null, {
                    model: d
                }),
                v = 6,
                w = 8,
                b = 1,
                y = 2.678,
                x = t("models/map-filters-collection"),
                k = /android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());
            k = k && /mobile/i.test(navigator.userAgent.toLowerCase()), Chaplin.mediator.publish("loader:show"), g.fetch({
                success: function(t) {
                    if (t.models.length) {
                        var n, a = t.models[0].get("episode_color");
                        C.markers.clearLayers(), C.miniMarkers.clearLayers();
                        var r = null,
                            c = !1,
                            h = !1;
                        "undefined" == typeof e || null == e ? (e = _.find(t.models, function(e) {
                            return e.has("panel") && e.get("panel").length && e.get("latlng").length
                        }), e ? (h = !0, e = e.get("id")) : e = t.models[0].get("id")) : (c = !0, n = t.findWhere({
                            id: parseInt(e)
                        }), n && n.has("panel") && n.get("panel").length && (h = !0)), _.each(t.models, function(t) {
                            var n, a = t.get("title");
                            i.get("hodorize") && (a = a.replace(/\w+/g, "Hodor")), n = m({
                                img: t.get("img"),
                                title: a,
                                text: t.get("text"),
                                takeover: t.get("takeover"),
                                id: t.get("id")
                            }), e == t.get("id") ? r = C.addMarker(t, C.markers, !1, n) : C.addMarker(t, C.markers, !1, n), C.addMarker(t, C.miniMarkers, !0)
                        });
                        var d = n ? n.get("location_name") : "Map",
                            u = (i.get("season_id"), i.get("episode_number"), "Game of Thrones Viewer's Guide - " + d);
                        n || (u = "Game of Thrones Viewer's Guide - Map"), $("title").html(u);
                        var g = d + ", Game of Thrones, Viewer's Guide",
                            v = $("<meta>").attr({
                                name: "keywords",
                                content: g
                            });
                        $("meta[name=keywords]").remove(), $("head").prepend(v);
                        var b = d + " is a location in Game of Thrones. Explore its history on the Game of Thrones Viewer's Guide.",
                            y = $("<meta>").attr({
                                name: "description",
                                content: b
                            });
                        $("meta[name=description]").remove(), $("head").prepend(y), f.addMetaData(t.get("meta_data")), o.view.subview("episodic", new l({
                            region: "episodic",
                            collection: t,
                            filters: x
                        }))
                    }
                    if (C.markers.addTo(C), T = new s(A, {
                            toggleDisplay: !0
                        }), T.addTo(C), T._miniMap.fitBounds(E), C.miniMarkers.addTo(T._miniMap), k ? Chaplin.mediator.publish("loader:hide") : (h && p.publish("map:openpanel"), t.models.length ? p.publish("map:setcategory", 0) : Chaplin.mediator.publish("loader:hide")), c && C.setZoom(w, {
                            animate: !1
                        }), "undefined" != typeof e && r) {
                        if (r.openPopup(), C.setActiveMarker(r), k) {
                            var S = C.project(r.getLatLng());
                            S.y = S.y - 40, setTimeout(function() {
                                C.setView(C.unproject(S), c ? w : C.getZoom(), {
                                    animate: !1
                                })
                            }, 300)
                        } else setTimeout(function() {
                            C.setView(r.getLatLng(), c ? w : C.getZoom(), {
                                animate: !1
                            })
                        }, 300);
                        C.invalidateSize()
                    }
                    I(C.getZoom()), L.edgeMarker({
                        radius: 12.5,
                        color: a,
                        fillColor: a,
                        offsetX: 17,
                        offsetY: 17,
                        arrowOffset: 4
                    }).addTo(C), M()
                },
                data: i.requestData(),
                url: Chaplin.Application.getServiceUrl("episodic")
            }), this.view.subview("takeover", new c({
                region: "takeover"
            })), $("#map").height($(window).height() - $(".global-nav").height()), $("#site-container").addClass("clearfix"), $(".map-index").css({
                position: "fixed",
                left: 0,
                top: $(".global-nav").height(),
                width: "100%"
            }).css("margin-top", "0px");
            var S = /ipad/i.test(navigator.userAgent.toLowerCase());
            S = S && /os 7/i.test(navigator.userAgent.toLowerCase()), S && "desktop" == window.device && $("#map").height($("#map").height() - 20);
            var T, C = new a(document.getElementById("map"), {
                    mapMinZoom: v,
                    mapMaxZoom: w,
                    mapPanDuration: b,
                    miniMapZoomLevel: y,
                    filtersCollection: x,
                    mapOptions: {}
                }),
                E = new L.LatLngBounds(C.unproject([0, 130], y), C.unproject([200, 0], y)),
                A = new L.tileLayer(Chaplin.Application.assetsUrl + "mini/y{y}x{x}.png", {
                    minZoom: y,
                    maxZoom: y,
                    bounds: E,
                    noWrap: !0
                }),
                M = function() {
                    k ? (C.zoomControl.setPosition("bottomright"), C.markers.eachLayer(function(e) {
                        C.setMarkerIcon(e)
                    })) : C.zoomControl.setPosition("bottomleft"), C.getZoom() == v && $(".leaflet-control-zoom-out").addClass("leaflet-disabled"), C.getZoom() == w && $(".leaflet-control-zoom-in").addClass("leaflet-disabled")
                };
            $(window).on("resize", function() {
                $("#map").height($(window).height() - $(".global-nav").height()), S && "desktop" == window.device && $("#map").height($("#map").height() - 20), p.publish("map:mapwidthchange", {
                    panel: ".episodic"
                }), C.invalidateSize(), M()
            }), C.on("click", function() {
                C.closePopup()
            }), C.on("zoomend", function() {
                I(C.getZoom())
            });
            var D;
            C.on("popupopen", function(e) {
                var t = new u;
                t.get("hodorize") && f.hodorize(), D = e.popup, C.panTo(e.popup._latlng, {
                    animate: !0,
                    duration: b
                });
                var i = $(e.popup._container).find(".popup-more-btn, .image-wrapper img"),
                    n = g.findWhere({
                        id: e.popup.options.id
                    }),
                    a = $(e.popup._container).find(".text-wrapper"),
                    s = Handlebars.helpers.url("map#location", n.get("id"), n.get("title"), {
                        data: {
                            first: !0
                        }
                    });
                s.substr(1) != Backbone.history.fragment && Backbone.history.navigate(s, {
                    trigger: !1
                }), n.has("takeover") && n.get("takeover") && n.get("takeover").gallery.length ? i.show() : (i.hide(), a.css("margin-right", "19px")), p.publish("map:popupopen", n), i.on("click", function() {
                    n.get("takeover") && p.publish("takeover:open", n)
                }), $(e.popup._closeButton).on("touchend", function(e) {
                    marker.closePopup(), e.preventDefault(), e.stopPropagation()
                })
            }), C.on("popupclose", function(e) {
                e.popup.options.marker.options.popupopened = !1
            });
            var P;
            C.on("dragstart", function() {
                P = C.project(C.getCenter())
            }), C.on("drag", function() {}), p.unsubscribe("map:setmarkers").subscribe("map:setmarkers", function(e) {
                C.markers.eachLayer(function(t) {
                    C.setMarkerIcon(t), _.each(e, function(e) {
                        t.options.location_id == e.get("id") && C.setMarkerIcon(t, t.options.active, e.get("episode_color"))
                    })
                }), C.miniMarkers.eachLayer(function(t) {
                    C.setMiniMarkerIcon(t), _.each(e, function(e) {
                        t.options.location_id == e.get("id") && C.setMiniMarkerIcon(t, t.options.active, e.get("episode_color"))
                    })
                })
            }), p.unsubscribe("map:setview").subscribe("map:setview", function(e) {
                var t = e.model,
                    i = t.get("latlng");
                i[1] && i[0] && (i[0] = parseFloat(i[0]), i[1] = parseFloat(i[1]), C.panTo(t.get("latlng"), {
                    animate: !0,
                    duration: b
                })), _.each(C.popups, function(e) {
                    e.options.id == t.get("id") && (e.options.marker.options.popupopened || e.setLatLng(t.get("latlng")).openOn(C), e.options.marker.options.active || C.setActiveMarker(e.options.marker))
                })
            }), p.unsubscribe("map:mapwidthchange").subscribe("map:mapwidthchange", function(e) {
                $("#map").width(e ? $(".map-wrapper").width() - ($(e.panel).hasClass("open") && $(e.panel).is(":visible") ? $(e.panel).width() : 0) : $(".map-wrapper").width()), C.invalidateSize(!1)
            });
            var I = (L.layerGroup(), function(e) {
                    C.markers.eachLayer(function(t) {
                        var i = e - v >= t.options.majority;
                        t.options.active || $(t._icon).toggle(i)
                    })
                }),
                z = new n({
                    section2: "map",
                    section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                    contentType: null,
                    contentName: null,
                    extras: null
                });
            z.fire(), Chaplin.mediator.unsubscribe("video:play"), Chaplin.mediator.subscribe("video:play", function(e) {
                var t = new n({
                    section2: "map",
                    section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                    contentType: "video",
                    contentName: "Game of Thrones:" + e,
                    extras: "video"
                });
                t.fireEvent("Video Tracking")
            }), Chaplin.mediator.unsubscribe("share:omniture"), Chaplin.mediator.subscribe("share:omniture", function(e) {
                var t = new n({
                    section2: "map",
                    section3: "S" + i.get("season_id") + "E" + i.get("episode_number"),
                    contentType: null,
                    contentName: null,
                    extras: e
                });
                t.fireEvent("Event Tracking")
            })
        }
    })
}), require.register("controllers/people-controller", function(e, t, i) {
    {
        var n = t("lib/omniture-module"),
            a = t("controllers/base/controller"),
            s = t("models/base/collection"),
            o = t("models/base/model"),
            r = t("mediator"),
            l = t("models/cookie-model"),
            c = t("lib/mapbase"),
            h = (t("lib/leaflet-064"), t("lib/utils")),
            d = (t("lib/jquery.scroll_to"), t("lib/jquery.snapscroll"), t("models/lists/season-model"), t("views/people/people-view")),
            p = t("views/people/featured-view"),
            u = t("views/people/intro-view"),
            m = t("views/people/bio-view"),
            f = t("views/people/house-view"),
            g = t("views/people/appendix-view"),
            v = t("views/people/location-view"),
            w = t("views/people/videos-view"),
            b = t("views/people/bumper-view"),
            y = t("views/people/push-in-view"),
            x = t("models/lists/character-model");
        t("views/splash/splash-cards-view")
    }
    i.exports = a.extend({
        index: function(e) {
            var i, a = new l,
                k = e.id,
                S = null,
                T = null,
                C = new s(null, {
                    model: x
                }),
                E = new o,
                A = $(".global-nav").height(),
                M = this;
            this.view = new d({
                region: "main"
            }), $("body").removeClass("hide-nav"), C.fetch({
                success: function(e) {
                    h.requestMetaData("characters");
                    var t = new s(e.sortBy(function(e) {
                        return e.get("lastname").length ? e.get("lastname").toLowerCase() : e.get("firstname").toLowerCase()
                    }));
                    if (M.view.subview("push-in-nav", new y({
                            region: "pushinnav",
                            collection: t,
                            model: new o({
                                filter_title: "search people by"
                            })
                        })), k) {
                        var n = e.findWhere({
                            id: parseInt(k)
                        });
                        i = n.attributes.firstname + " " + n.attributes.lastname
                    } else Chaplin.mediator.publish("loader:hide"), i = null
                },
                data: a.requestData(),
                url: Chaplin.Application.getServiceUrl("characters-list")
            }), Chaplin.mediator.publish("loader:show", {
                blocked: k ? !0 : !1,
                backgroundColor: "#1a1615"
            });
            var L = function() {
                if ($(".spoiler-guard").length > 0) return void Backbone.history.navigate(T);
                var e = $(window).scrollTop(),
                    t = $(".character.intro").length ? $(".character.intro").position().top : 0,
                    i = e < Math.floor(t) ? S : T,
                    n = (i.substr(1), Backbone.history.fragment),
                    a = {
                        trigger: !1,
                        replace: !0
                    };
                n != S.substr(1) && i != S && (a.replace = !1), e <= Math.floor(t) ? $(".global-nav").addClass("initial") : $(".global-nav").removeClass("initial"), Backbone.history.navigate(i, a)
            };
            if (window.location.pathname.match(/people$/)) {
                var D = new n({
                    section2: "people",
                    section3: "S" + a.get("season_id") + "E" + a.get("episode_number"),
                    contentType: "house",
                    contentName: "Game of Thrones: people landing",
                    extras: null
                });
                D.fire()
            }
            var P = t("models/map-filters-collection");
            r.unsubscribe("character:load"), r.subscribe("character:load", function(t) {
                var i = new x;
                i.id = t.id, t.silent && i.set("silent_loaded", !0), e.silent || (k ? Chaplin.mediator.publish("loader:show", {
                    blocked: k ? !0 : !1
                }) : k = t.id), i.fetch({
                    data: _.merge({
                        id: i.id
                    }, a.requestData()),
                    url: Chaplin.Application.getServiceUrl("character"),
                    success: function(e) {
                        var s = i.get("firstname") + " " + i.get("lastname"),
                            o = (a.get("season_id"), a.get("episode_number"), "Game of Thrones Viewer's Guide"),
                            l = " - " + s,
                            c = " - People";
                        o += t.defaultId ? c : l, $("title").html(o);
                        var d = s + ", Game of Thrones, Viewer's Guide",
                            p = $("<meta>").attr({
                                name: "keywords",
                                content: d
                            });
                        $("meta[name=keywords]").remove(), $("head").prepend(p);
                        var y = s + " is a character in Game of Thrones. Explore their biography, house and history on the Game of Thrones Viewers Guide.",
                            _ = $("<meta>").attr({
                                name: "description",
                                content: y
                            });
                        $("meta[name=description]").remove(), $("head").prepend(_), h.addMetaData(e.get("meta_data")), r.publish("pushnav:updateshare", {
                            fb: h.getShare("people", "fb", s, s),
                            tb: h.getShare("people", "tb", s, s),
                            tw: h.getShare("people", "tw", s)
                        });
                        var x = new n({
                            section2: "people",
                            section3: "S" + a.get("season_id") + "E" + a.get("episode_number"),
                            contentType: "character",
                            contentName: "Game of Thrones: " + s,
                            extras: null
                        });
                        if (x.fire(), S = Handlebars.helpers.url("people#index"), T = Handlebars.helpers.url("people#index", e.id, s, {
                                data: {
                                    first: !0
                                }
                            }), L(), $(window).on("scroll.scrollurl", L), e.get("intro")) {
                            var k = new u({
                                region: "intro",
                                model: i
                            });
                            M.view.subview("intro", k);
                            var C = M.view.$el.data("plugin_snapscroll");
                            C && (C.autoscrolling = !1), i.get("silent_loaded") || r.publish("people:snaptoim", 1), h.addPreloader(k.$el, function() {
                                i.get("silent_loaded") || r.publish("people:snaptoim", 1), Chaplin.mediator.publish("loader:hide", {
                                    blocked: !1
                                })
                            })
                        } else {
                            var C = M.view.$el.data("plugin_snapscroll");
                            C.autoscrolling = !1, Chaplin.mediator.publish("loader:hide")
                        }
                        if (e.get("bio") ? M.view.subview("bio", new m({
                                region: "bio",
                                model: i
                            })) : M.view.removeSubview("bio"), e.get("houses")) {
                            var E = M.view.subviewsByName.house;
                            E ? E.model.set(i.toJSON()) : M.view.subview("house", new f({
                                region: "house",
                                model: i
                            }))
                        } else M.view.removeSubview("house");
                        e.get("appendix") ? M.view.subview("appendix", new g({
                            region: "appendix",
                            model: i
                        })) : M.view.removeSubview("appendix"), e.get("location") ? M.view.subview("location", new v({
                            region: "location",
                            model: i
                        })) : M.view.removeSubview("location"), e.get("videos") && e.get("videos").length ? M.view.subview("videos", new w({
                            region: "videos",
                            model: i
                        })) : M.view.removeSubview("videos"), M.view.subview("bumper", new b({
                            region: "bumper",
                            model: i
                        }))
                    },
                    error: function() {
                        Chaplin.mediator.publish("loader:hide");
                        var e = a.get("season_id"),
                            t = a.get("episode_number"),
                            i = "Game of Thrones - Season " + e + ", Episode " + t + " - People";
                        $("title").html(i)
                    }
                })
            });
            var I = function() {
                    z && r.publish("character:load", {
                        id: k,
                        silent: !1
                    })
                },
                z = e.id;
            E.fetch({
                success: function(e) {
                    h.addMetaData(e.get("meta_data")), M.view.subview("featured", new p({
                        region: "featured",
                        collection: E,
                        model: new o({
                            character_id: z
                        })
                    })), I()
                },
                error: function() {
                    I()
                },
                data: a.requestData(),
                url: Chaplin.Application.getServiceUrl("characters-featured")
            }), r.unsubscribe("character:location-init"), r.subscribe("character:location-init", function(e) {
                var t = e.model.get("location");
                if (t) {
                    map = new c(e.el, {
                        mapMinZoom: 8,
                        mapMaxZoom: 8,
                        filtersCollection: P,
                        mapOptions: {
                            dragging: !1,
                            zoomControl: !1,
                            scrollWheelZoom: !1,
                            bounceAtZoomLimits: !0,
                            touchZoom: !1,
                            doubleClickZoom: !1,
                            boxZoom: !1,
                            tap: !1
                        }
                    }), map.markers.clearLayers();
                    var i = "",
                        n = map.addMarker(new o({
                            id: t.id,
                            type: 1,
                            latlng: t.latlng,
                            majority: 0,
                            location_name: t.name
                        }), map.markers, !1, i, 136);
                    map.markers.addTo(map), map.setMarkerIcon(n, !0, a.get("season_colors").color1), t.latlng && map.setView(t.latlng, 8), $(window).on("resize", function() {
                        var e = M.view.$el.find(".map-layer");
                        e.height() < $(window).height() && e.css("height", $(window).height() - A + "px"), map.invalidateSize(!1), map.setView(t.latlng, 8)
                    })
                }
            }), r.unsubscribe("people:snaptoim").subscribe("people:snaptoim", function() {
                var e = $(".intro").offset().top - 40;
                $("html,body").scrollTop(e)
            });
            var N = this.view.$el.find(".character");
            r.unsubscribe("window:scrolled").subscribe("window:scrolled", function(e) {
                $(".spoiler-guard").length > 0 || N.each(function() {
                    $character = $(this);
                    var t = $character.position().top,
                        i = $character.find(".background-layer");
                    if (i.length) {
                        var n = navigator.userAgent.indexOf("MSIE") > -1 || navigator.userAgent.indexOf("Trident/7.0") > -1 ? 0 : e - t;
                        i[0].style[h.transform] = "translate3d(0, " + n + "px, 0)"
                    }
                })
            }), Chaplin.mediator.unsubscribe("video:play"), Chaplin.mediator.subscribe("video:play", function(e) {
                var t = new n({
                    section2: "people",
                    section3: "S" + a.get("season_id") + "E" + a.get("episode_number"),
                    contentType: "video",
                    contentName: "Game of Thrones:" + e,
                    extras: "video"
                });
                t.fireEvent("Video Tracking")
            }), Chaplin.mediator.unsubscribe("share:omniture"), Chaplin.mediator.subscribe("share:omniture", function(e) {
                var t = new n({
                    section2: "people",
                    section3: "S" + a.get("season_id") + "E" + a.get("episode_number"),
                    contentType: null,
                    contentName: null,
                    extras: e
                });
                t.fireEvent("Event Tracking")
            })
        }
    })
}), require.register("initialize", function(e, t) {
    var i = t("application"),
        n = t("lib/fastclick"),
        a = t("routes"),
        s = t("mediator"),
        o = "Game of Thrones";
    window.FB_APP_ID = "687888287924706", window.heroOnLoad = function() {
        $(this).css("opacity", 1)
    }, window._showSpoilerGuard = !!location.search.match(/spoiler-guard=on/);
    var r = location.href.replace(location.hostname, "viewers-guide.hbo.com"),
        l = $("<link>").attr("rel", "canonical").attr("href", r);
    $("head").prepend(l), "dev.viewers-guide.hbo.com" == document.domain ? (Chaplin.Application.assetsUrl = "http://devassets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://devassets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://devapi.viewers-guide.hbo.com/service/") : "dev2.viewers-guide.hbo.com" == document.domain ? (Chaplin.Application.assetsUrl = "http://devassets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://devassets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://devapi.viewers-guide.hbo.com/service/") : "int.viewers-guide.hbo.com" == document.domain ? (Chaplin.Application.assetsUrl = "http://intassets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://intassets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://intapi.viewers-guide.hbo.com/service/") : "stg.viewers-guide.hbo.com" == document.domain ? (Chaplin.Application.assetsUrl = "http://stgassets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://stgassets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://stgapi.viewers-guide.hbo.com/service/") : "preprod.viewers-guide.hbo.com" == document.domain ? (Chaplin.Application.assetsUrl = "http://preprodassets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://preprodassets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://preprodapi.viewers-guide.hbo.com/service/") : "localhost" == document.domain ? (Chaplin.Application.assetsUrl = "http://devassets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://devassets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://devapi.viewers-guide.hbo.com/service/") : "viewers-guide.dev" == document.domain ? (Chaplin.Application.assetsUrl = "http://devassets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://devassets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://api-viewers-guide.dev/service/") : "hboviewerguide.dev.def6.com" == document.domain ? (Chaplin.Application.assetsUrl = "http://images-hboviewerguide.dev.def6.com/mapimages/", Chaplin.Application.imagesUrl = "http://images-hboviewerguide.dev.def6.com/", Chaplin.Application.serviceUrl = "http://ec2-54-209-172-212.compute-1.amazonaws.com/service/") : "hboviewerguide.review.def6.com" == document.domain ? (Chaplin.Application.assetsUrl = "http://images-hboviewerguide.review.def6.com/mapimages/", Chaplin.Application.imagesUrl = "http://images-hboviewerguide.review.def6.com/", Chaplin.Application.serviceUrl = "http://ec2-54-209-172-212.compute-1.amazonaws.com/service/") : (Chaplin.Application.assetsUrl = "http://assets.viewers-guide.hbo.com/mapimages/", Chaplin.Application.imagesUrl = "http://assets.viewers-guide.hbo.com/", Chaplin.Application.serviceUrl = "http://api.viewers-guide.hbo.com/service/", window._showSpoilerGuard = !1), ("localhost" == document.domain || "hboviewerguide.review.def6.com" == document.domain || "hboviewerguide.dev.def6.com" == document.domain || "dev.viewers-guide.hbo.com" === document.domain || "dev2.viewers-guide.hbo.com" === document.domain || "viewers-guide.dev" == document.domain) && $("head").append('<link rel="stylesheet" href="/remote-fonts.css">'), Chaplin.Application.getServiceUrl = function(e, t) {
        if (Chaplin.Application.serviceUrl) {
            var i = Chaplin.Application.serviceUrl;
            switch (e) {
                case "languages":
                    e = "languages";
                    break;
                case "translations":
                    e = "translations";
                    break;
                case "seasons":
                    e = "seasons";
                    break;
                case "episode_home":
                    e = "episodeHome";
                    break;
                case "last_episodes":
                    e = "lastEpisodes";
                    break;
                case "houses-list":
                    e = "housesList";
                    break;
                case "houses-landing":
                    e = "houseLanding";
                    break;
                case "characters-list":
                    e = "charactersList";
                    break;
                case "characters-featured":
                    e = "charactersFeatured";
                    break;
                case "character":
                    e = "characterDetails";
                    break;
                case "house/tree":
                    e = "houseTree";
                    break;
                case "pickview":
                    e = "peekView";
                    break;
                case "character_short":
                    e = "characterShort";
                    break;
                case "house":
                    e = "houseShort";
                    break;
                case "episodic":
                    e = "episodic";
                    break;
                case "appendix":
                    e = "appendix";
                    break;
                case "appendixDetails":
                    e = "appendixDetails";
                    break;
                case "metaData":
                    e = "metaDataMain"
            }
            return i + e
        }
        return "undefined" != typeof t && (e = e + "/" + t), "/json/" + e + ".json"
    };
    var c = function() {
        var e = "(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)";
        return window.devicePixelRatio > 1 ? !0 : window.matchMedia && window.matchMedia(e).matches ? !0 : !1
    };
    Chaplin.Application.generalErrorHandler = function() {
        $("body").append('<h2 class="load-general-error">Error occurred. Please try again later.</h2>')
    }, Chaplin.Application.isRetina = c(), Chaplin.Application.spanishId = 2;
    var h = t("models/lists/season-model"),
        d = new h;
    Chaplin.Application.seasons = {};
    var p = t("lib/isMobile");
    Chaplin.Application.isMobile = p;
    var u = t("models/translations-model");
    this.translations = new u;
    var m = t("models/cookie-model"),
        f = new m,
        g = t("models/languages-collection");
    g.on("sync", function(e) {
        d.fetch({
            success: function(e) {
                this.translations.set(e.get("translations"));
                var t = e.get("side_navigation");
                f.set({
                    menu_links_title: t.menu_links_title,
                    menu_links: t.menu_links,
                    social_links_title: t.social_links_title,
                    social_links: t.social_links
                }), e.unset("translations"), e.unset("side_navigation"), Chaplin.Application.seasons = e, Chaplin.mediator.publish("site:preloaded")
            },
            error: Chaplin.Application.generalErrorHandler,
            data: _.merge({
                id: f.get("id")
            }, f.requestData()),
            url: Chaplin.Application.getServiceUrl("seasons")
        });
        var t = e.findWhere({
            name: "es"
        });
        t && t.get("id") !== Chaplin.Application.spanishId && (Chaplin.Application.spanishId = t.get("id"))
    }), s.subscribe("site:preloaded", function() {
        $(function() {
            $("title").html(o), n(document.body);
            var e = _.throttle(function() {
                s.publish("window:resized")
            }, 1e3);
            $(window).on("scroll", function() {
                s.publish("window:scrolled", $(window).scrollTop())
            }).on("resize", e).on("orientationchange", e);
            var t = new i({
                title: o,
                controllerSuffix: "-controller",
                routes: a
            });
            return t
        })
    })
}), require.register("lib/control.minimap", function(e, t, i) {
    MiniMap = L.Control.extend({
        options: {
            position: "bottomleft",
            toggleDisplay: !1,
            zoomLevelOffset: -5,
            zoomLevelFixed: !0,
            zoomAnimation: !1,
            autoToggleDisplay: !1,
            width: 201,
            height: 131,
            aimingRectOptions: {
                color: "#000",
                fillColor: /iphone|ipod|ipad/i.test(navigator.userAgent.toLowerCase()) ? null : "url(#diagonalHatch)",
                weight: 1,
                clickable: !0,
                stroke: !1,
                fillOpacity: .5,
                clip: !0
            }
        },
        hideText: "Hide MiniMap",
        showText: "Show MiniMap",
        initialize: function(e, t) {
            L.Util.setOptions(this, t), this.options.aimingRectOptions.clickable = !1, this._layer = e
        },
        onAdd: function(e) {
            return this._mainMap = e, this._container = L.DomUtil.create("div", "leaflet-control-minimap"), this._container.style.width = this.options.width + "px", this._container.style.height = this.options.height + "px", L.DomEvent.disableClickPropagation(this._container), L.DomEvent.on(this._container, "mousewheel", L.DomEvent.stopPropagation), this._miniMap = new L.Map(this._container, {
                attributionControl: !1,
                zoomControl: !1,
                dragging: !1,
                zoomAnimation: this.options.zoomAnimation,
                autoToggleDisplay: this.options.autoToggleDisplay,
                touchZoom: !this.options.zoomLevelFixed,
                scrollWheelZoom: !this.options.zoomLevelFixed,
                doubleClickZoom: !this.options.zoomLevelFixed,
                boxZoom: !this.options.zoomLevelFixed,
                crs: e.options.crs
            }), this._miniMap.addLayer(this._layer), this._mainMapMoving = !1, this._miniMapMoving = !1, this._userToggledDisplay = !1, this._minimized = !1, this.options.toggleDisplay && this._addToggleButton(), this._miniMap.whenReady(L.Util.bind(function() {
                function e(e) {
                    var t = e.latlng.lat,
                        i = e.latlng.lng;
                    return e.latlng.lat + s / 2 - .17 >= this._mainMap.options.mapBounds.getNorth() && (t = this._mainMap.options.mapBounds.getNorth() - s / 2 + .17), e.latlng.lat - s / 2 - .2 <= this._mainMap.options.mapBounds.getSouth() && (t = this._mainMap.options.mapBounds.getSouth() + s / 2 + .2), e.latlng.lng + a / 2 - 3.5 >= this._mainMap.options.mapBounds.getEast() && (i = this._mainMap.options.mapBounds.getEast() - a / 2 + 3.5), Math.abs(e.latlng.lng) + a / 2 - 3.5 >= Math.abs(this._mainMap.options.mapBounds.getWest()) && (i = this._mainMap.options.mapBounds.getWest() + a / 2 - 3.5), e.latlng.lat = t, e.latlng.lng = i, e
                }
                this._aimingRect = L.rectangle(this._mainMap.getBounds(), this.options.aimingRectOptions).addTo(this._miniMap);
                var t = 50,
                    i = function(e) {
                        (!this._lastdrag || (new Date).getTime() - this._lastdrag > t) && (this._mainMap.setView(e.latlng, this._mainMap.getZoom()), this._lastdrag = (new Date).getTime())
                    },
                    n = this._mainMap.getBounds(),
                    a = n.getEast() - n.getWest(),
                    s = n.getNorth() - n.getSouth();
                this._mainMap.on("zoomend", function() {
                    n = this._mainMap.getBounds(), a = n.getEast() - n.getWest(), s = n.getNorth() - n.getSouth()
                }, this);
                var o = this,
                    r = $(".leaflet-control-minimap").height();
                $(".leaflet-control-minimap-toggle-display").on("touchstart", function(e) {
                    e.stopPropagation()
                }), $(".leaflet-control-minimap").on("touchstart", function(e) {
                    e.offsetX = e.originalEvent.touches[0].pageX - e.originalEvent.touches[0].target.offsetLeft, e.offsetY = r - $(window).height() + e.originalEvent.touches[0].pageY;
                    var t = o._miniMap.containerPointToLatLng([e.offsetX, e.offsetY]);
                    l.call(o, {
                        latlng: t
                    })
                }), $(".leaflet-control-minimap").on("mouseup touchend", function() {
                    o._dragstart && (o._dragstart = !1)
                });
                var l = function(t) {
                    this._mainmapmoving || (this._mainMap.closePopup(), this._dragstart = !0, e.call(this, t), this._lastdrag = (new Date).getTime(), this._mainMap.setView(t.latlng, this._mainMap.getZoom(), {
                        pan: {
                            animate: !0
                        }
                    }))
                };
                this._miniMap.on("mousedown", l, this), this._miniMap.on("mouseup touchend", function() {
                    this._dragstart && (this._dragstart = !1)
                }, this), this._miniMap.on("mouseover", function() {
                    this._dragstart && (this._dragstart = !1)
                }, this), this._miniMap.on("mouseleave mouseout touchleave", function() {}, this), this._miniMap.on("mousemove touchmove", function(t) {
                    this._dragstart && i.call(this, e.call(this, t))
                }, this), this._mainMap.on("movestart", this._onMainMapMoveStarted, this), this._mainMap.on("moveend", this._onMainMapMoved, this), this._mainMap.on("move", this._onMainMapMoving, this), this._miniMap.on("movestart", this._onMiniMapMoveStarted, this), this._miniMap.on("move", this._onMiniMapMoving, this), this._miniMap.on("moveend", this._onMiniMapMoved, this)
            }, this)), this._container
        },
        addTo: function(e) {
            return L.Control.prototype.addTo.call(this, e), this._miniMap.setView(this._mainMap.getCenter(), this._decideZoom(!0)), this._setDisplay(this._decideMinimized()), this
        },
        onRemove: function() {
            this._mainMap.off("moveend", this._onMainMapMoved, this), this._mainMap.off("move", this._onMainMapMoving, this), this._miniMap.off("moveend", this._onMiniMapMoved, this), this._miniMap.removeLayer(this._layer)
        },
        _addToggleButton: function() {
            this._toggleDisplayButton = this.options.toggleDisplay ? this._createButton("", this.hideText, "leaflet-control-minimap-toggle-display", this._container, this._toggleDisplayButtonClicked, this) : void 0
        },
        _createButton: function(e, t, i, n, a, s) {
            var o = L.DomUtil.create("a", i, n);
            o.innerHTML = e, o.href = "#", o.title = t;
            var r = L.DomEvent.stopPropagation;
            return L.DomEvent.on(o, "click", r).on(o, "mousedown", r).on(o, "dblclick", r).on(o, "click", L.DomEvent.preventDefault).on(o, "click", a, s), o
        },
        _toggleDisplayButtonClicked: function() {
            this._userToggledDisplay = !0, this._minimized ? (this._restore(), this._toggleDisplayButton.title = this.hideText) : (this._minimize(), this._toggleDisplayButton.title = this.showText)
        },
        _setDisplay: function(e) {
            e != this._minimized && (this._minimized ? this._restore() : this._minimize())
        },
        _minimize: function() {
            this.options.toggleDisplay ? (this._container.style.width = "47px", this._container.style.height = "47px", this._toggleDisplayButton.className += " minimized", this._container.className += " minimized") : this._container.style.display = "none", this._minimized = !0
        },
        _restore: function() {
            this.options.toggleDisplay ? (this._container.style.width = this.options.width + "px", this._container.style.height = this.options.height + "px", this._toggleDisplayButton.className = this._toggleDisplayButton.className.replace(/(?:^|\s)minimized(?!\S)/g, ""), this._container.className = this._container.className.replace(/(?:^|\s)minimized(?!\S)/g, "")) : this._container.style.display = "block", this._minimized = !1
        },
        _onMainMapMoveStarted: function() {},
        _onMainMapMoved: function() {
            this._aimingRect.setBounds(this._mainMap.getBounds())
        },
        _onMainMapMoving: function() {
            this._dragstart || this._aimingRect.setBounds(this._mainMap.getBounds())
        },
        _onMiniMapMoveStarted: function() {
            var e = this._aimingRect.getBounds(),
                t = this._miniMap.latLngToContainerPoint(e.getSouthWest()),
                i = this._miniMap.latLngToContainerPoint(e.getNorthEast());
            this._lastAimingRectPosition = {
                sw: t,
                ne: i
            }, this._lastMiniMapBounds = this._miniMap.getBounds()
        },
        _onMiniMapMoving: function() {
            !this._mainMapMoving && this._lastAimingRectPosition && (this._aimingRect.setBounds(new L.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw), this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))), this._mainMap.setView(this._miniMap.getCenter(), this._decideZoom(!1)))
        },
        _onMiniMapMoved: function() {
            this._mainMapMoving ? this._mainMapMoving = !1 : this._miniMapMoving = !0
        },
        _decideZoom: function(e) {
            if (this.options.zoomLevelFixed) return e ? this.options.zoomLevelFixed : this._mainMap.getZoom();
            if (e) return this._mainMap.getZoom() + this.options.zoomLevelOffset;
            var t, i = this._miniMap.getZoom() - this._mainMap.getZoom(),
                n = this._miniMap.getZoom() - this.options.zoomLevelOffset;
            return i > this.options.zoomLevelOffset && this._mainMap.getZoom() < this._miniMap.getMinZoom() - this.options.zoomLevelOffset ? this._miniMap.getZoom() > this._lastMiniMapZoom ? (t = this._mainMap.getZoom() + 1, this._miniMap.setZoom(this._miniMap.getZoom() - 1)) : t = this._mainMap.getZoom() : t = n, this._lastMiniMapZoom = this._miniMap.getZoom(), t
        },
        _decideMinimized: function() {
            return this._userToggledDisplay ? this._minimized : this.options.autoToggleDisplay ? this._mainMap.getBounds().contains(this._miniMap.getBounds()) ? !0 : !1 : this._minimized
        }
    }), L.Map.mergeOptions({
        miniMapControl: !1
    }), L.Map.addInitHook(function() {
        this.options.miniMapControl && (this.miniMapControl = (new L.Control.MiniMap).addTo(this))
    }), L.control.minimap = function(e) {
        return new L.Control.MiniMap(e)
    }, i.exports = MiniMap
}), require.register("lib/facebook", function() {}), require.register("lib/fastclick", function(e, t, i) {
    function n(e) {
        "use strict";
        var t, i = this;
        if (this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.lastTouchIdentifier = 0, this.touchBoundary = 10, this.layer = e, !e || !e.nodeType) throw new TypeError("Layer must be a document node");
        this.onClick = function() {
            return n.prototype.onClick.apply(i, arguments)
        }, this.onMouse = function() {
            return n.prototype.onMouse.apply(i, arguments)
        }, this.onTouchStart = function() {
            return n.prototype.onTouchStart.apply(i, arguments)
        }, this.onTouchMove = function() {
            return n.prototype.onTouchMove.apply(i, arguments)
        }, this.onTouchEnd = function() {
            return n.prototype.onTouchEnd.apply(i, arguments)
        }, this.onTouchCancel = function() {
            return n.prototype.onTouchCancel.apply(i, arguments)
        }, n.notNeeded(e) || (this.deviceIsAndroid && (e.addEventListener("mouseover", this.onMouse, !0), e.addEventListener("mousedown", this.onMouse, !0), e.addEventListener("mouseup", this.onMouse, !0)), e.addEventListener("click", this.onClick, !0), e.addEventListener("touchstart", this.onTouchStart, !1), e.addEventListener("touchmove", this.onTouchMove, !1), e.addEventListener("touchend", this.onTouchEnd, !1), e.addEventListener("touchcancel", this.onTouchCancel, !1), Event.prototype.stopImmediatePropagation || (e.removeEventListener = function(t, i, n) {
            var a = Node.prototype.removeEventListener;
            "click" === t ? a.call(e, t, i.hijacked || i, n) : a.call(e, t, i, n)
        }, e.addEventListener = function(t, i, n) {
            var a = Node.prototype.addEventListener;
            "click" === t ? a.call(e, t, i.hijacked || (i.hijacked = function(e) {
                e.propagationStopped || i(e)
            }), n) : a.call(e, t, i, n)
        }), "function" == typeof e.onclick && (t = e.onclick, e.addEventListener("click", function(e) {
            t(e)
        }, !1), e.onclick = null))
    }
    n.prototype.deviceIsAndroid = navigator.userAgent.indexOf("Android") > 0, n.prototype.deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent), n.prototype.deviceIsIOS4 = n.prototype.deviceIsIOS && /OS 4_\d(_\d)?/.test(navigator.userAgent), n.prototype.deviceIsIOSWithBadTarget = n.prototype.deviceIsIOS && /OS ([6-9]|\d{2})_\d/.test(navigator.userAgent), n.prototype.needsClick = function(e) {
        "use strict";
        switch (e.nodeName.toLowerCase()) {
            case "button":
            case "select":
            case "textarea":
                if (e.disabled) return !0;
                break;
            case "input":
                if (this.deviceIsIOS && "file" === e.type || e.disabled) return !0;
                break;
            case "label":
            case "video":
                return !0
        }
        return /\bneedsclick\b/.test(e.className)
    }, n.prototype.needsFocus = function(e) {
        "use strict";
        switch (e.nodeName.toLowerCase()) {
            case "textarea":
                return !0;
            case "select":
                return !this.deviceIsAndroid;
            case "input":
                switch (e.type) {
                    case "button":
                    case "checkbox":
                    case "file":
                    case "image":
                    case "radio":
                    case "submit":
                        return !1
                }
                return !e.disabled && !e.readOnly;
            default:
                return /\bneedsfocus\b/.test(e.className)
        }
    }, n.prototype.sendClick = function(e, t) {
        "use strict";
        var i, n;
        document.activeElement && document.activeElement !== e && document.activeElement.blur(), n = t.changedTouches[0], i = document.createEvent("MouseEvents"), i.initMouseEvent(this.determineEventType(e), !0, !0, window, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), i.forwardedTouchEvent = !0, e.dispatchEvent(i)
    }, n.prototype.determineEventType = function(e) {
        "use strict";
        return this.deviceIsAndroid && "select" === e.tagName.toLowerCase() ? "mousedown" : "click"
    }, n.prototype.focus = function(e) {
        "use strict";
        var t;
        this.deviceIsIOS && e.setSelectionRange && 0 !== e.type.indexOf("date") && "time" !== e.type ? (t = e.value.length, e.setSelectionRange(t, t)) : e.focus()
    }, n.prototype.updateScrollParent = function(e) {
        "use strict";
        var t, i;
        if (t = e.fastClickScrollParent, !t || !t.contains(e)) {
            i = e;
            do {
                if (i.scrollHeight > i.offsetHeight) {
                    t = i, e.fastClickScrollParent = i;
                    break
                }
                i = i.parentElement
            } while (i)
        }
        t && (t.fastClickLastScrollTop = t.scrollTop)
    }, n.prototype.getTargetElementFromEventTarget = function(e) {
        "use strict";
        return e.nodeType === Node.TEXT_NODE ? e.parentNode : e
    }, n.prototype.onTouchStart = function(e) {
        "use strict";
        var t, i, n;
        if (e.targetTouches.length > 1) return !0;
        if (t = this.getTargetElementFromEventTarget(e.target), i = e.targetTouches[0], this.deviceIsIOS) {
            if (n = window.getSelection(), n.rangeCount && !n.isCollapsed) return !0;
            if (!this.deviceIsIOS4) {
                if (i.identifier === this.lastTouchIdentifier) return e.preventDefault(), !1;
                this.lastTouchIdentifier = i.identifier, this.updateScrollParent(t)
            }
        }
        return this.trackingClick = !0, this.trackingClickStart = e.timeStamp, this.targetElement = t, this.touchStartX = i.pageX, this.touchStartY = i.pageY, e.timeStamp - this.lastClickTime < 200 && e.preventDefault(), !0
    }, n.prototype.touchHasMoved = function(e) {
        "use strict";
        var t = e.changedTouches[0],
            i = this.touchBoundary;
        return Math.abs(t.pageX - this.touchStartX) > i || Math.abs(t.pageY - this.touchStartY) > i ? !0 : !1
    }, n.prototype.onTouchMove = function(e) {
        "use strict";
        return this.trackingClick ? ((this.targetElement !== this.getTargetElementFromEventTarget(e.target) || this.touchHasMoved(e)) && (this.trackingClick = !1, this.targetElement = null), !0) : !0
    }, n.prototype.findControl = function(e) {
        "use strict";
        return void 0 !== e.control ? e.control : e.htmlFor ? document.getElementById(e.htmlFor) : e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
    }, n.prototype.onTouchEnd = function(e) {
        "use strict";
        var t, i, n, a, s, o = this.targetElement;
        if (!this.trackingClick) return !0;
        if (e.timeStamp - this.lastClickTime < 200) return this.cancelNextClick = !0, !0;
        if (this.cancelNextClick = !1, this.lastClickTime = e.timeStamp, i = this.trackingClickStart, this.trackingClick = !1, this.trackingClickStart = 0, this.deviceIsIOSWithBadTarget && (s = e.changedTouches[0], o = document.elementFromPoint(s.pageX - window.pageXOffset, s.pageY - window.pageYOffset) || o, o.fastClickScrollParent = this.targetElement.fastClickScrollParent), n = o.tagName.toLowerCase(), "label" === n) {
            if (t = this.findControl(o)) {
                if (this.focus(o), this.deviceIsAndroid) return !1;
                o = t
            }
        } else if (this.needsFocus(o)) return e.timeStamp - i > 100 || this.deviceIsIOS && window.top !== window && "input" === n ? (this.targetElement = null, !1) : (this.focus(o), this.deviceIsIOS4 && "select" === n || (this.targetElement = null, e.preventDefault()), !1);
        return this.deviceIsIOS && !this.deviceIsIOS4 && (a = o.fastClickScrollParent, a && a.fastClickLastScrollTop !== a.scrollTop) ? !0 : (this.needsClick(o) || (e.preventDefault(), this.sendClick(o, e)), !1)
    }, n.prototype.onTouchCancel = function() {
        "use strict";
        this.trackingClick = !1, this.targetElement = null
    }, n.prototype.onMouse = function(e) {
        "use strict";
        return this.targetElement ? e.forwardedTouchEvent ? !0 : e.cancelable ? !this.needsClick(this.targetElement) || this.cancelNextClick ? (e.stopImmediatePropagation ? e.stopImmediatePropagation() : e.propagationStopped = !0, e.stopPropagation(), e.preventDefault(), !1) : !0 : !0 : !0
    }, n.prototype.onClick = function(e) {
        "use strict";
        var t;
        return this.trackingClick ? (this.targetElement = null, this.trackingClick = !1, !0) : "submit" === e.target.type && 0 === e.detail ? !0 : (t = this.onMouse(e), t || (this.targetElement = null), t)
    }, n.prototype.destroy = function() {
        "use strict";
        var e = this.layer;
        this.deviceIsAndroid && (e.removeEventListener("mouseover", this.onMouse, !0), e.removeEventListener("mousedown", this.onMouse, !0), e.removeEventListener("mouseup", this.onMouse, !0)), e.removeEventListener("click", this.onClick, !0), e.removeEventListener("touchstart", this.onTouchStart, !1), e.removeEventListener("touchmove", this.onTouchMove, !1), e.removeEventListener("touchend", this.onTouchEnd, !1), e.removeEventListener("touchcancel", this.onTouchCancel, !1)
    }, n.notNeeded = function(e) {
        "use strict";
        var t, i;
        if ("undefined" == typeof window.ontouchstart) return !0;
        if (i = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]) {
            if (!n.prototype.deviceIsAndroid) return !0;
            if (t = document.querySelector("meta[name=viewport]")) {
                if (-1 !== t.content.indexOf("user-scalable=no")) return !0;
                if (i > 31 && window.innerWidth <= window.screen.width) return !0
            }
        }
        return "none" === e.style.msTouchAction ? !0 : !1
    }, n.attach = function(e) {
        "use strict";
        return new n(e)
    }, "undefined" != typeof define && define.amd ? define(function() {
        "use strict";
        return n
    }) : "undefined" != typeof i && i.exports ? (i.exports = n.attach, i.exports.FastClick = n) : window.FastClick = n
}), require.register("lib/isMobile", function(e, t, i) {
    ! function(e) {
        var t = /iPhone/i,
            n = /iPod/i,
            a = /iPad/i,
            s = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
            o = /Android/i,
            r = /IEMobile/i,
            l = /(?=.*\bWindows\b)(?=.*\bARM\b)/i,
            c = /BlackBerry/i,
            h = /Opera Mini/i,
            d = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,
            p = new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)", "i"),
            u = function(e, t) {
                return e.test(t)
            },
            m = function(e) {
                var i = e || navigator.userAgent;
                return this.apple = {
                    phone: u(t, i),
                    ipod: u(n, i),
                    tablet: u(a, i),
                    device: u(t, i) || u(n, i) || u(a, i)
                }, this.android = {
                    phone: u(s, i),
                    tablet: !u(s, i) && u(o, i),
                    device: u(s, i) || u(o, i)
                }, this.windows = {
                    phone: u(r, i),
                    tablet: u(l, i),
                    device: u(r, i) || u(l, i)
                }, this.other = {
                    blackberry: u(c, i),
                    opera: u(h, i),
                    firefox: u(d, i),
                    device: u(c, i) || u(h, i) || u(d, i)
                }, this.seven_inch = u(p, i), this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch, this.phone = this.apple.phone || this.android.phone || this.windows.phone, this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet, "undefined" == typeof window ? this : void 0
            },
            f = function() {
                var e = new m;
                return e.Class = m, e
            };
        "undefined" != typeof i && i.exports && "undefined" == typeof window ? i.exports = m : "undefined" != typeof i && i.exports && "undefined" != typeof window ? i.exports = f() : "function" == typeof define && define.amd ? define(f()) : e.isMobile = f()
    }(this)
}), require.register("lib/iscroll", function(e, t, i) {
    ! function(e, t, n) {
        function a(e, i) {
            this.wrapper = "string" == typeof e ? t.querySelector(e) : e, this.scroller = this.wrapper.children[0], this.scrollerStyle = this.scroller.style, this.options = {
                resizeScrollbars: !0,
                mouseWheelSpeed: 20,
                snapThreshold: .334,
                startX: 0,
                startY: 0,
                scrollY: !0,
                directionLockThreshold: 5,
                momentum: !0,
                bounce: !0,
                bounceTime: 600,
                bounceEasing: "",
                preventDefault: !0,
                preventDefaultException: {
                    tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/
                },
                HWCompositing: !0,
                useTransition: !0,
                useTransform: !0
            };
            for (var n in i) this.options[n] = i[n];
            this.translateZ = this.options.HWCompositing && l.hasPerspective ? " translateZ(0)" : "", this.options.useTransition = l.hasTransition && this.options.useTransition, this.options.useTransform = l.hasTransform && this.options.useTransform, this.options.eventPassthrough = this.options.eventPassthrough === !0 ? "vertical" : this.options.eventPassthrough, this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault, this.options.scrollY = "vertical" == this.options.eventPassthrough ? !1 : this.options.scrollY, this.options.scrollX = "horizontal" == this.options.eventPassthrough ? !1 : this.options.scrollX, this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough, this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold, this.options.bounceEasing = "string" == typeof this.options.bounceEasing ? l.ease[this.options.bounceEasing] || l.ease.circular : this.options.bounceEasing, this.options.resizePolling = void 0 === this.options.resizePolling ? 60 : this.options.resizePolling, this.options.tap === !0 && (this.options.tap = "tap"), "scale" == this.options.shrinkScrollbars && (this.options.useTransition = !1), this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1, this.x = 0, this.y = 0, this.directionX = 0, this.directionY = 0, this._events = {}, this._init(), this.refresh(), this.scrollTo(this.options.startX, this.options.startY), this.enable()
        }

        function s(e, i, n) {
            var a = t.createElement("div"),
                s = t.createElement("div");
            return n === !0 && (a.style.cssText = "position:absolute;z-index:9999", s.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"), s.className = "iScrollIndicator", "h" == e ? (n === !0 && (a.style.cssText += ";height:7px;left:2px;right:2px;bottom:0", s.style.height = "100%"), a.className = "iScrollHorizontalScrollbar") : (n === !0 && (a.style.cssText += ";width:7px;bottom:2px;top:2px;right:1px", s.style.width = "100%"), a.className = "iScrollVerticalScrollbar"), a.style.cssText += ";overflow:hidden", i || (a.style.pointerEvents = "none"), a.appendChild(s), a
        }

        function o(i, n) {
            this.wrapper = "string" == typeof n.el ? t.querySelector(n.el) : n.el, this.wrapperStyle = this.wrapper.style, this.indicator = this.wrapper.children[0], this.indicatorStyle = this.indicator.style, this.scroller = i, this.options = {
                listenX: !0,
                listenY: !0,
                interactive: !1,
                resize: !0,
                defaultScrollbars: !1,
                shrink: !1,
                fade: !1,
                speedRatioX: 0,
                speedRatioY: 0
            };
            for (var a in n) this.options[a] = n[a];
            this.sizeRatioX = 1, this.sizeRatioY = 1, this.maxPosX = 0, this.maxPosY = 0, this.options.interactive && (this.options.disableTouch || (l.addEvent(this.indicator, "touchstart", this), l.addEvent(e, "touchend", this)), this.options.disablePointer || (l.addEvent(this.indicator, "MSPointerDown", this), l.addEvent(e, "MSPointerUp", this)), this.options.disableMouse || (l.addEvent(this.indicator, "mousedown", this), l.addEvent(e, "mouseup", this))), this.options.fade && (this.wrapperStyle[l.style.transform] = this.scroller.translateZ, this.wrapperStyle[l.style.transitionDuration] = l.isBadAndroid ? "0.001s" : "0ms", this.wrapperStyle.opacity = "0")
        }
        var r = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function(t) {
                e.setTimeout(t, 1e3 / 60)
            },
            l = function() {
                function i(e) {
                    return o === !1 ? !1 : "" === o ? e : o + e.charAt(0).toUpperCase() + e.substr(1)
                }
                var a = {},
                    s = t.createElement("div").style,
                    o = function() {
                        for (var e, t = ["t", "webkitT", "MozT", "msT", "OT"], i = 0, n = t.length; n > i; i++)
                            if (e = t[i] + "ransform", e in s) return t[i].substr(0, t[i].length - 1);
                        return !1
                    }();
                a.getTime = Date.now || function() {
                    return (new Date).getTime()
                }, a.extend = function(e, t) {
                    for (var i in t) e[i] = t[i]
                }, a.addEvent = function(e, t, i, n) {
                    e.addEventListener(t, i, !!n)
                }, a.removeEvent = function(e, t, i, n) {
                    e.removeEventListener(t, i, !!n)
                }, a.momentum = function(e, t, i, a, s, o) {
                    var r, l, c = e - t,
                        h = n.abs(c) / i;
                    return o = void 0 === o ? 6e-4 : o, r = e + h * h / (2 * o) * (0 > c ? -1 : 1), l = h / o, a > r ? (r = s ? a - s / 2.5 * (h / 8) : a, c = n.abs(r - e), l = c / h) : r > 0 && (r = s ? s / 2.5 * (h / 8) : 0, c = n.abs(e) + r, l = c / h), {
                        destination: n.round(r),
                        duration: l
                    }
                };
                var r = i("transform");
                return a.extend(a, {
                    hasTransform: r !== !1,
                    hasPerspective: i("perspective") in s,
                    hasTouch: "ontouchstart" in e,
                    hasPointer: navigator.msPointerEnabled,
                    hasTransition: i("transition") in s
                }), a.isBadAndroid = /Android /.test(e.navigator.appVersion) && !/Chrome\/\d/.test(e.navigator.appVersion), a.extend(a.style = {}, {
                    transform: r,
                    transitionTimingFunction: i("transitionTimingFunction"),
                    transitionDuration: i("transitionDuration"),
                    transitionDelay: i("transitionDelay"),
                    transformOrigin: i("transformOrigin")
                }), a.hasClass = function(e, t) {
                    var i = new RegExp("(^|\\s)" + t + "(\\s|$)");
                    return i.test(e.className)
                }, a.addClass = function(e, t) {
                    if (!a.hasClass(e, t)) {
                        var i = e.className.split(" ");
                        i.push(t), e.className = i.join(" ")
                    }
                }, a.removeClass = function(e, t) {
                    if (a.hasClass(e, t)) {
                        var i = new RegExp("(^|\\s)" + t + "(\\s|$)", "g");
                        e.className = e.className.replace(i, " ")
                    }
                }, a.offset = function(e) {
                    for (var t = -e.offsetLeft, i = -e.offsetTop; e = e.offsetParent;) t -= e.offsetLeft, i -= e.offsetTop;
                    return {
                        left: t,
                        top: i
                    }
                }, a.preventDefaultException = function(e, t) {
                    for (var i in t)
                        if (t[i].test(e[i])) return !0;
                    return !1
                }, a.extend(a.eventType = {}, {
                    touchstart: 1,
                    touchmove: 1,
                    touchend: 1,
                    mousedown: 2,
                    mousemove: 2,
                    mouseup: 2,
                    MSPointerDown: 3,
                    MSPointerMove: 3,
                    MSPointerUp: 3
                }), a.extend(a.ease = {}, {
                    quadratic: {
                        style: "cubic-bezier(0.25, 0.46, 0.45, 0.94)",
                        fn: function(e) {
                            return e * (2 - e)
                        }
                    },
                    circular: {
                        style: "cubic-bezier(0.1, 0.57, 0.1, 1)",
                        fn: function(e) {
                            return n.sqrt(1 - --e * e)
                        }
                    },
                    back: {
                        style: "cubic-bezier(0.175, 0.885, 0.32, 1.275)",
                        fn: function(e) {
                            var t = 4;
                            return (e -= 1) * e * ((t + 1) * e + t) + 1
                        }
                    },
                    bounce: {
                        style: "",
                        fn: function(e) {
                            return (e /= 1) < 1 / 2.75 ? 7.5625 * e * e : 2 / 2.75 > e ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : 2.5 / 2.75 > e ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375
                        }
                    },
                    elastic: {
                        style: "",
                        fn: function(e) {
                            var t = .22,
                                i = .4;
                            return 0 === e ? 0 : 1 == e ? 1 : i * n.pow(2, -10 * e) * n.sin(2 * (e - t / 4) * n.PI / t) + 1
                        }
                    }
                }), a.tap = function(e, i) {
                    var n = t.createEvent("Event");
                    n.initEvent(i, !0, !0), n.pageX = e.pageX, n.pageY = e.pageY, e.target.dispatchEvent(n)
                }, a.click = function(e) {
                    var i, n = e.target;
                    /(SELECT|INPUT|TEXTAREA)/i.test(n.tagName) || (i = t.createEvent("MouseEvents"), i.initMouseEvent("click", !0, !0, e.view, 1, n.screenX, n.screenY, n.clientX, n.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, 0, null), i._constructed = !0, n.dispatchEvent(i))
                }, a
            }();
        a.prototype = {
            version: "5.1.1",
            _init: function() {
                this._initEvents(), (this.options.scrollbars || this.options.indicators) && this._initIndicators(), this.options.mouseWheel && this._initWheel(), this.options.snap && this._initSnap(), this.options.keyBindings && this._initKeys()
            },
            destroy: function() {
                this._initEvents(!0), this._execEvent("destroy")
            },
            _transitionEnd: function(e) {
                e.target == this.scroller && this.isInTransition && (this._transitionTime(), this.resetPosition(this.options.bounceTime) || (this.isInTransition = !1, this._execEvent("scrollEnd")))
            },
            _start: function(e) {
                if (!(1 != l.eventType[e.type] && 0 !== e.button || !this.enabled || this.initiated && l.eventType[e.type] !== this.initiated)) {
                    !this.options.preventDefault || l.isBadAndroid || l.preventDefaultException(e.target, this.options.preventDefaultException) || e.preventDefault();
                    var t, i = e.touches ? e.touches[0] : e;
                    this.initiated = l.eventType[e.type], this.moved = !1, this.distX = 0, this.distY = 0, this.directionX = 0, this.directionY = 0, this.directionLocked = 0, this._transitionTime(), this.startTime = l.getTime(), this.options.useTransition && this.isInTransition ? (this.isInTransition = !1, t = this.getComputedPosition(), this._translate(n.round(t.x), n.round(t.y)), this._execEvent("scrollEnd")) : !this.options.useTransition && this.isAnimating && (this.isAnimating = !1, this._execEvent("scrollEnd")), this.startX = this.x, this.startY = this.y, this.absStartX = this.x, this.absStartY = this.y, this.pointX = i.pageX, this.pointY = i.pageY, this._execEvent("beforeScrollStart")
                }
            },
            _move: function(e) {
                if (this.enabled && l.eventType[e.type] === this.initiated) {
                    this.options.preventDefault && e.preventDefault();
                    var t, i, a, s, o = e.touches ? e.touches[0] : e,
                        r = o.pageX - this.pointX,
                        c = o.pageY - this.pointY,
                        h = l.getTime();
                    if (this.pointX = o.pageX, this.pointY = o.pageY, this.distX += r, this.distY += c, a = n.abs(this.distX), s = n.abs(this.distY), !(h - this.endTime > 300 && 10 > a && 10 > s)) {
                        if (this.directionLocked || this.options.freeScroll || (this.directionLocked = a > s + this.options.directionLockThreshold ? "h" : s >= a + this.options.directionLockThreshold ? "v" : "n"), "h" == this.directionLocked) {
                            if ("vertical" == this.options.eventPassthrough) e.preventDefault();
                            else if ("horizontal" == this.options.eventPassthrough) return void(this.initiated = !1);
                            c = 0
                        } else if ("v" == this.directionLocked) {
                            if ("horizontal" == this.options.eventPassthrough) e.preventDefault();
                            else if ("vertical" == this.options.eventPassthrough) return void(this.initiated = !1);
                            r = 0
                        }
                        r = this.hasHorizontalScroll ? r : 0, c = this.hasVerticalScroll ? c : 0, t = this.x + r, i = this.y + c, (t > 0 || t < this.maxScrollX) && (t = this.options.bounce ? this.x + r / 3 : t > 0 ? 0 : this.maxScrollX), (i > 0 || i < this.maxScrollY) && (i = this.options.bounce ? this.y + c / 3 : i > 0 ? 0 : this.maxScrollY), this.directionX = r > 0 ? -1 : 0 > r ? 1 : 0, this.directionY = c > 0 ? -1 : 0 > c ? 1 : 0, this.moved || this._execEvent("scrollStart"), this.moved = !0, this._translate(t, i), h - this.startTime > 300 && (this.startTime = h, this.startX = this.x, this.startY = this.y)
                    }
                }
            },
            _end: function(e) {
                if (this.enabled && l.eventType[e.type] === this.initiated) {
                    this.options.preventDefault && !l.preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();
                    var t, i, a = (e.changedTouches ? e.changedTouches[0] : e, l.getTime() - this.startTime),
                        s = n.round(this.x),
                        o = n.round(this.y),
                        r = n.abs(s - this.startX),
                        c = n.abs(o - this.startY),
                        h = 0,
                        d = "";
                    if (this.isInTransition = 0, this.initiated = 0, this.endTime = l.getTime(), !this.resetPosition(this.options.bounceTime)) {
                        if (this.scrollTo(s, o), !this.moved) return this.options.tap && l.tap(e, this.options.tap), this.options.click && l.click(e), void this._execEvent("scrollCancel");
                        if (this._events.flick && 200 > a && 100 > r && 100 > c) return void this._execEvent("flick");
                        if (this.options.momentum && 300 > a && (t = this.hasHorizontalScroll ? l.momentum(this.x, this.startX, a, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {
                                destination: s,
                                duration: 0
                            }, i = this.hasVerticalScroll ? l.momentum(this.y, this.startY, a, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {
                                destination: o,
                                duration: 0
                            }, s = t.destination, o = i.destination, h = n.max(t.duration, i.duration), this.isInTransition = 1), this.options.snap) {
                            var p = this.y - this.pages[0][this.currentPage.pageY].y + this.pages[0][this.currentPage.pageY].height;
                            if (this.options.scrollSnapContainer && p > this.options.scrollSnapContainer.height() && p < this.pages[0][this.currentPage.pageY].height);
                            else {
                                var u = this._nearestSnap(s, o);
                                this.currentPage = u, h = this.options.snapSpeed || n.max(n.max(n.min(n.abs(s - u.x), 1e3), n.min(n.abs(o - u.y), 1e3)), 300), s = u.x, o = u.y, this.directionX = 0, this.directionY = 0, d = this.options.bounceEasing
                            }
                        }
                        return s != this.x || o != this.y ? ((s > 0 || s < this.maxScrollX || o > 0 || o < this.maxScrollY) && (d = l.ease.quadratic), void this.scrollTo(s, o, h, d)) : void this._execEvent("scrollEnd")
                    }
                }
            },
            _resize: function() {
                var e = this;
                clearTimeout(this.resizeTimeout), this.resizeTimeout = setTimeout(function() {
                    e.refresh()
                }, this.options.resizePolling)
            },
            resetPosition: function(e) {
                var t = this.x,
                    i = this.y;
                return e = e || 0, !this.hasHorizontalScroll || this.x > 0 ? t = 0 : this.x < this.maxScrollX && (t = this.maxScrollX), !this.hasVerticalScroll || this.y > 0 ? i = 0 : this.y < this.maxScrollY && (i = this.maxScrollY), t == this.x && i == this.y ? !1 : (this.scrollTo(t, i, e, this.options.bounceEasing), !0)
            },
            disable: function() {
                this.enabled = !1
            },
            enable: function() {
                this.enabled = !0
            },
            refresh: function() {
                this.wrapper.offsetHeight;
                this.wrapperWidth = this.wrapper.clientWidth, this.wrapperHeight = this.wrapper.clientHeight, this.scrollerWidth = this.scroller.offsetWidth, this.scrollerHeight = this.scroller.offsetHeight, this.maxScrollX = this.wrapperWidth - this.scrollerWidth, this.maxScrollY = this.wrapperHeight - this.scrollerHeight, this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0, this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0, this.hasHorizontalScroll || (this.maxScrollX = 0, this.scrollerWidth = this.wrapperWidth), this.hasVerticalScroll || (this.maxScrollY = 0, this.scrollerHeight = this.wrapperHeight), this.endTime = 0, this.directionX = 0, this.directionY = 0, this.wrapperOffset = l.offset(this.wrapper), this._execEvent("refresh"), this.resetPosition()
            },
            on: function(e, t) {
                this._events[e] || (this._events[e] = []), this._events[e].push(t)
            },
            off: function(e, t) {
                if (this._events[e]) {
                    var i = this._events[e].indexOf(t);
                    i > -1 && this._events[e].splice(i, 1)
                }
            },
            _execEvent: function(e) {
                if (this._events[e]) {
                    var t = 0,
                        i = this._events[e].length;
                    if (i)
                        for (; i > t; t++) this._events[e][t].apply(this, [].slice.call(arguments, 1))
                }
            },
            scrollBy: function(e, t, i, n) {
                e = this.x + e, t = this.y + t, i = i || 0, this.scrollTo(e, t, i, n)
            },
            scrollTo: function(e, t, i, n) {
                n = n || l.ease.circular, this.isInTransition = this.options.useTransition && i > 0, !i || this.options.useTransition && n.style ? (this._transitionTimingFunction(n.style), this._transitionTime(i), this._translate(e, t)) : this._animate(e, t, i, n.fn)
            },
            scrollToElement: function(e, t, i, a, s) {
                if (e = e.nodeType ? e : this.scroller.querySelector(e)) {
                    var o = l.offset(e);
                    o.left -= this.wrapperOffset.left, o.top -= this.wrapperOffset.top, i === !0 && (i = n.round(e.offsetWidth / 2 - this.wrapper.offsetWidth / 2)), a === !0 && (a = n.round(e.offsetHeight / 2 - this.wrapper.offsetHeight / 2)), o.left -= i || 0, o.top -= a || 0, o.left = o.left > 0 ? 0 : o.left < this.maxScrollX ? this.maxScrollX : o.left, o.top = o.top > 0 ? 0 : o.top < this.maxScrollY ? this.maxScrollY : o.top, t = void 0 === t || null === t || "auto" === t ? n.max(n.abs(this.x - o.left), n.abs(this.y - o.top)) : t, this.scrollTo(o.left, o.top, t, s)
                }
            },
            _transitionTime: function(e) {
                if (e = e || 0, this.scrollerStyle[l.style.transitionDuration] = e + "ms", !e && l.isBadAndroid && (this.scrollerStyle[l.style.transitionDuration] = "0.001s"), this.indicators)
                    for (var t = this.indicators.length; t--;) this.indicators[t].transitionTime(e)
            },
            _transitionTimingFunction: function(e) {
                if (this.scrollerStyle[l.style.transitionTimingFunction] = e, this.indicators)
                    for (var t = this.indicators.length; t--;) this.indicators[t].transitionTimingFunction(e)
            },
            _translate: function(e, t) {
                if (this.options.useTransform ? this.scrollerStyle[l.style.transform] = "translate(" + e + "px," + t + "px)" + this.translateZ : (e = n.round(e), t = n.round(t), this.scrollerStyle.left = e + "px", this.scrollerStyle.top = t + "px"), this.x = e, this.y = t, this.indicators)
                    for (var i = this.indicators.length; i--;) this.indicators[i].updatePosition()
            },
            _initEvents: function(t) {
                var i = t ? l.removeEvent : l.addEvent,
                    n = this.options.bindToWrapper ? this.wrapper : e;
                i(e, "orientationchange", this), i(e, "resize", this), this.options.click && i(this.wrapper, "click", this, !0), this.options.disableMouse || (i(this.wrapper, "mousedown", this), i(n, "mousemove", this), i(n, "mousecancel", this), i(n, "mouseup", this)), l.hasPointer && !this.options.disablePointer && (i(this.wrapper, "MSPointerDown", this), i(n, "MSPointerMove", this), i(n, "MSPointerCancel", this), i(n, "MSPointerUp", this)), l.hasTouch && !this.options.disableTouch && (i(this.wrapper, "touchstart", this), i(n, "touchmove", this), i(n, "touchcancel", this), i(n, "touchend", this)), i(this.scroller, "transitionend", this), i(this.scroller, "webkitTransitionEnd", this), i(this.scroller, "oTransitionEnd", this), i(this.scroller, "MSTransitionEnd", this)
            },
            getComputedPosition: function() {
                var t, i, n = e.getComputedStyle(this.scroller, null);
                return this.options.useTransform ? (n = n[l.style.transform].split(")")[0].split(", "), t = +(n[12] || n[4]), i = +(n[13] || n[5])) : (t = +n.left.replace(/[^-\d.]/g, ""), i = +n.top.replace(/[^-\d.]/g, "")), {
                    x: t,
                    y: i
                }
            },
            _initIndicators: function() {
                function e(e) {
                    for (var t = r.indicators.length; t--;) e.call(r.indicators[t])
                }
                var t, i = this.options.interactiveScrollbars,
                    n = "string" != typeof this.options.scrollbars,
                    a = [],
                    r = this;
                this.indicators = [], this.options.scrollbars && (this.options.scrollY && (t = {
                    el: s("v", i, this.options.scrollbars),
                    interactive: i,
                    defaultScrollbars: !0,
                    customStyle: n,
                    resize: this.options.resizeScrollbars,
                    shrink: this.options.shrinkScrollbars,
                    fade: this.options.fadeScrollbars,
                    listenX: !1
                }, this.wrapper.appendChild(t.el), a.push(t)), this.options.scrollX && (t = {
                    el: s("h", i, this.options.scrollbars),
                    interactive: i,
                    defaultScrollbars: !0,
                    customStyle: n,
                    resize: this.options.resizeScrollbars,
                    shrink: this.options.shrinkScrollbars,
                    fade: this.options.fadeScrollbars,
                    listenY: !1
                }, this.wrapper.appendChild(t.el), a.push(t))), this.options.indicators && (a = a.concat(this.options.indicators));
                for (var l = a.length; l--;) this.indicators.push(new o(this, a[l]));
                this.options.fadeScrollbars && (this.on("scrollEnd", function() {
                    e(function() {
                        this.fade()
                    })
                }), this.on("scrollCancel", function() {
                    e(function() {
                        this.fade()
                    })
                }), this.on("scrollStart", function() {
                    e(function() {
                        this.fade(1)
                    })
                }), this.on("beforeScrollStart", function() {
                    e(function() {
                        this.fade(1, !0)
                    })
                })), this.on("refresh", function() {
                    e(function() {
                        this.refresh()
                    })
                }), this.on("destroy", function() {
                    e(function() {
                        this.destroy()
                    }), delete this.indicators
                })
            },
            _initWheel: function() {
                l.addEvent(this.wrapper, "wheel", this), l.addEvent(this.wrapper, "mousewheel", this), l.addEvent(this.wrapper, "DOMMouseScroll", this), this.on("destroy", function() {
                    l.removeEvent(this.wrapper, "wheel", this), l.removeEvent(this.wrapper, "mousewheel", this), l.removeEvent(this.wrapper, "DOMMouseScroll", this)
                })
            },
            _wheel: function(e) {
                if (this.enabled) {
                    e.preventDefault(), e.stopPropagation();
                    var t, i, a, s, o = this;
                    if (void 0 === this.wheelTimeout && o._execEvent("scrollStart"), clearTimeout(this.wheelTimeout), this.wheelTimeout = setTimeout(function() {
                            o._execEvent("scrollEnd"), o.wheelTimeout = void 0
                        }, 400), "deltaX" in e) {
                        this.options.scrollSnapContainer && (e.deltaX = n.round(e.deltaX / 5), e.deltaY = n.round(e.deltaY / 5));
                        var r = 1 === e.deltaMode ? this.options.mouseWheelSpeed : 1;
                        t = -e.deltaX * r, i = -e.deltaY * r
                    } else if ("wheelDeltaX" in e) this.options.scrollSnapContainer && (e.wheelDeltaX = n.round(e.wheelDeltaX / 5), e.wheelDeltaY = n.round(e.wheelDeltaY / 5)), t = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed, i = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;
                    else if ("wheelDelta" in e) t = i = e.wheelDelta / 120 * this.options.mouseWheelSpeed;
                    else {
                        if (!("detail" in e)) return;
                        t = i = -e.detail / 3 * this.options.mouseWheelSpeed
                    }
                    if (t *= this.options.invertWheelDirection, i *= this.options.invertWheelDirection, this.hasVerticalScroll || (t = i, i = 0), this.options.snap) {
                        a = this.currentPage.pageX, s = this.currentPage.pageY;
                        var l = this.y - this.pages[0][this.currentPage.pageY].y + this.pages[0][this.currentPage.pageY].height;
                        if (!(this.options.scrollSnapContainer && l > this.options.scrollSnapContainer.height() && l < this.pages[0][this.currentPage.pageY].height)) return t > 0 ? a-- : 0 > t && a++, i > 0 ? s-- : 0 > i && s++, void this.goToPage(a, s)
                    }
                    a = this.x + n.round(this.hasHorizontalScroll ? t : 0), s = this.y + n.round(this.hasVerticalScroll ? i : 0), a > 0 ? a = 0 : a < this.maxScrollX && (a = this.maxScrollX), s > 0 ? s = 0 : s < this.maxScrollY && (s = this.maxScrollY), this.scrollTo(a, s, 0)
                }
            },
            _initSnap: function() {
                this.currentPage = {}, "string" == typeof this.options.snap && (this.options.snap = this.scroller.querySelectorAll(this.options.snap)), this.on("refresh", function() {
                    var e, t, i, a, s, o, r = 0,
                        l = 0,
                        c = 0,
                        h = this.options.snapStepX || this.wrapperWidth,
                        d = this.options.snapStepY || this.wrapperHeight;
                    if (this.pages = [], this.wrapperWidth && this.wrapperHeight && this.scrollerWidth && this.scrollerHeight) {
                        if (this.options.snap === !0)
                            for (i = n.round(h / 2), a = n.round(d / 2); c > -this.scrollerWidth;) {
                                for (this.pages[r] = [], e = 0, s = 0; s > -this.scrollerHeight;) this.pages[r][e] = {
                                    x: n.max(c, this.maxScrollX),
                                    y: n.max(s, this.maxScrollY),
                                    width: h,
                                    height: d,
                                    cx: c - i,
                                    cy: s - a
                                }, s -= d, e++;
                                c -= h, r++
                            } else
                                for (o = this.options.snap, e = o.length, t = -1; e > r; r++)(0 === r || o[r].offsetLeft <= o[r - 1].offsetLeft) && (l = 0, t++), this.pages[l] || (this.pages[l] = []), c = n.max(-o[r].offsetLeft, this.maxScrollX), s = n.max(-o[r].offsetTop, this.maxScrollY), i = c - n.round(o[r].offsetWidth / 2), a = s - n.round(o[r].offsetHeight / 2), this.pages[l][t] = {
                                    x: c,
                                    y: s,
                                    width: o[r].offsetWidth,
                                    height: o[r].offsetHeight,
                                    cx: i,
                                    cy: a
                                }, c > this.maxScrollX && l++;
                        this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0), this.options.snapThreshold % 1 === 0 ? (this.snapThresholdX = this.options.snapThreshold, this.snapThresholdY = this.options.snapThreshold) : (this.snapThresholdX = n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold), this.snapThresholdY = n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold))
                    }
                }), this.on("flick", function() {
                    var e = this.options.snapSpeed || n.max(n.max(n.min(n.abs(this.x - this.startX), 1e3), n.min(n.abs(this.y - this.startY), 1e3)), 300);
                    this.goToPage(this.currentPage.pageX + this.directionX, this.currentPage.pageY + this.directionY, e)
                })
            },
            _nearestSnap: function(e, t) {
                if (!this.pages.length) return {
                    x: 0,
                    y: 0,
                    pageX: 0,
                    pageY: 0
                };
                var i = 0,
                    a = this.pages.length,
                    s = 0;
                if (n.abs(e - this.absStartX) < this.snapThresholdX && n.abs(t - this.absStartY) < this.snapThresholdY) return this.currentPage;
                for (e > 0 ? e = 0 : e < this.maxScrollX && (e = this.maxScrollX), t > 0 ? t = 0 : t < this.maxScrollY && (t = this.maxScrollY); a > i; i++)
                    if (e >= this.pages[i][0].cx) {
                        e = this.pages[i][0].x;
                        break
                    }
                for (a = this.pages[i].length; a > s; s++)
                    if (t >= this.pages[0][s].cy) {
                        t = this.pages[0][s].y;
                        break
                    }
                return i == this.currentPage.pageX && (i += this.directionX, 0 > i ? i = 0 : i >= this.pages.length && (i = this.pages.length - 1), e = this.pages[i][0].x), s == this.currentPage.pageY && (s += this.directionY, 0 > s ? s = 0 : s >= this.pages[0].length && (s = this.pages[0].length - 1), t = this.pages[0][s].y), {
                    x: e,
                    y: t,
                    pageX: i,
                    pageY: s
                }
            },
            goToPage: function(e, t, i, a) {
                a = a || this.options.bounceEasing, e >= this.pages.length ? e = this.pages.length - 1 : 0 > e && (e = 0), t >= this.pages[e].length ? t = this.pages[e].length - 1 : 0 > t && (t = 0);
                var s = this.pages[e][t].x,
                    o = this.pages[e][t].y;
                i = void 0 === i ? this.options.snapSpeed || n.max(n.max(n.min(n.abs(s - this.x), 1e3), n.min(n.abs(o - this.y), 1e3)), 300) : i, this.currentPage = {
                    x: s,
                    y: o,
                    pageX: e,
                    pageY: t
                }, this.scrollTo(s, o, i, a)
            },
            next: function(e, t) {
                var i = this.currentPage.pageX,
                    n = this.currentPage.pageY;
                i++, i >= this.pages.length && this.hasVerticalScroll && (i = 0, n++), this.goToPage(i, n, e, t)
            },
            prev: function(e, t) {
                var i = this.currentPage.pageX,
                    n = this.currentPage.pageY;
                i--, 0 > i && this.hasVerticalScroll && (i = 0, n--), this.goToPage(i, n, e, t)
            },
            _initKeys: function() {
                var t, i = {
                    pageUp: 33,
                    pageDown: 34,
                    end: 35,
                    home: 36,
                    left: 37,
                    up: 38,
                    right: 39,
                    down: 40
                };
                if ("object" == typeof this.options.keyBindings)
                    for (t in this.options.keyBindings) "string" == typeof this.options.keyBindings[t] && (this.options.keyBindings[t] = this.options.keyBindings[t].toUpperCase().charCodeAt(0));
                else this.options.keyBindings = {};
                for (t in i) this.options.keyBindings[t] = this.options.keyBindings[t] || i[t];
                l.addEvent(e, "keydown", this), this.on("destroy", function() {
                    l.removeEvent(e, "keydown", this)
                })
            },
            _key: function(e) {
                if (this.enabled) {
                    var t, i = this.options.snap,
                        a = i ? this.currentPage.pageX : this.x,
                        s = i ? this.currentPage.pageY : this.y,
                        o = l.getTime(),
                        r = this.keyTime || 0,
                        c = .25;
                    switch (this.options.useTransition && this.isInTransition && (t = this.getComputedPosition(), this._translate(n.round(t.x), n.round(t.y)), this.isInTransition = !1), this.keyAcceleration = 200 > o - r ? n.min(this.keyAcceleration + c, 50) : 0, e.keyCode) {
                        case this.options.keyBindings.pageUp:
                            this.hasHorizontalScroll && !this.hasVerticalScroll ? a += i ? 1 : this.wrapperWidth : s += i ? 1 : this.wrapperHeight;
                            break;
                        case this.options.keyBindings.pageDown:
                            this.hasHorizontalScroll && !this.hasVerticalScroll ? a -= i ? 1 : this.wrapperWidth : s -= i ? 1 : this.wrapperHeight;
                            break;
                        case this.options.keyBindings.end:
                            a = i ? this.pages.length - 1 : this.maxScrollX, s = i ? this.pages[0].length - 1 : this.maxScrollY;
                            break;
                        case this.options.keyBindings.home:
                            a = 0, s = 0;
                            break;
                        case this.options.keyBindings.left:
                            a += i ? -1 : 5 + this.keyAcceleration >> 0;
                            break;
                        case this.options.keyBindings.up:
                            s += i ? 1 : 5 + this.keyAcceleration >> 0;
                            break;
                        case this.options.keyBindings.right:
                            a -= i ? -1 : 5 + this.keyAcceleration >> 0;
                            break;
                        case this.options.keyBindings.down:
                            s -= i ? 1 : 5 + this.keyAcceleration >> 0;
                            break;
                        default:
                            return
                    }
                    if (i) return void this.goToPage(a, s);
                    a > 0 ? (a = 0, this.keyAcceleration = 0) : a < this.maxScrollX && (a = this.maxScrollX, this.keyAcceleration = 0), s > 0 ? (s = 0, this.keyAcceleration = 0) : s < this.maxScrollY && (s = this.maxScrollY, this.keyAcceleration = 0), this.scrollTo(a, s, 0), this.keyTime = o
                }
            },
            _animate: function(e, t, i, n) {
                function a() {
                    var p, u, m, f = l.getTime();
                    return f >= d ? (s.isAnimating = !1, s._translate(e, t), void(s.resetPosition(s.options.bounceTime) || s._execEvent("scrollEnd"))) : (f = (f - h) / i, m = n(f), p = (e - o) * m + o, u = (t - c) * m + c, s._translate(p, u), void(s.isAnimating && r(a)))
                }
                var s = this,
                    o = this.x,
                    c = this.y,
                    h = l.getTime(),
                    d = h + i;
                this.isAnimating = !0, a()
            },
            handleEvent: function(e) {
                switch (e.type) {
                    case "touchstart":
                    case "MSPointerDown":
                    case "mousedown":
                        this._start(e);
                        break;
                    case "touchmove":
                    case "MSPointerMove":
                    case "mousemove":
                        this._move(e);
                        break;
                    case "touchend":
                    case "MSPointerUp":
                    case "mouseup":
                    case "touchcancel":
                    case "MSPointerCancel":
                    case "mousecancel":
                        this._end(e);
                        break;
                    case "orientationchange":
                    case "resize":
                        this._resize();
                        break;
                    case "transitionend":
                    case "webkitTransitionEnd":
                    case "oTransitionEnd":
                    case "MSTransitionEnd":
                        this._transitionEnd(e);
                        break;
                    case "wheel":
                    case "DOMMouseScroll":
                    case "mousewheel":
                        this._wheel(e);
                        break;
                    case "keydown":
                        this._key(e);
                        break;
                    case "click":
                        e._constructed || (e.preventDefault(), e.stopPropagation())
                }
            }
        }, o.prototype = {
            handleEvent: function(e) {
                switch (e.type) {
                    case "touchstart":
                    case "MSPointerDown":
                    case "mousedown":
                        this._start(e);
                        break;
                    case "touchmove":
                    case "MSPointerMove":
                    case "mousemove":
                        this._move(e);
                        break;
                    case "touchend":
                    case "MSPointerUp":
                    case "mouseup":
                    case "touchcancel":
                    case "MSPointerCancel":
                    case "mousecancel":
                        this._end(e)
                }
            },
            destroy: function() {
                this.options.interactive && (l.removeEvent(this.indicator, "touchstart", this), l.removeEvent(this.indicator, "MSPointerDown", this), l.removeEvent(this.indicator, "mousedown", this), l.removeEvent(e, "touchmove", this), l.removeEvent(e, "MSPointerMove", this), l.removeEvent(e, "mousemove", this), l.removeEvent(e, "touchend", this), l.removeEvent(e, "MSPointerUp", this), l.removeEvent(e, "mouseup", this)), this.options.defaultScrollbars && this.wrapper.parentNode.removeChild(this.wrapper)
            },
            _start: function(t) {
                var i = t.touches ? t.touches[0] : t;
                t.preventDefault(), t.stopPropagation(), this.transitionTime(), this.initiated = !0, this.moved = !1, this.lastPointX = i.pageX, this.lastPointY = i.pageY, this.startTime = l.getTime(), this.options.disableTouch || l.addEvent(e, "touchmove", this), this.options.disablePointer || l.addEvent(e, "MSPointerMove", this), this.options.disableMouse || l.addEvent(e, "mousemove", this), this.scroller._execEvent("beforeScrollStart")
            },
            _move: function(e) {
                {
                    var t, i, n, a, s = e.touches ? e.touches[0] : e;
                    l.getTime()
                }
                this.moved || this.scroller._execEvent("scrollStart"), this.moved = !0, t = s.pageX - this.lastPointX, this.lastPointX = s.pageX, i = s.pageY - this.lastPointY, this.lastPointY = s.pageY, n = this.x + t, a = this.y + i, this._pos(n, a), e.preventDefault(), e.stopPropagation()
            },
            _end: function(t) {
                if (this.initiated) {
                    if (this.initiated = !1, t.preventDefault(), t.stopPropagation(), l.removeEvent(e, "touchmove", this), l.removeEvent(e, "MSPointerMove", this), l.removeEvent(e, "mousemove", this), this.scroller.options.snap) {
                        var i = this.scroller._nearestSnap(this.scroller.x, this.scroller.y),
                            a = this.options.snapSpeed || n.max(n.max(n.min(n.abs(this.scroller.x - i.x), 1e3), n.min(n.abs(this.scroller.y - i.y), 1e3)), 300);
                        (this.scroller.x != i.x || this.scroller.y != i.y) && (this.scroller.directionX = 0, this.scroller.directionY = 0, this.scroller.currentPage = i, this.scroller.scrollTo(i.x, i.y, a, this.scroller.options.bounceEasing))
                    }
                    this.moved && this.scroller._execEvent("scrollEnd")
                }
            },
            transitionTime: function(e) {
                e = e || 0, this.indicatorStyle[l.style.transitionDuration] = e + "ms", !e && l.isBadAndroid && (this.indicatorStyle[l.style.transitionDuration] = "0.001s")
            },
            transitionTimingFunction: function(e) {
                this.indicatorStyle[l.style.transitionTimingFunction] = e
            },
            refresh: function() {
                this.transitionTime(), this.indicatorStyle.display = this.options.listenX && !this.options.listenY ? this.scroller.hasHorizontalScroll ? "block" : "none" : this.options.listenY && !this.options.listenX ? this.scroller.hasVerticalScroll ? "block" : "none" : this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? "block" : "none", this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ? (l.addClass(this.wrapper, "iScrollBothScrollbars"), l.removeClass(this.wrapper, "iScrollLoneScrollbar"), this.options.defaultScrollbars && this.options.customStyle && (this.options.listenX ? this.wrapper.style.right = "8px" : this.wrapper.style.bottom = "8px")) : (l.removeClass(this.wrapper, "iScrollBothScrollbars"), l.addClass(this.wrapper, "iScrollLoneScrollbar"), this.options.defaultScrollbars && this.options.customStyle && (this.options.listenX ? this.wrapper.style.right = "2px" : this.wrapper.style.bottom = "2px"));
                this.wrapper.offsetHeight;
                this.options.listenX && (this.wrapperWidth = this.wrapper.clientWidth, this.options.resize ? (this.indicatorWidth = n.max(n.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8), this.indicatorStyle.width = this.indicatorWidth + "px") : this.indicatorWidth = this.indicator.clientWidth, this.maxPosX = this.wrapperWidth - this.indicatorWidth, "clip" == this.options.shrink ? (this.minBoundaryX = -this.indicatorWidth + 8, this.maxBoundaryX = this.wrapperWidth - 8) : (this.minBoundaryX = 0, this.maxBoundaryX = this.maxPosX), this.sizeRatioX = this.options.speedRatioX || this.scroller.maxScrollX && this.maxPosX / this.scroller.maxScrollX), this.options.listenY && (this.wrapperHeight = this.wrapper.clientHeight, this.options.resize ? (this.indicatorHeight = n.max(n.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8), this.indicatorStyle.height = this.indicatorHeight + "px") : this.indicatorHeight = this.indicator.clientHeight, this.maxPosY = this.wrapperHeight - this.indicatorHeight, "clip" == this.options.shrink ? (this.minBoundaryY = -this.indicatorHeight + 8, this.maxBoundaryY = this.wrapperHeight - 8) : (this.minBoundaryY = 0, this.maxBoundaryY = this.maxPosY), this.maxPosY = this.wrapperHeight - this.indicatorHeight, this.sizeRatioY = this.options.speedRatioY || this.scroller.maxScrollY && this.maxPosY / this.scroller.maxScrollY), this.updatePosition()
            },
            updatePosition: function() {
                var e = this.options.listenX && n.round(this.sizeRatioX * this.scroller.x) || 0,
                    t = this.options.listenY && n.round(this.sizeRatioY * this.scroller.y) || 0;
                this.options.ignoreBoundaries || (e < this.minBoundaryX ? ("scale" == this.options.shrink && (this.width = n.max(this.indicatorWidth + e, 8), this.indicatorStyle.width = this.width + "px"), e = this.minBoundaryX) : e > this.maxBoundaryX ? "scale" == this.options.shrink ? (this.width = n.max(this.indicatorWidth - (e - this.maxPosX), 8), this.indicatorStyle.width = this.width + "px", e = this.maxPosX + this.indicatorWidth - this.width) : e = this.maxBoundaryX : "scale" == this.options.shrink && this.width != this.indicatorWidth && (this.width = this.indicatorWidth, this.indicatorStyle.width = this.width + "px"), t < this.minBoundaryY ? ("scale" == this.options.shrink && (this.height = n.max(this.indicatorHeight + 3 * t, 8), this.indicatorStyle.height = this.height + "px"), t = this.minBoundaryY) : t > this.maxBoundaryY ? "scale" == this.options.shrink ? (this.height = n.max(this.indicatorHeight - 3 * (t - this.maxPosY), 8), this.indicatorStyle.height = this.height + "px", t = this.maxPosY + this.indicatorHeight - this.height) : t = this.maxBoundaryY : "scale" == this.options.shrink && this.height != this.indicatorHeight && (this.height = this.indicatorHeight, this.indicatorStyle.height = this.height + "px")), this.x = e, this.y = t, this.scroller.options.useTransform ? this.indicatorStyle[l.style.transform] = "translate(" + e + "px," + t + "px)" + this.scroller.translateZ : (this.indicatorStyle.left = e + "px", this.indicatorStyle.top = t + "px")
            },
            _pos: function(e, t) {
                0 > e ? e = 0 : e > this.maxPosX && (e = this.maxPosX), 0 > t ? t = 0 : t > this.maxPosY && (t = this.maxPosY), e = this.options.listenX ? n.round(e / this.sizeRatioX) : this.scroller.x, t = this.options.listenY ? n.round(t / this.sizeRatioY) : this.scroller.y, this.scroller.scrollTo(e, t)
            },
            fade: function(e, t) {
                if (!t || this.visible) {
                    clearTimeout(this.fadeTimeout), this.fadeTimeout = null;
                    var i = e ? 250 : 500,
                        n = e ? 0 : 300;
                    e = e ? "1" : "0", this.wrapperStyle[l.style.transitionDuration] = i + "ms", this.fadeTimeout = setTimeout(function(e) {
                        this.wrapperStyle.opacity = e, this.visible = +e
                    }.bind(this, e), n)
                }
            }
        }, a.utils = l, "undefined" != typeof i && i.exports ? i.exports = a : e.IScroll = a
    }(window, document, Math)
}), require.register("lib/jquery.bxslider", function() {
    ! function(e) {
        var t = {},
            n = {
                mode: "horizontal",
                slideSelector: "",
                infiniteLoop: !0,
                hideControlOnEnd: !1,
                speed: 500,
                easing: null,
                slideMargin: 0,
                startSlide: 0,
                randomStart: !1,
                captions: !1,
                ticker: !1,
                tickerHover: !1,
                adaptiveHeight: !1,
                adaptiveHeightSpeed: 500,
                video: !1,
                useCSS: !0,
                preloadImages: "visible",
                responsive: !0,
                touchEnabled: !0,
                swipeThreshold: 100,
                oneToOneTouch: !0,
                velocityTouch: !1,
                preventDefaultSwipeX: !0,
                preventDefaultSwipeY: !1,
                pager: !0,
                pagerType: "full",
                pagerShortSeparator: " / ",
                pagerSelector: null,
                buildPager: null,
                pagerCustom: null,
                controls: !0,
                nextText: "Next",
                prevText: "Prev",
                nextSelector: null,
                prevSelector: null,
                autoControls: !1,
                startText: "Start",
                stopText: "Stop",
                autoControlsCombine: !1,
                autoControlsSelector: null,
                snap: !0,
                variableSlideWidth: !1,
                auto: !1,
                pause: 4e3,
                autoStart: !0,
                autoDirection: "next",
                autoHover: !1,
                autoDelay: 0,
                minSlides: 1,
                maxSlides: 1,
                moveSlides: 0,
                slideWidth: 0,
                onSliderLoad: function() {},
                onSlideBefore: function() {},
                onSlideAfter: function() {},
                onSlideNext: function() {},
                onSlidePrev: function() {}
            };
        e.fn.bxSlider = function(a) {
            if (0 == this.length) return this;
            if (this.length > 1) return this.each(function() {
                e(this).bxSlider(a)
            }), this;
            var s = {},
                o = this;
            t.el = this;
            var r = e(window).width(),
                l = e(window).height(),
                c = function() {
                    s.settings = e.extend({}, n, a), s.settings.slideWidth = parseInt(s.settings.slideWidth), s.children = o.children(s.settings.slideSelector), s.children.length < s.settings.minSlides && (s.settings.minSlides = s.children.length), s.children.length < s.settings.maxSlides && (s.settings.maxSlides = s.children.length), s.settings.randomStart && (s.settings.startSlide = Math.floor(Math.random() * s.children.length)), s.active = {
                        index: s.settings.startSlide
                    }, s.carousel = s.settings.minSlides > 1 || s.settings.maxSlides > 1, s.carousel && (s.settings.preloadImages = "all"), s.minThreshold = s.settings.minSlides * s.settings.slideWidth + (s.settings.minSlides - 1) * s.settings.slideMargin, s.maxThreshold = s.settings.maxSlides * s.settings.slideWidth + (s.settings.maxSlides - 1) * s.settings.slideMargin, s.working = !1, s.controls = {}, s.interval = null, s.animProp = "vertical" == s.settings.mode ? "top" : "left", s.usingCSS = s.settings.useCSS && "fade" != s.settings.mode && function() {
                        var e = document.createElement("div"),
                            t = ["WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"];
                        for (var i in t)
                            if (void 0 !== e.style[t[i]]) return s.cssPrefix = t[i].replace("Perspective", "").toLowerCase(), s.animProp = "-" + s.cssPrefix + "-transform", !0;
                        return !1
                    }(), "vertical" == s.settings.mode && (s.settings.maxSlides = s.settings.minSlides), o.data("origStyle", o.attr("style")), o.children(s.settings.slideSelector).each(function() {
                        e(this).data("origStyle", e(this).attr("style"))
                    }), h()
                },
                h = function() {
                    o.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'), s.viewport = o.parent(), s.loader = e('<div class="bx-loading" />'), s.viewport.prepend(s.loader), o.css({
                        width: "horizontal" == s.settings.mode ? 100 * s.children.length + 265 + "%" : "auto",
                        position: "relative"
                    }), s.usingCSS && s.settings.easing ? o.css("-" + s.cssPrefix + "-transition-timing-function", s.settings.easing) : s.settings.easing || (s.settings.easing = "swing");
                    g();
                    s.viewport.css({
                        width: "100%",
                        overflow: "hidden",
                        position: "relative"
                    }), s.viewport.parent().css({
                        maxWidth: m()
                    }), s.settings.pager || s.viewport.parent().css({
                        margin: "0 auto 0px"
                    }), s.children.css({
                        "float": "horizontal" == s.settings.mode ? "left" : "none",
                        listStyle: "none",
                        position: "relative"
                    }), s.children.css("width", f()), "horizontal" == s.settings.mode && s.settings.slideMargin > 0 && s.children.css("marginRight", s.settings.slideMargin), "vertical" == s.settings.mode && s.settings.slideMargin > 0 && s.children.css("marginBottom", s.settings.slideMargin), "fade" == s.settings.mode && (s.children.css({
                        position: "absolute",
                        zIndex: 0,
                        display: "none"
                    }), s.children.eq(s.settings.startSlide).css({
                        zIndex: 50,
                        display: "block"
                    })), s.controls.el = e('<div class="bx-controls" />'), s.settings.captions && C(), s.active.last = s.settings.startSlide == v() - 1, s.settings.video && o.fitVids();
                    var t = s.children.eq(s.settings.startSlide);
                    "all" == s.settings.preloadImages && (t = s.children), s.settings.ticker ? s.settings.pager = !1 : (s.settings.pager && k(), s.settings.controls && S(), s.settings.auto && s.settings.autoControls && T(), (s.settings.controls || s.settings.autoControls || s.settings.pager) && s.viewport.after(s.controls.el)), d(t, p)
                },
                d = function(t, i) {
                    var n = t.find("img:visible, iframe").length;
                    if (0 == n) return void i();
                    var a = 0;
                    t.find("img:visible, iframe").each(function() {
                        e(this).one("load error", function() {
                            ++a == n && i()
                        }).each(function() {
                            this.complete && e(this).load()
                        })
                    })
                },
                p = function() {
                    if (s.settings.infiniteLoop && "fade" != s.settings.mode && !s.settings.ticker) {
                        var t = "vertical" == s.settings.mode ? s.settings.minSlides : s.settings.maxSlides,
                            i = s.children.slice(0, t).clone().addClass("bx-clone"),
                            n = s.children.slice(-t).clone().addClass("bx-clone");
                        o.append(i).prepend(n)
                    }
                    s.loader.remove(), b(), "vertical" == s.settings.mode && (s.settings.adaptiveHeight = !0), s.viewport.height(u()), o.redrawSlider(), s.settings.onSliderLoad(s.active.index), s.initialized = !0, s.settings.responsive && e(window).bind("resize", q), s.settings.auto && s.settings.autoStart && N(), s.settings.ticker && O(), s.settings.pager && P(s.settings.startSlide), s.settings.controls && z(), s.settings.touchEnabled && !s.settings.ticker && R()
                },
                u = function() {
                    var t = 0,
                        n = e();
                    if ("vertical" == s.settings.mode || s.settings.adaptiveHeight)
                        if (s.carousel) {
                            var a = 1 == s.settings.moveSlides ? s.active.index : s.active.index * w();
                            for (n = s.children.eq(a), i = 1; i <= s.settings.maxSlides - 1; i++) n = n.add(a + i >= s.children.length ? s.children.eq(i - 1) : s.children.eq(a + i))
                        } else n = s.children.eq(s.active.index);
                    else n = s.children;
                    return "vertical" == s.settings.mode ? (n.each(function() {
                        t += e(this).outerHeight()
                    }), s.settings.slideMargin > 0 && (t += s.settings.slideMargin * (s.settings.minSlides - 1))) : t = Math.max.apply(Math, n.map(function() {
                        return e(this).outerHeight(!1)
                    }).get()), t
                },
                m = function() {
                    var e = "100%";
                    return s.settings.slideWidth > 0 && (e = "horizontal" == s.settings.mode ? s.settings.maxSlides * s.settings.slideWidth + (s.settings.maxSlides - 1) * s.settings.slideMargin : s.settings.slideWidth), e
                },
                f = function() {
                    var e = s.settings.slideWidth,
                        t = s.viewport.width();
                    return 0 == s.settings.slideWidth || s.settings.slideWidth > t && !s.carousel || "vertical" == s.settings.mode ? e = t : s.settings.maxSlides > 1 && "horizontal" == s.settings.mode && (t > s.maxThreshold || t < s.minThreshold && (e = (t - s.settings.slideMargin * (s.settings.minSlides - 1)) / s.settings.minSlides)), e
                },
                g = function() {
                    var e = 1;
                    if ("horizontal" == s.settings.mode && s.settings.slideWidth > 0)
                        if (s.viewport.width() < s.minThreshold) e = s.settings.minSlides;
                        else if (s.viewport.width() > s.maxThreshold) e = s.settings.maxSlides;
                    else {
                        var t = s.children.last().width();
                        e = Math.floor(s.viewport.width() / t)
                    } else "vertical" == s.settings.mode && (e = s.settings.minSlides);
                    return e
                },
                v = function() {
                    var e = 0;
                    if (s.settings.moveSlides > 0)
                        if (s.settings.infiniteLoop) e = s.children.length / w();
                        else
                            for (var t = 0, i = 0; t < s.children.length;) ++e, t = i + g(), i += s.settings.moveSlides <= g() ? s.settings.moveSlides : g();
                    else e = Math.ceil(s.children.length / g());
                    return e
                },
                w = function() {
                    return s.settings.moveSlides > 0 && s.settings.moveSlides <= g() ? s.settings.moveSlides : g()
                },
                b = function() {
                    if (s.children.length > s.settings.maxSlides && s.active.last && !s.settings.infiniteLoop) {
                        if ("horizontal" == s.settings.mode) {
                            var e = s.children.last(),
                                t = e.position();
                            y(-(t.left - (s.viewport.width() - e.width())), "reset", 0)
                        } else if ("vertical" == s.settings.mode) {
                            var i = s.children.length - s.settings.minSlides,
                                t = s.children.eq(i).position();
                            y(-t.top, "reset", 0)
                        }
                    } else {
                        var t = s.children.eq(s.active.index * w()).position();
                        s.active.index == v() - 1 && (s.active.last = !0), void 0 != t && ("horizontal" == s.settings.mode ? y(-t.left, "reset", 0) : "vertical" == s.settings.mode && y(-t.top, "reset", 0))
                    }
                },
                y = function(e, t, i, n) {
                    if (s.resetPosition = e, s.usingCSS) {
                        var a = "vertical" == s.settings.mode ? "translate3d(0, " + e + "px, 0)" : "translate3d(" + e + "px, 0, 0)";
                        o.css("-" + s.cssPrefix + "-transition-duration", i / 1e3 + "s"), "slide" == t ? (o.css(s.animProp, a), o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function() {
                            o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"), I()
                        })) : "reset" == t ? o.css(s.animProp, a) : "ticker" == t && (o.css("-" + s.cssPrefix + "-transition-timing-function", "linear"), o.css(s.animProp, a), o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function() {
                            o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"), y(n.resetValue, "reset", 0), B()
                        }))
                    } else {
                        var r = {};
                        r[s.animProp] = e, "slide" == t ? o.animate(r, i, s.settings.easing, function() {
                            I()
                        }) : "reset" == t ? o.css(s.animProp, e) : "ticker" == t && o.animate(r, speed, "linear", function() {
                            y(n.resetValue, "reset", 0), B()
                        })
                    }
                },
                x = function() {
                    for (var t = "", i = v(), n = 0; i > n; n++) {
                        var a = "";
                        s.settings.buildPager && e.isFunction(s.settings.buildPager) ? (a = s.settings.buildPager(n), s.pagerEl.addClass("bx-custom-pager")) : (a = n + 1, s.pagerEl.addClass("bx-default-pager")), t += '<div class="bx-pager-item"><a href="" data-slide-index="' + n + '" class="bx-pager-link">' + a + "</a></div>"
                    }
                    s.pagerEl.html(t)
                },
                k = function() {
                    s.settings.pagerCustom ? s.pagerEl = e(s.settings.pagerCustom) : (s.pagerEl = e('<div class="bx-pager" />'), s.settings.pagerSelector ? e(s.settings.pagerSelector).html(s.pagerEl) : s.controls.el.addClass("bx-has-pager").append(s.pagerEl), x()), s.pagerEl.delegate("a", "click", D)
                },
                S = function() {
                    s.controls.next = e('<a class="bx-next" href="">' + s.settings.nextText + "</a>"), s.controls.prev = e('<a class="bx-prev" href="">' + s.settings.prevText + "</a>"), s.controls.next.bind("click", E), s.controls.prev.bind("click", A), s.settings.nextSelector && e(s.settings.nextSelector).append(s.controls.next), s.settings.prevSelector && e(s.settings.prevSelector).append(s.controls.prev), s.settings.nextSelector || s.settings.prevSelector || (s.controls.directionEl = e('<div class="bx-controls-direction" />'), s.controls.directionEl.append(s.controls.prev).append(s.controls.next), s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))
                },
                T = function() {
                    s.controls.start = e('<div class="bx-controls-auto-item"><a class="bx-start" href="">' + s.settings.startText + "</a></div>"), s.controls.stop = e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">' + s.settings.stopText + "</a></div>"), s.controls.autoEl = e('<div class="bx-controls-auto" />'), s.controls.autoEl.delegate(".bx-start", "click", M), s.controls.autoEl.delegate(".bx-stop", "click", L), s.settings.autoControlsCombine ? s.controls.autoEl.append(s.controls.start) : s.controls.autoEl.append(s.controls.start).append(s.controls.stop), s.settings.autoControlsSelector ? e(s.settings.autoControlsSelector).html(s.controls.autoEl) : s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl), $(s.settings.autoStart ? "stop" : "start")
                },
                C = function() {
                    s.children.each(function() {
                        var t = e(this).find("img:first").attr("title");
                        void 0 != t && ("" + t).length && e(this).append('<div class="bx-caption"><span>' + t + "</span></div>")
                    })
                },
                E = function(e) {
                    s.settings.auto && o.stopAuto(), o.goToNextSlide(), e.preventDefault()
                },
                A = function(e) {
                    s.settings.auto && o.stopAuto(), o.goToPrevSlide(), e.preventDefault()
                },
                M = function(e) {
                    o.startAuto(), e.preventDefault()
                },
                L = function(e) {
                    o.stopAuto(), e.preventDefault()
                },
                D = function(t) {
                    s.settings.auto && o.stopAuto();
                    var i = e(t.currentTarget),
                        n = parseInt(i.attr("data-slide-index"));
                    n != s.active.index && o.goToSlide(n), t.preventDefault()
                },
                P = function(t) {
                    var i = s.children.length;
                    return "short" == s.settings.pagerType ? (s.settings.maxSlides > 1 && (i = Math.ceil(s.children.length / s.settings.maxSlides)), void s.pagerEl.html(t + 1 + s.settings.pagerShortSeparator + i)) : (s.pagerEl.find("a").removeClass("active"), void s.pagerEl.each(function(i, n) {
                        e(n).find("a").eq(t).addClass("active")
                    }))
                },
                I = function() {
                    if (s.settings.infiniteLoop) {
                        var e = "";
                        0 == s.active.index ? e = s.children.eq(0).position() : s.active.index == v() - 1 && s.carousel ? e = s.children.eq((v() - 1) * w()).position() : s.active.index == s.children.length - 1 && (e = s.children.eq(s.children.length - 1).position()), "horizontal" == s.settings.mode ? y(-e.left, "reset", 0) : "vertical" == s.settings.mode && y(-e.top, "reset", 0)
                    }
                    s.working = !1, s.settings.onSlideAfter(s.children.eq(s.active.index), s.oldIndex, s.active.index)
                },
                $ = function(e) {
                    s.settings.autoControlsCombine ? s.controls.autoEl.html(s.controls[e]) : (s.controls.autoEl.find("a").removeClass("active"), s.controls.autoEl.find("a:not(.bx-" + e + ")").addClass("active"))
                },
                z = function() {
                    1 == v() ? (s.controls.prev.addClass("disabled"), s.controls.next.addClass("disabled")) : !s.settings.infiniteLoop && s.settings.hideControlOnEnd && (0 == s.active.index ? (s.controls.prev.addClass("disabled"), s.controls.next.removeClass("disabled")) : s.active.index == v() - 1 ? (s.controls.next.addClass("disabled"), s.controls.prev.removeClass("disabled")) : (s.controls.prev.removeClass("disabled"), s.controls.next.removeClass("disabled")))
                },
                N = function() {
                    if (s.settings.autoDelay > 0) {
                        setTimeout(o.startAuto, s.settings.autoDelay)
                    } else o.startAuto();
                    s.settings.autoHover && o.hover(function() {
                        s.interval && (o.stopAuto(!0), s.autoPaused = !0)
                    }, function() {
                        s.autoPaused && (o.startAuto(!0), s.autoPaused = null)
                    })
                },
                O = function() {
                    var t = 0;
                    if ("next" == s.settings.autoDirection) o.append(s.children.clone().addClass("bx-clone"));
                    else {
                        o.prepend(s.children.clone().addClass("bx-clone"));
                        var i = s.children.first().position();
                        t = "horizontal" == s.settings.mode ? -i.left : -i.top
                    }
                    y(t, "reset", 0), s.settings.pager = !1, s.settings.controls = !1, s.settings.autoControls = !1, s.settings.tickerHover && !s.usingCSS && s.viewport.hover(function() {
                        o.stop()
                    }, function() {
                        var t = 0;
                        s.children.each(function() {
                            t += "horizontal" == s.settings.mode ? e(this).outerWidth(!0) : e(this).outerHeight(!0)
                        });
                        var i = s.settings.speed / t,
                            n = "horizontal" == s.settings.mode ? "left" : "top",
                            a = i * (t - Math.abs(parseInt(o.css(n))));
                        B(a)
                    }), B()
                },
                B = function(e) {
                    speed = e ? e : s.settings.speed;
                    var t = {
                            left: 0,
                            top: 0
                        },
                        i = {
                            left: 0,
                            top: 0
                        };
                    "next" == s.settings.autoDirection ? t = o.find(".bx-clone").first().position() : i = s.children.first().position();
                    var n = "horizontal" == s.settings.mode ? -t.left : -t.top,
                        a = "horizontal" == s.settings.mode ? -i.left : -i.top,
                        r = {
                            resetValue: a
                        };
                    y(n, "ticker", speed, r)
                },
                R = function() {
                    s.touch = {
                        start: {
                            x: 0,
                            y: 0
                        },
                        end: {
                            x: 0,
                            y: 0
                        }
                    }, s.velocityData = {}, s.viewport.bind("touchstart", U)
                },
                U = function(e) {
                    if (s.working) e.preventDefault();
                    else {
                        s.touch.originalPos = o.position();
                        var t = e.originalEvent;
                        s.touch.start.x = t.changedTouches[0].pageX, s.touch.start.y = t.changedTouches[0].pageY, s.viewport.bind("touchmove", j), s.viewport.bind("touchend", Z), s.settings.velocityTouch && (s.velocityData.velocity = s.velocityData.amplitude = 0, s.velocityData.offset = s.resetPosition || 0, s.velocityData.frame = s.velocityData.offset, s.velocityData.timestamp = Date.now())
                    }
                },
                j = function(e) {
                    var t = e.originalEvent,
                        i = Math.abs(t.changedTouches[0].pageX - s.touch.start.x),
                        n = Math.abs(t.changedTouches[0].pageY - s.touch.start.y);
                    if (3 * i > n && s.settings.preventDefaultSwipeX ? e.preventDefault() : 3 * n > i && s.settings.preventDefaultSwipeY && e.preventDefault(), "fade" != s.settings.mode && s.settings.oneToOneTouch) {
                        var a = 0;
                        if ("horizontal" == s.settings.mode) {
                            var o = t.changedTouches[0].pageX - s.touch.start.x;
                            a = s.touch.originalPos.left + o
                        } else {
                            var o = t.changedTouches[0].pageY - s.touch.start.y;
                            a = s.touch.originalPos.top + o
                        }
                        if (y(a, "reset", 0), s.settings.velocityTouch) {
                            var r, l, c, h;
                            r = Date.now(), l = r - s.velocityData.timestamp, s.velocityData.timestamp = r, s.velocityData.offset = s.resetPosition, c = s.velocityData.offset - s.velocityData.frame, s.velocityData.frame = s.velocityData.offset, h = 1e3 * c / (1 + l), s.velocityData.velocity = .8 * h + .2 * s.velocityData.velocity
                        }
                    }
                },
                Z = function(t) {
                    s.viewport.unbind("touchmove", j);
                    var i = t.originalEvent,
                        n = 0;
                    if (s.touch.end.x = i.changedTouches[0].pageX, s.touch.end.y = i.changedTouches[0].pageY, "fade" == s.settings.mode) {
                        var a = Math.abs(s.touch.start.x - s.touch.end.x);
                        a >= s.settings.swipeThreshold && (s.touch.start.x > s.touch.end.x ? o.goToNextSlide() : o.goToPrevSlide(), o.stopAuto())
                    } else {
                        var a = 0;
                        if ("horizontal" == s.settings.mode ? (a = s.touch.end.x - s.touch.start.x, n = s.touch.originalPos.left) : (a = s.touch.end.y - s.touch.start.y, n = s.touch.originalPos.top), !s.settings.infiniteLoop && s.settings.oneToOneTouch && s.settings.velocityTouch) {
                            var r = function() {
                                var t, i, l = s.settings.slideWidth > 0 ? s.settings.slideWidth : f();
                                if (s.velocityData.amplitude) {
                                    if (t = Date.now() - s.velocityData.timestamp, i = -s.velocityData.amplitude * Math.exp(-t / 325), s.settings.variableSlideWidth) var c = _.reduce(_.map(e(s.children), function(t) {
                                        return e(t).width()
                                    }), function(e, t) {
                                        return e + t
                                    });
                                    else var c = (l + s.settings.slideMargin) * s.children.length - s.viewport.width();
                                    var h = -c + e(window).width() - 190,
                                        d = -35;
                                    if (s.velocityData.target + i > 0) s.settings.variableSlideWidth ? y(d, "reset", 200) : y(n, "reset", 200), s.settings.snap && o.goToSlide(0);
                                    else if (s.velocityData.target + i < (s.settings.variableSlideWidth ? h : -c)) {
                                        s.settings.variableSlideWidth ? y(h, "reset", 200) : y(n, "reset", 200);
                                        var p = Math.floor(s.viewport.width() / (l + s.settings.slideMargin));
                                        p = 0 >= p ? 1 : p, s.settings.snap && o.goToSlide(s.children.length - p)
                                    } else if (i > 5 || -5 > i) y(s.velocityData.target + i, "reset", 0), requestAnimationFrame(r);
                                    else {
                                        y(s.velocityData.target, "reset", 200);
                                        var u = Math.abs(Math.round(s.velocityData.target / (l + s.settings.slideMargin)));
                                        s.settings.snap && (0 > a ? o.goToSlide(u > s.children.length - 1 ? s.children.length - 1 : u, "next") : o.goToSlide(0 > u ? 0 : u, "prev"))
                                    }
                                }
                            };
                            (s.velocityData.velocity > 0 || s.velocityData.velocity < 0) && (s.velocityData.amplitude = .8 * s.velocityData.velocity, s.velocityData.target = Math.round(s.velocityData.offset + s.velocityData.amplitude), s.velocityData.timestamp = Date.now(), requestAnimationFrame(r))
                        } else if (s.settings.infiniteLoop && s.settings.oneToOneTouch && s.settings.velocityTouch) {
                            var r = function() {
                                var t, i;
                                if (s.velocityData.amplitude)
                                    if (t = Date.now() - s.velocityData.timestamp, i = -s.velocityData.amplitude * Math.exp(-t / 325), i > 5 || -5 > i) y(s.velocityData.target + i, "reset", 0), requestAnimationFrame(r);
                                    else {
                                        y(s.velocityData.target, "reset", 200);
                                        var n = Math.abs(Math.round(-(e(s.children[o.getCurrentSlide()]).position().left + s.velocityData.target) / (s.settings.slideWidth + s.settings.slideMargin)));
                                        0 > a ? o.goToSlide(o.getCurrentSlide() + n, "next") : o.goToSlide(o.getCurrentSlide() - n, "prev")
                                    }
                            };
                            (s.velocityData.velocity > 10 || s.velocityData.velocity < -10) && (s.velocityData.amplitude = .8 * s.velocityData.velocity, s.velocityData.target = Math.round(s.velocityData.offset + s.velocityData.amplitude), s.velocityData.timestamp = Date.now(), requestAnimationFrame(r))
                        } else !s.settings.infiniteLoop && (0 == s.active.index && a > 0 || s.active.last && 0 > a) ? y(n, "reset", 200) : Math.abs(a) >= s.settings.swipeThreshold ? o.stopAuto() : y(n, "reset", 200)
                    }
                    s.viewport.unbind("touchend", Z)
                },
                q = function() {
                    var t = e(window).width(),
                        i = e(window).height();
                    (r != t || l != i) && (r = t, l = i, o.redrawSlider())
                };
            return o.goToSlide = function(t, i) {
                if (s.working = !0, s.oldIndex = s.active.index, s.active.index = 0 > t ? v() - 1 : t, s.settings.onSlideBefore(s.children.eq(s.active.index), s.oldIndex, s.active.index), "next" == i ? s.settings.onSlideNext(s.children.eq(s.active.index), s.oldIndex, s.active.index) : "prev" == i && s.settings.onSlidePrev(s.children.eq(s.active.index), s.oldIndex, s.active.index), s.active.last = s.active.index >= v() - 1, s.settings.pager && P(s.active.index), s.settings.controls && z(), "fade" == s.settings.mode) s.settings.adaptiveHeight && s.viewport.height() != u() && s.viewport.animate({
                    height: u()
                }, s.settings.adaptiveHeightSpeed), s.children.filter(":visible").fadeOut(s.settings.speed).css({
                    zIndex: 0
                }), s.children.eq(s.active.index).css("zIndex", 51).fadeIn(s.settings.speed, function() {
                    e(this).css("zIndex", 50), I()
                });
                else {
                    s.settings.adaptiveHeight && s.viewport.height() != u() && s.viewport.animate({
                        height: u()
                    }, s.settings.adaptiveHeightSpeed);
                    var n = 0,
                        a = {
                            left: 0,
                            top: 0
                        };
                    if (!s.settings.infiniteLoop && s.carousel && s.active.last)
                        if ("horizontal" == s.settings.mode) {
                            var r = s.children.eq(s.children.length - 1);
                            a = r.position(), n = s.viewport.width() - r.outerWidth()
                        } else {
                            var l = s.children.length - s.settings.minSlides;
                            a = s.children.eq(l).position()
                        }
                    else if (s.carousel && s.active.last && "prev" == i) {
                        var c = 1 == s.settings.moveSlides ? s.settings.maxSlides - w() : (v() - 1) * w() - (s.children.length - s.settings.maxSlides),
                            r = o.children(".bx-clone").eq(c);
                        a = r.position()
                    } else if ("next" == i && 0 == s.active.index) a = o.find("> .bx-clone").eq(s.settings.maxSlides).position(), s.active.last = !1;
                    else if (t >= 0) {
                        var h = t * w();
                        a = s.children.eq(h).position()
                    }
                    if ("undefined" != typeof a) {
                        var d = "horizontal" == s.settings.mode ? -(a.left - n) : -a.top;
                        if (s.settings.controls && (s.controls.next.hasClass("disabled") || s.controls.prev.hasClass("disabled"))) var p = !0;
                        else var p = !1;
                        s.settings.controls && s.settings.maxSlides > 1 && !p && ("mobile" == window.device ? d = e(window).width() > 320 ? d + s.controls.next.width() + (s.viewport.width() - 2 * s.controls.next.width() - s.children.first().width()) / 2 : d + s.controls.next.width() + s.settings.slideMargin : "tablet" == window.device ? d -= s.children.first().width() - (s.viewport.width() / 2 - s.children.first().width() / 2) : d = d + s.controls.next.width() + s.settings.slideMargin), y(d, "slide", s.settings.speed)
                    }
                }
            }, o.goToNextSlide = function() {
                if (s.settings.infiniteLoop || !s.active.last) {
                    var e = parseInt(s.active.index) + 1;
                    o.goToSlide(e, "next")
                }
            }, o.goToPrevSlide = function() {
                if (s.settings.infiniteLoop || 0 != s.active.index) {
                    var e = parseInt(s.active.index) - 1;
                    o.goToSlide(e, "prev")
                }
            }, o.startAuto = function(e) {
                s.interval || (s.interval = setInterval(function() {
                    "next" == s.settings.autoDirection ? o.goToNextSlide() : o.goToPrevSlide()
                }, s.settings.pause), s.settings.autoControls && 1 != e && $("stop"))
            }, o.stopAuto = function(e) {
                s.interval && (clearInterval(s.interval), s.interval = null, s.settings.autoControls && 1 != e && $("start"))
            }, o.getCurrentSlide = function() {
                return s.active.index
            }, o.getSlideCount = function() {
                return s.children.length
            }, o.redrawSlider = function() {
                s.children.add(o.find(".bx-clone")).outerWidth(f()), s.viewport.css("height", u()), s.settings.ticker || b(), s.active.last && (s.active.index = v() - 1), s.active.index >= v() && (s.active.last = !0), s.settings.pager && !s.settings.pagerCustom && (x(), P(s.active.index))
            }, o.destroySlider = function() {
                s.initialized && (s.initialized = !1, e(".bx-clone", this).remove(), s.children.each(function() {
                    void 0 != e(this).data("origStyle") ? e(this).attr("style", e(this).data("origStyle")) : e(this).removeAttr("style")
                }), void 0 != e(this).data("origStyle") ? this.attr("style", e(this).data("origStyle")) : e(this).removeAttr("style"), e(this).unwrap().unwrap(), s.controls.el && s.controls.el.remove(), s.controls.next && s.controls.next.remove(), s.controls.prev && s.controls.prev.remove(), s.pagerEl && s.pagerEl.remove(), e(".bx-caption", this).remove(), s.controls.autoEl && s.controls.autoEl.remove(), clearInterval(s.interval), s.settings.responsive && e(window).unbind("resize", q))
            }, o.reloadSlider = function(e) {
                void 0 != e && (a = e), o.destroySlider(), c()
            }, o.setPositionProperty = y, c(), this
        }
    }(jQuery)
}), require.register("lib/jquery.cookie", function() {
    ! function(e) {
        "function" == typeof define && define.amd ? define(["jquery"], e) : e(jQuery)
    }(function(e) {
        function t(e) {
            return r.raw ? e : encodeURIComponent(e)
        }

        function i(e) {
            return r.raw ? e : decodeURIComponent(e)
        }

        function n(e) {
            return t(r.json ? JSON.stringify(e) : String(e))
        }

        function a(e) {
            0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
            try {
                e = decodeURIComponent(e.replace(o, " "))
            } catch (t) {
                return
            }
            try {
                return r.json ? JSON.parse(e) : e
            } catch (t) {}
        }

        function s(t, i) {
            var n = r.raw ? t : a(t);
            return e.isFunction(i) ? i(n) : n
        }
        var o = /\+/g,
            r = e.cookie = function(a, o, l) {
                if (void 0 !== o && !e.isFunction(o)) {
                    if (l = e.extend({}, r.defaults, l), "number" == typeof l.expires) {
                        var c = l.expires,
                            h = l.expires = new Date;
                        h.setDate(h.getDate() + c)
                    }
                    return document.cookie = [t(a), "=", n(o), l.expires ? "; expires=" + l.expires.toUTCString() : "", l.path ? "; path=" + l.path : "", l.domain ? "; domain=" + l.domain : "", l.secure ? "; secure" : ""].join("")
                }
                for (var d = a ? void 0 : {}, p = document.cookie ? document.cookie.split("; ") : [], u = 0, m = p.length; m > u; u++) {
                    var f = p[u].split("="),
                        g = i(f.shift()),
                        v = f.join("=");
                    if (a && a === g) {
                        d = s(v, o);
                        break
                    }
                    a || void 0 === (v = s(v)) || (d[g] = v)
                }
                return d
            };
        r.defaults = {}, e.removeCookie = function(t, i) {
            return void 0 !== e.cookie(t) ? (e.cookie(t, "", e.extend({}, i, {
                expires: -1
            })), !0) : !1
        }
    })
}), require.register("lib/jquery.dotdotdot.min", function() {
    ! function(e, t) {
        function i(e, t, i) {
            var n = e.children(),
                a = !1;
            e.empty();
            for (var o = 0, r = n.length; r > o; o++) {
                var l = n.eq(o);
                if (e.append(l), i && e.append(i), s(e, t)) {
                    l.remove(), a = !0;
                    break
                }
                i && i.detach()
            }
            return a
        }

        function n(t, i, o, r, l) {
            var c = !1,
                h = "table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",
                d = "script";
            return t.contents().detach().each(function() {
                var p = this,
                    u = e(p);
                if ("undefined" == typeof p || 3 == p.nodeType && 0 == e.trim(p.data).length) return !0;
                if (u.is(d)) t.append(u);
                else {
                    if (c) return !0;
                    t.append(u), l && t[t.is(h) ? "after" : "append"](l), s(o, r) && (c = 3 == p.nodeType ? a(u, i, o, r, l) : n(u, i, o, r, l), c || (u.detach(), c = !0)), c || l && l.detach()
                }
            }), c
        }

        function a(t, i, n, a, r) {
            var h = t[0];
            if (!h) return !1;
            var p = c(h),
                u = -1 !== p.indexOf(" ") ? " " : "",
                m = "letter" == a.wrap ? "" : u,
                f = p.split(m),
                g = -1,
                v = -1,
                w = 0,
                b = f.length - 1;
            for (a.fallbackToLetter && 0 == w && 0 == b && (m = "", f = p.split(m), b = f.length - 1); b >= w && (0 != w || 0 != b);) {
                var y = Math.floor((w + b) / 2);
                if (y == v) break;
                v = y, l(h, f.slice(0, v + 1).join(m) + a.ellipsis), s(n, a) ? (b = v, a.fallbackToLetter && 0 == w && 0 == b && (m = "", f = f[0].split(m), g = -1, v = -1, w = 0, b = f.length - 1)) : (g = v, w = v)
            }
            if (-1 == g || 1 == f.length && 0 == f[0].length) {
                var _ = t.parent();
                t.detach();
                var x = r && r.closest(_).length ? r.length : 0;
                _.contents().length > x ? h = d(_.contents().eq(-1 - x), i) : (h = d(_, i, !0), x || _.detach()), h && (p = o(c(h), a), l(h, p), x && r && e(h).parent().append(r))
            } else p = o(f.slice(0, g + 1).join(m), a), l(h, p);
            return !0
        }

        function s(e, t) {
            return e.innerHeight() > t.maxHeight
        }

        function o(t, i) {
            for (; e.inArray(t.slice(-1), i.lastCharacter.remove) > -1;) t = t.slice(0, -1);
            return e.inArray(t.slice(-1), i.lastCharacter.noEllipsis) < 0 && (t += i.ellipsis), t
        }

        function r(e) {
            return {
                width: e.innerWidth(),
                height: e.innerHeight()
            }
        }

        function l(e, t) {
            e.innerText ? e.innerText = t : e.nodeValue ? e.nodeValue = t : e.textContent && (e.textContent = t)
        }

        function c(e) {
            return e.innerText ? e.innerText : e.nodeValue ? e.nodeValue : e.textContent ? e.textContent : ""
        }

        function h(e) {
            do e = e.previousSibling; while (e && 1 !== e.nodeType && 3 !== e.nodeType);
            return e
        }

        function d(t, i, n) {
            var a, s = t && t[0];
            if (s) {
                if (!n) {
                    if (3 === s.nodeType) return s;
                    if (e.trim(t.text())) return d(t.contents().last(), i)
                }
                for (a = h(s); !a;) {
                    if (t = t.parent(), t.is(i) || !t.length) return !1;
                    a = h(t[0])
                }
                if (a) return d(e(a), i)
            }
            return !1
        }

        function p(t, i) {
            return t ? "string" == typeof t ? (t = e(t, i), t.length ? t : !1) : t.jquery ? t : !1 : !1
        }

        function u(e) {
            for (var t = e.innerHeight(), i = ["paddingTop", "paddingBottom"], n = 0, a = i.length; a > n; n++) {
                var s = parseInt(e.css(i[n]), 10);
                isNaN(s) && (s = 0), t -= s
            }
            return t
        }
        if (!e.fn.dotdotdot) {
            e.fn.dotdotdot = function(t) {
                if (0 == this.length) return e.fn.dotdotdot.debug('No element found for "' + this.selector + '".'), this;
                if (this.length > 1) return this.each(function() {
                    e(this).dotdotdot(t)
                });
                var a = this;
                a.data("dotdotdot") && a.trigger("destroy.dot"), a.data("dotdotdot-style", a.attr("style") || ""), a.css("word-wrap", "break-word"), "nowrap" === a.css("white-space") && a.css("white-space", "normal"), a.bind_events = function() {
                    return a.bind("update.dot", function(t, r) {
                        t.preventDefault(), t.stopPropagation(), l.maxHeight = "number" == typeof l.height ? l.height : u(a), l.maxHeight += l.tolerance, "undefined" != typeof r && (("string" == typeof r || r instanceof HTMLElement) && (r = e("<div />").append(r).contents()), r instanceof e && (o = r)), f = a.wrapInner('<div class="dotdotdot" />').children(), f.contents().detach().end().append(o.clone(!0)).find("br").replaceWith("  <br />  ").end().css({
                            height: "auto",
                            width: "auto",
                            border: "none",
                            padding: 0,
                            margin: 0
                        });
                        var h = !1,
                            d = !1;
                        return c.afterElement && (h = c.afterElement.clone(!0), h.show(), c.afterElement.detach()), s(f, l) && (d = "children" == l.wrap ? i(f, l, h) : n(f, a, f, l, h)), f.replaceWith(f.contents()), f = null, e.isFunction(l.callback) && l.callback.call(a[0], d, o), c.isTruncated = d, d
                    }).bind("isTruncated.dot", function(e, t) {
                        return e.preventDefault(), e.stopPropagation(), "function" == typeof t && t.call(a[0], c.isTruncated), c.isTruncated
                    }).bind("originalContent.dot", function(e, t) {
                        return e.preventDefault(), e.stopPropagation(), "function" == typeof t && t.call(a[0], o), o
                    }).bind("destroy.dot", function(e) {
                        e.preventDefault(), e.stopPropagation(), a.unwatch().unbind_events().contents().detach().end().append(o).attr("style", a.data("dotdotdot-style") || "").data("dotdotdot", !1)
                    }), a
                }, a.unbind_events = function() {
                    return a.unbind(".dot"), a
                }, a.watch = function() {
                    if (a.unwatch(), "window" == l.watch) {
                        var t = e(window),
                            i = t.width(),
                            n = t.height();
                        t.bind("resize.dot" + c.dotId, function() {
                            i == t.width() && n == t.height() && l.windowResizeFix || (i = t.width(), n = t.height(), d && clearInterval(d), d = setTimeout(function() {
                                a.trigger("update.dot")
                            }, 10))
                        })
                    } else h = r(a), d = setInterval(function() {
                        var e = r(a);
                        (h.width != e.width || h.height != e.height) && (a.trigger("update.dot"), h = r(a))
                    }, 100);
                    return a
                }, a.unwatch = function() {
                    return e(window).unbind("resize.dot" + c.dotId), d && clearInterval(d), a
                };
                var o = a.contents(),
                    l = e.extend(!0, {}, e.fn.dotdotdot.defaults, t),
                    c = {},
                    h = {},
                    d = null,
                    f = null;
                return l.lastCharacter.remove instanceof Array || (l.lastCharacter.remove = e.fn.dotdotdot.defaultArrays.lastCharacter.remove), l.lastCharacter.noEllipsis instanceof Array || (l.lastCharacter.noEllipsis = e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis), c.afterElement = p(l.after, a), c.isTruncated = !1, c.dotId = m++, a.data("dotdotdot", !0).bind_events().trigger("update.dot"), l.watch && a.watch(), a
            }, e.fn.dotdotdot.defaults = {
                ellipsis: "... ",
                wrap: "word",
                fallbackToLetter: !0,
                lastCharacter: {},
                tolerance: 0,
                callback: null,
                after: null,
                height: null,
                watch: !1,
                windowResizeFix: !0
            }, e.fn.dotdotdot.defaultArrays = {
                lastCharacter: {
                    remove: [" ", "", ",", ";", ".", "!", "?"],
                    noEllipsis: []
                }
            }, e.fn.dotdotdot.debug = function() {};
            var m = 1,
                f = e.fn.html;
            e.fn.html = function(i) {
                return i != t && !e.isFunction(i) && this.data("dotdotdot") ? this.trigger("update", [i]) : f.apply(this, arguments)
            };
            var g = e.fn.text;
            e.fn.text = function(i) {
                return i != t && !e.isFunction(i) && this.data("dotdotdot") ? (i = e("<div />").text(i).html(), this.trigger("update", [i])) : g.apply(this, arguments)
            }
        }
    }(jQuery)
}), require.register("lib/jquery.drawTree", function() {
    ! function(e) {
        var t = function(t, i) {
            this.options = e.extend({}, e.fn.drawTree.options, t), this.$el = i, this.$rows = this.$el.find(this.options.rowClass), this.$items = this.$el.find(this.options.itemClass), this.drawTree()
        };
        t.prototype = {
            drawTree: function() {
                var t = this;
                this.$rows.each(function() {
                    e(this).find(t.options.itemClass).each(function() {
                        var i = e(this),
                            n = {},
                            a = i.data(t.options.dataRelations);
                        a && (a.forEach(function(e) {
                            var a = e.type.toLowerCase();
                            if (~t.options.relationTypes.indexOf(a)) switch (a) {
                                case "father":
                                case "mother":
                                case "bastard":
                                    n[a] = e;
                                    break;
                                default:
                                    t.drawRelation(a, e, i)
                            }
                        }), e.isEmptyObject(n) || t.bindParent(i, n))
                    })
                }).each(function() {
                    var i = e(this),
                        n = i.find(t.options.itemClass),
                        a = null,
                        s = 0,
                        o = 0,
                        r = null;
                    n.each(function() {
                        var t = this.relatedChildren;
                        for (var i in t) {
                            var n = t[i];
                            n.length > s && (s = n.length, a = e(this), r = i), o++
                        }
                    }), a && o > 1 && (t.buildLevels("next", a, r), t.buildLevels("prev", a, r))
                })
            },
            buildLevels: function(e, t, i) {
                for (var n = t, a = 1; n[0];) {
                    var s = n[0].relatedChildren;
                    if (s) {
                        for (var o in s) o != i && s[o].forEach(function(e) {
                            if (!e.hasClass("level" + a)) {
                                var t = e[0].lineY;
                                e.addClass("level" + a), t.height(t.height() - 10 * a)
                            }
                        });
                        a++
                    }
                    n = n[e]()
                }
            },
            drawRelation: function(e, t, i) {
                var n = this.getRelatedClass(t.character),
                    a = "." + n,
                    s = this.$el.find(a);
                if (s[0]) switch (e) {
                    case "married":
                        this.bindMarried({
                            element: i,
                            className: n,
                            relation: t
                        });
                        break;
                    case "mistress":
                    case "betrothed":
                        this.bindBetrothed({
                            element: i,
                            className: n,
                            relation: t
                        });
                        break;
                    case "paramour":
                        this.bindParamour({
                            element: i,
                            className: n,
                            relation: t
                        });
                        break;
                    case "sibling":
                        i.siblings(a)[0] && (i.addClass(e), s.addClass(e), this.bindX({
                            element: i,
                            type: e,
                            related: s,
                            infelicity: 0
                        }))
                }
            },
            bindBetrothed: function(t) {
                var i = e('<span class="relations betrothed" title="betrothed" />'),
                    n = t.element.data("betrothed"),
                    a = null;
                if (n = n ? n : [], t.element.next().hasClass(t.className)) a = "right", t.element.addClass("betrothed-right");
                else {
                    if (!t.element.prev().hasClass(t.className)) return !1;
                    a = "left", t.element.addClass("betrothed-left")
                }
                n.push({
                    position: a,
                    character: t.relation.character
                }), t.element.addClass("betrothed").data("betrothed", n).append(i.addClass(a))
            },
            bindParamour: function(t) {
                var i = e('<span class="relations paramour" title="paramour" />'),
                    n = t.element.data("paramour"),
                    a = null;
                if (n = n ? n : [], t.element.next().hasClass(t.className)) a = "right", t.element.addClass("paramour-right");
                else {
                    if (!t.element.prev().hasClass(t.className)) return !1;
                    a = "left", t.element.addClass("paramour-left")
                }
                n.push({
                    position: a,
                    character: t.relation.character
                }), t.element.addClass("paramour").data("paramour", n).append(i.addClass(a))
            },
            bindMarried: function(t) {
                var i = e('<span class="relations married" title="married" />'),
                    n = t.element.data("married"),
                    a = null;
                if (n = n ? n : [], t.element.next().hasClass(t.className)) a = "right", t.element.addClass("married-right");
                else {
                    if (!t.element.prev().hasClass(t.className)) return !1;
                    a = "left", t.element.addClass("married-left")
                }
                n.push({
                    position: a,
                    character: t.relation.character
                }), t.element.addClass("married").data("married", n).append(i.addClass(a))
            },
            bindParent: function(e, t) {
                var i = t.father,
                    n = t.mother,
                    a = i ? this.$el.find("." + this.getRelatedClass(i.character)) : [],
                    s = n ? this.$el.find("." + this.getRelatedClass(n.character)) : [],
                    o = null,
                    r = null,
                    l = 0;
                if (s[0] || a[0]) {
                    if (s[0] && a[0])
                        if (o = this.checkMarried(s, a)) r = s;
                        else {
                            if (o = this.checkMarried(a, s), !o) return !1;
                            r = a
                        }
                    else r = a[0] ? a : s, r.hasClass("married-right") ? (o = "left", r.addClass("parent-left")) : r.hasClass("married-left") ? (o = "right", r.addClass("parent-right")) : o = "middle";
                    this.bindRelatedChildren(r, i, n, e), "middle" != o && (l = "left" != o ? r.width() : -r.width()), e.addClass("child"), e[0].lineY = this.bindY(r, o), this.bindX({
                        element: e,
                        type: "parent",
                        related: r,
                        infelicity: l,
                        position: o
                    })
                }
            },
            bindRelatedChildren: function(e, t, i, n) {
                var a = this.getId(t, i);
                e[0].relatedChildren = e[0].relatedChildren || {}, e[0].relatedChildren[a] = e[0].relatedChildren[a] ? e[0].relatedChildren[a] : [], e[0].relatedChildren[a].push(n)
            },
            getId: function(e, t) {
                var i = "children";
                return e && (i += "_father" + e.character), t && (i += "_mother" + t.character), i
            },
            checkMarried: function(e, t) {
                var i = e.data("married") || e.data("paramour");
                if (i && i.length)
                    for (var n = 0; n < i.length; n++) {
                        var a = i[n],
                            s = this.getRelatedClass(a.character);
                        if (t.hasClass(s)) return a.position
                    }
                return null
            },
            getRelatedClass: function(e) {
                return "char_" + e
            },
            bindX: function(t) {
                var i = e('<span class="line x" />'),
                    n = t.element.position().left,
                    a = t.related.position().left,
                    s = n > a ? "right" : "left",
                    o = n > a ? n - a : a - n;
                a >= n && t.infelicity && (t.infelicity = -t.infelicity), ("left" == t.position || "right" == t.position) && ("left" == t.position && a > n && (t.infelicity -= 4), "right" == t.position && n > a && (t.infelicity -= 4), o || (t.infelicity = t.infelicity > 0 ? -t.infelicity : t.infelicity, s = "left" == t.position ? "right" : "left")), i.appendTo(t.element).addClass(s).css("width", o - t.infelicity)
            },
            bindY: function(t, i) {
                var n = e('<span class="line y ' + i + '" />');
                return t.append(n), n.height(t.parent().outerHeight() - n.position().top)
            }
        }, e.fn.drawTree = function(i) {
            var n = "tree",
                a = null;
            return "string" == typeof i && (a = i, i = {}), this.each(function() {
                var s = e(this),
                    o = s.data(n);
                o || (o = new t(i, s), s.data(n, o)), a && o[a] && o[a]()
            })
        }, e.fn.drawTree.options = {
            dataRelations: "relationships",
            relationTypes: ["father", "mother", "bastard", "betrothed", "paramour", "married", "mistress", "sibling"],
            itemClass: ".char",
            rowClass: ".tree-row"
        }
    }(jQuery, window, document)
}), require.register("lib/jquery.glide", function() {
    ! function(e, t, i, n) {
        function a(t, i) {
            var n = this;
            return this.options = e.extend({}, o, i), this.currentSlide = 0, this.cssSupport = this.css.isSupported("transition") && this.css.isSupported("transform") ? !0 : !1, this.offset = this.options.circular ? 2 : 0, this.options.beforeInit.call(this), this.parent = t, this.init(), this.play(), this.options.afterInit.call(this), {
                current: function() {
                    return -n.currentSlide + 1
                },
                reinit: function() {
                    n.init()
                },
                play: function() {
                    n.play()
                },
                pause: function() {
                    n.pause()
                },
                next: function(e) {
                    n.slide(1, !1, e)
                },
                prev: function(e) {
                    n.slide(-1, !1, e)
                },
                jump: function(e, t) {
                    n.slide(e - 1, !0, t)
                },
                nav: function(e) {
                    n.navigationWrapper && n.navigationWrapper.remove(), n.options.navigation = e ? e : n.options.navigation, n.navigation()
                },
                arrows: function(e) {
                    n.arrows.wrapper && n.arrows.wrapper.remove(), n.options.arrows = e ? e : n.options.arrows, n.arrows()
                }
            }
        }
        var s = "glide",
            o = {
                autoplay: 4e3,
                hoverpause: !0,
                circular: !0,
                animationDuration: 500,
                animationTimingFunc: "cubic-bezier(0.165, 0.840, 0.440, 1.000)",
                arrows: !0,
                arrowsWrapperClass: "slider-arrows",
                arrowMainClass: "slider-arrow",
                arrowRightClass: "slider-arrow--right",
                arrowRightText: "next",
                arrowLeftClass: "slider-arrow--left",
                arrowLeftText: "prev",
                navigation: !0,
                navigationCenter: !0,
                navigationClass: "slider-nav",
                navigationItemClass: "slider-nav__item",
                navigationCurrentItemClass: "slider-nav__item--current",
                keyboard: !0,
                touchDistance: 60,
                beforeInit: function() {},
                afterInit: function() {},
                beforeTransition: function() {},
                afterTransition: function() {}
            };
        a.prototype.build = function() {
            this.bindings(), this.slides.length > 1 && (this.options.circular && this.circular(), this.options.arrows && this.arrows(), this.options.navigation && this.navigation()), this.events()
        }, a.prototype.circular = function() {
            this.firstClone = this.slides.filter(":first-child").clone().width(this.slides.spread), this.lastClone = this.slides.filter(":last-child").clone().width(this.slides.spread), this.wrapper.append(this.firstClone).prepend(this.lastClone).width(this.parent.width() * (this.slides.length + 2)).trigger("clearTransition").trigger("setTranslate", [-this.slides.spread])
        }, a.prototype.navigation = function() {
            this.navigation.items = {}, this.navigation.wrapper = e("<div />", {
                "class": this.options.navigationClass
            }).appendTo(this.options.navigation === !0 ? this.parent : this.options.navigation);
            for (var t = 0; t < this.slides.length; t++) this.navigation.items[t] = e("<a />", {
                href: "#",
                "class": this.options.navigationItemClass,
                "data-distance": t
            }).appendTo(this.navigation.wrapper);
            this.navigation.items[0].addClass(this.options.navigationCurrentItemClass), this.options.navigationCenter && this.navigation.wrapper.css({
                left: "50%",
                width: this.navigation.wrapper.children().outerWidth(!0) * this.navigation.wrapper.children().length,
                "margin-left": -(this.navigation.wrapper.outerWidth(!0) / 2)
            })
        }, a.prototype.arrows = function() {
            this.arrows.wrapper = e("<div />", {
                "class": this.options.arrowsWrapperClass
            }).appendTo(this.options.arrows === !0 ? this.parent : this.options.arrows), this.arrows.right = e("<a />", {
                href: "#",
                "class": this.options.arrowMainClass + " " + this.options.arrowRightClass,
                "data-distance": "1",
                html: this.options.arrowRightText
            }).appendTo(this.arrows.wrapper), this.arrows.left = e("<a />", {
                href: "#",
                "class": this.options.arrowMainClass + " " + this.options.arrowLeftClass,
                "data-distance": "-1",
                html: this.options.arrowLeftText
            }).appendTo(this.arrows.wrapper)
        }, a.prototype.bindings = function() {
            var t = this,
                i = this.options,
                n = this.css.getPrefix();
            this.wrapper.bind({
                setTransition: function() {
                    e(this).css(n + "transition", n + "transform " + i.animationDuration + "ms " + i.animationTimingFunc)
                },
                clearTransition: function() {
                    e(this).css(n + "transition", "none")
                },
                setTranslate: function(i, a) {
                    t.css.isSupported ? e(this).css(n + "transform", "translate3d(" + a + "px, 0px, 0px)") : e(this).css("margin-left", a)
                }
            })
        }, a.prototype.events = function() {
            this.options.touchDistance && this.parent.on({
                touchstart: e.proxy(this.events.touchstart, this),
                touchmove: e.proxy(this.events.touchmove, this),
                touchend: e.proxy(this.events.touchend, this)
            }), this.arrows.wrapper && e(this.arrows.wrapper).children().on("click touchstart", e.proxy(this.events.arrows, this)), this.navigation.wrapper && e(this.navigation.wrapper).children().on("click touchstart", e.proxy(this.events.navigation, this)), this.options.keyboard && e(i).on("keyup.glideKeyup", e.proxy(this.events.keyboard, this)), this.options.hoverpause && this.parent.add(this.arrows).add(this.navigation).on("mouseover mouseout", e.proxy(this.events.hover, this)), e(t).on("resize", e.proxy(this.events.resize, this))
        }, a.prototype.events.navigation = function(t) {
            t.preventDefault(), this.slide(e(t.currentTarget).data("distance"), !0)
        }, a.prototype.events.arrows = function(t) {
            t.preventDefault(), this.slide(e(t.currentTarget).data("distance"), !1)
        }, a.prototype.events.keyboard = function(e) {
            39 === e.keyCode && this.slide(1), 37 === e.keyCode && this.slide(-1)
        }, a.prototype.events.hover = function(e) {
            this.pause(), "mouseout" === e.type && this.play()
        }, a.prototype.events.resize = function() {
            this.dimensions(), this.slide(0)
        }, a.prototype.eventsUnbind = function() {
            this.parent.unbind("touchstart touchmove touchend"), this.arrows.wrapper.children().unbind("click touchstart"), e(i).unbind("keyup.glideKeyup")
        }, a.prototype.eventsBind = function() {
            this.arrows.wrapper.children().bind("click touchstart", e.proxy(this.events.arrows, this)), e(i).bind("keyup.glideKeyup", e.proxy(this.events.keyboard, this)), this.parent.bind({
                touchstart: e.proxy(this.events.touchstart, this),
                touchmove: e.proxy(this.events.touchmove, this),
                touchend: e.proxy(this.events.touchend, this)
            })
        }, a.prototype.events.touchstart = function(e) {
            var t = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
            this.events.touchStartX = t.pageX, this.events.touchStartY = t.pageY, this.events.touchSin = null
        }, a.prototype.events.touchmove = function(e) {
            var t = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],
                i = t.pageX - this.events.touchStartX,
                n = t.pageY - this.events.touchStartY,
                a = Math.abs(i << 2),
                s = Math.abs(n << 2),
                o = Math.sqrt(a + s),
                r = Math.sqrt(s);
            this.events.touchSin = Math.asin(r / o), this.events.touchSin * (180 / Math.PI) < 45 && e.preventDefault()
        }, a.prototype.events.touchend = function(e) {
            var t = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],
                i = t.pageX - this.events.touchStartX;
            i > this.options.touchDistance && this.events.touchSin * (180 / Math.PI) < 45 ? this.slide(-1) : i < -this.options.touchDistance && this.events.touchSin * (180 / Math.PI) < 45 && this.slide(1)
        }, a.prototype.slide = function(t, i, n) {
            this.pause(), this.options.beforeTransition.call(this);
            var a = this,
                s = i ? 0 : this.currentSlide,
                o = -(this.slides.length - 1),
                r = !1,
                l = !1;
            0 === s && -1 === t ? (r = !0, s = o) : s === o && 1 === t ? (l = !0, s = 0) : s += -t;
            var c = this.slides.spread * s;
            this.options.circular && (c -= this.slides.spread, (l || r) && this.eventsUnbind(), l && (c = this.slides.spread * (o - 2)), r && (c = 0)), this.css.isSupported ? this.wrapper.trigger("setTransition").trigger("setTranslate", [c]) : this.wrapper.stop().animate({
                "margin-left": c
            }, this.options.animationDuration), this.options.circular && ((r || l) && this.afterAnimation(function() {
                a.wrapper.trigger("clearTransition"), a.eventsBind()
            }), l && this.afterAnimation(function() {
                l = !1, a.wrapper.trigger("setTranslate", [-a.slides.spread])
            }), r && this.afterAnimation(function() {
                r = !1, a.wrapper.trigger("setTranslate", [a.slides.spread * (o - 1)])
            })), this.options.navigation && this.navigation.wrapper && e(this.navigation.wrapper).children().eq(-s).addClass(this.options.navigationCurrentItemClass).siblings().removeClass(this.options.navigationCurrentItemClass), this.currentSlide = s, this.options.afterTransition.call(this), "undefined" !== n && "function" == typeof n && n(), this.play()
        }, a.prototype.play = function() {
            var e = this;
            this.options.autoplay && (this.auto = setInterval(function() {
                e.slide(1, !1)
            }, this.options.autoplay))
        }, a.prototype.pause = function() {
            this.options.autoplay && (this.auto = clearInterval(this.auto))
        }, a.prototype.afterAnimation = function(e) {
            setTimeout(function() {
                e()
            }, this.options.animationDuration + 10)
        }, a.prototype.dimensions = function() {
            this.slides.spread = this.parent.width(), this.wrapper.width(this.slides.spread * (this.slides.length + this.offset)), this.slides.add(this.firstClone).add(this.lastClone).width(this.slides.spread)
        }, a.prototype.init = function() {
            this.wrapper = this.parent.children(), this.slides = this.wrapper.children(), this.dimensions(), this.build()
        }, a.prototype.css = {
            isSupported: function(e) {
                var a = !1,
                    s = "Khtml ms O Moz Webkit".split(" "),
                    o = i.createElement("div"),
                    r = null;
                if (e = e.toLowerCase(), o.style[e] !== n && (a = !0), a === !1) {
                    r = e.charAt(0).toUpperCase() + e.substr(1);
                    for (var l = 0; l < s.length; l++)
                        if (o.style[s[l] + r] !== n) {
                            a = !0;
                            break
                        }
                }
                return t.opera && t.opera.version() < 13 && (a = !1), a
            },
            getPrefix: function() {
                var e = t.getComputedStyle(i.documentElement, "");
                return "-" + (Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/) || "" === e.OLink && ["", "o"])[1] + "-"
            }
        }, e.fn[s] = function(t) {
            return this.each(function() {
                e.data(this, "api_" + s) || e.data(this, "api_" + s, new a(e(this), t))
            })
        }
    }(jQuery, window, document)
}), require.register("lib/jquery.mousewheel", function(e, t, i) {
    ! function(t) {
        "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof e ? i.exports = t : t(jQuery)
    }(function(e) {
        function t(t) {
            var o = t || window.event,
                r = l.call(arguments, 1),
                c = 0,
                h = 0,
                d = 0,
                p = 0;
            if (t = e.event.fix(o), t.type = "mousewheel", "detail" in o && (d = -1 * o.detail), "wheelDelta" in o && (d = o.wheelDelta), "wheelDeltaY" in o && (d = o.wheelDeltaY), "wheelDeltaX" in o && (h = -1 * o.wheelDeltaX), "axis" in o && o.axis === o.HORIZONTAL_AXIS && (h = -1 * d, d = 0), c = 0 === d ? h : d, "deltaY" in o && (d = -1 * o.deltaY, c = d), "deltaX" in o && (h = o.deltaX, 0 === d && (c = -1 * h)), 0 !== d || 0 !== h) {
                if (1 === o.deltaMode) {
                    var u = e.data(this, "mousewheel-line-height");
                    c *= u, d *= u, h *= u
                } else if (2 === o.deltaMode) {
                    var m = e.data(this, "mousewheel-page-height");
                    c *= m, d *= m, h *= m
                }
                return p = Math.max(Math.abs(d), Math.abs(h)), (!s || s > p) && (s = p, n(o, p) && (s /= 40)), n(o, p) && (c /= 40, h /= 40, d /= 40), c = Math[c >= 1 ? "floor" : "ceil"](c / s), h = Math[h >= 1 ? "floor" : "ceil"](h / s), d = Math[d >= 1 ? "floor" : "ceil"](d / s), t.deltaX = h, t.deltaY = d, t.deltaFactor = s, t.deltaMode = 0, r.unshift(t, c, h, d), a && clearTimeout(a), a = setTimeout(i, 200), (e.event.dispatch || e.event.handle).apply(this, r)
            }
        }

        function i() {
            s = null
        }

        function n(e, t) {
            return h.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 === 0
        }
        var a, s, o = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
            r = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
            l = Array.prototype.slice;
        if (e.event.fixHooks)
            for (var c = o.length; c;) e.event.fixHooks[o[--c]] = e.event.mouseHooks;
        var h = e.event.special.mousewheel = {
            version: "3.1.9",
            setup: function() {
                if (this.addEventListener)
                    for (var i = r.length; i;) this.addEventListener(r[--i], t, !1);
                else this.onmousewheel = t;
                e.data(this, "mousewheel-line-height", h.getLineHeight(this)), e.data(this, "mousewheel-page-height", h.getPageHeight(this))
            },
            teardown: function() {
                if (this.removeEventListener)
                    for (var e = r.length; e;) this.removeEventListener(r[--e], t, !1);
                else this.onmousewheel = null
            },
            getLineHeight: function(t) {
                return parseInt(e(t)["offsetParent" in e.fn ? "offsetParent" : "parent"]().css("fontSize"), 10)
            },
            getPageHeight: function(t) {
                return e(t).height()
            },
            settings: {
                adjustOldDeltas: !0
            }
        };
        e.fn.extend({
            mousewheel: function(e) {
                return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
            },
            unmousewheel: function(e) {
                return this.unbind("mousewheel", e)
            }
        })
    })
}), require.register("lib/jquery.omniture", function() {
    ! function(e) {
        e.fn.Omniture = function(t) {
            var i = {
                pageName: "Home",
                server: "",
                channel: "",
                pageType: "",
                prop1: "",
                prop2: "",
                state: "",
                zip: "",
                events: "",
                products: "",
                purchaseID: "",
                eVar1: "",
                eVar2: ""
            };
            return t && e.extend(i, t), this.view = function(t, i) {
                if ("undefined" == typeof s || !s) return !1;
                if ("string" != typeof t) return !1;
                var n = null;
                return "function" == typeof i ? n = i() : "object" == typeof i && (n = i), t = new RegExp(t), t.test(window.location.href) && (e.extend(s, n), s.t()), !0
            }, this.link = function(t, i, n) {
                return "undefined" != typeof s && s ? "object" != typeof t ? !1 : "string" != typeof i ? !1 : "function" != typeof n || "object" != typeof n ? !1 : (e(t).bind(i, function() {
                    var t = null;
                    if ("function" == typeof n) {
                        var i = e(this);
                        t = n(i)
                    } else "object" == typeof n && (t = n);
                    var a = [],
                        o = [],
                        r = {};
                    for (key in t)(key.indexOf(!1) || key.indexOf(!1)) && a.push(key), 0 == key.indexOf("event") && o.push(key), r[key] = s[key], s[key] = t[key];
                    o.length && a.push("events"), s.linkTrackVars = a.length ? a.join(",") : "None", s.linkTrackEvents = o.length ? o.join(",") : "None", "undefined" != typeof i || i.attr("href") ? s.tl(this.href, "o") : s.tl();
                    for (key in r) s[key] = r[key]
                }), !0) : !1
            }, this
        }
    }(jQuery)
}), require.register("lib/jquery.scroll", function() {
    ! function(e, t, i) {
        var n = function(t, i) {
            this.options = e.extend({}, e.fn.pointScroll.options, t), this.$container = i, this.$scroll = null, this.$anchors = this.$container.find("." + this.options.anchorClassName), this.anchorsCount = this.$anchors.length, this.anchorsMap = null, this.eventCallbacks = null, this.anchorsCount && this.init()
        };
        n.prototype = {
            init: function() {
                this.createElements(), this.setActivePoint(), this.eventManager("on"), this.setPosition()
            },
            setPosition: function() {
                this.$scroll.css("marginTop", -this.$scroll.outerHeight() / 2)
            },
            createElements: function() {
                for (var t = "", i = e.trim(this.options.pointTmpl), n = e.trim(this.options.scrollTmpl), a = 0; a < this.anchorsCount; a++) {
                    var s = this.$anchors[a];
                    s.id && (t += i.replace(/{{anchorId}}/, s.id).replace(/{{anchorId}}/, s.id))
                }
                this.$scroll = e(n.replace(/{{points}}/, t)), this.$container.append(this.$scroll)
            },
            setActivePoint: function(e) {
                e = e || this.$scroll.children(":first-child"), e.addClass(this.options.activeClassName).siblings().removeClass(this.options.activeClassName)
            },
            eventManager: function(n) {
                var a = this;
                n = n || "off", this.$container.pointScroll.scrollOn = "on" == n ? !0 : !1, this.eventCallbacks = this.eventCallbacks || {
                    pointClick: function(t) {
                        var i = e(this);
                        e("html, body").animate({
                            scrollTop: e(i.attr("href")).offset().top - parseInt(e("body").css("paddingTop"))
                        }), t.preventDefault()
                    },
                    scroll: function() {
                        console.log("inside of jquery.scroll.js scroll()");
                        for (var n = e(t).scrollTop() + parseInt(e("body").css("paddingTop")), s = e(t).outerHeight(), o = i.body.scrollHeight, r = 0; r < a.anchorsCount; r++) {
                            var l = a.$anchors.eq(r),
                                c = a.$scroll.children().eq(r),
                                h = l.offset().top + l.height();
                            if (h - n > s / 3) {
                                e(t).scrollTop() + s == o && (c = a.$scroll.children(":last-child")), a.setActivePoint(c);
                                break
                            }
                        }
                    },
                    resize: e.proxy(this.setPosition, this)
                }, e(t)[n]("resize", this.eventCallbacks.resize)[n]("scroll", this.eventCallbacks.scroll), this.$scroll[n]("click", "a", this.eventCallbacks.pointClick)
            },
            disable: function() {
                this.eventManager("off")
            },
            enable: function() {
                this.eventManager("on"), this.$container.pointScroll.scrollOn && this.eventCallbacks.scroll()
            }
        }, e.fn.pointScroll = function(t) {
            var i = "pointScroll",
                a = null;
            return "string" == typeof t && (a = t, t = {}), this.each(function() {
                var s = e(this),
                    o = s.data(i);
                o || (s.data(i, new n(t, s)), o = s.data(i)), a && o[a] && o[a]()
            })
        }, e.fn.pointScroll.options = {
            anchorClassName: "scrollAnchor",
            scrollTmpl: '<div class="pointScroll">{{points}}</div>',
            pointTmpl: '<a href="#{{anchorId}}" id="point-{{anchorId}}" class="point"> </a>',
            activeClassName: "active"
        }
    }(jQuery, window, document)
}), require.register("lib/jquery.scroll_to", function() {
    ! function(e) {
        function t(e) {
            return "object" == typeof e ? e : {
                top: e,
                left: e
            }
        }
        var i = e.scrollTo = function(t, i, n) {
            e(window).scrollTo(t, i, n)
        };
        i.defaults = {
            axis: "xy",
            duration: parseFloat(e.fn.jquery) >= 1.3 ? 0 : 1,
            limit: !0
        }, i.window = function() {
            return e(window)._scrollable()
        }, e.fn._scrollable = function() {
            return this.map(function() {
                var t = this,
                    i = !t.nodeName || -1 != e.inArray(t.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"]);
                if (!i) return t;
                var n = (t.contentWindow || t).document || t.ownerDocument || t;
                return /webkit/i.test(navigator.userAgent) || "BackCompat" == n.compatMode ? n.body : n.documentElement
            })
        }, e.fn.scrollTo = function(n, a, s) {
            return console.log("INSIDE OF scrollTo()"), "object" == typeof a && (s = a, a = 0), "function" == typeof s && (s = {
                onAfter: s
            }), "max" == n && (n = 9e9), s = e.extend({}, i.defaults, s), a = a || s.duration, s.queue = s.queue && s.axis.length > 1, s.queue && (a /= 2), s.offset = t(s.offset), s.over = t(s.over), this._scrollable().each(function() {
                function o(e) {
                    c.animate(d, a, s.easing, e && function() {
                        e.call(this, n, s)
                    })
                }
                if (null != n) {
                    var r, l = this,
                        c = e(l),
                        h = n,
                        d = {},
                        p = c.is("html,body");
                    switch (typeof h) {
                        case "number":
                        case "string":
                            if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)) {
                                h = t(h);
                                break
                            }
                            if (h = e(h, this), !h.length) return;
                        case "object":
                            (h.is || h.style) && (r = (h = e(h)).offset())
                    }
                    e.each(s.axis.split(""), function(e, t) {
                        var n = "x" == t ? "Left" : "Top",
                            a = n.toLowerCase(),
                            u = "scroll" + n,
                            m = l[u],
                            f = i.max(l, t);
                        if (r) d[u] = r[a] + (p ? 0 : m - c.offset()[a]), s.margin && (d[u] -= parseInt(h.css("margin" + n)) || 0, d[u] -= parseInt(h.css("border" + n + "Width")) || 0), d[u] += s.offset[a] || 0, s.over[a] && (d[u] += h["x" == t ? "width" : "height"]() * s.over[a]);
                        else {
                            var g = h[a];
                            d[u] = g.slice && "%" == g.slice(-1) ? parseFloat(g) / 100 * f : g
                        }
                        s.limit && /^\d+$/.test(d[u]) && (d[u] = d[u] <= 0 ? 0 : Math.min(d[u], f)), !e && s.queue && (m != d[u] && o(s.onAfterFirst), delete d[u])
                    }), o(s.onAfter)
                }
            }).end()
        }, i.max = function(t, i) {
            var n = "x" == i ? "Width" : "Height",
                a = "scroll" + n;
            if (!e(t).is("html,body")) return t[a] - e(t)[n.toLowerCase()]();
            var s = "client" + n,
                o = t.ownerDocument.documentElement,
                r = t.ownerDocument.body;
            return Math.max(o[a], r[a]) - Math.min(o[s], r[s])
        }
    }(jQuery)
}), require.register("lib/jquery.share", function() {
    ! function(e, t, i) {
        function n() {
            return h && c ? 1 : (FB.login(function(e) {
                "undefined" != typeof e && e.hasOwnProperty("authResponse") ? (l = FB.getAuthResponse().accessToken, r = e.authResponse.userID, c = !0, h = !0) : (c = !1, h = !1)
            }, {
                scope: "publish_stream, publish_actions"
            }), 0)
        }

        function a(e, t, i, n, a) {
            h && c && FB.ui({
                method: "feed",
                caption: t,
                link: n,
                picture: a,
                name: e,
                description: i
            }, function(e) {
                e && e.error && console.log(e.error)
            })
        }
        if (!i.getElementById("facebook-jssdk")) {
            var s = i.getElementsByTagName("script")[0],
                o = i.createElement("script");
            o.id = "facebook-jssdk", o.src = "//connect.facebook.net/en_US/all.js", s.parentNode.insertBefore(o, s);
            var r = null,
                l = null,
                c = !1,
                h = !1;
            t.fbAsyncInit = function() {
                FB.init({
                    appId: t.FB_APP_ID,
                    status: !0,
                    cookie: !0,
                    xfbml: !0
                }), FB.getLoginStatus(function(e) {
                    "connected" === e.status ? (l = e.authResponse.accessToken, r = e.authResponse.userID, c = !0, h = !0) : "not_authorized" === e.status ? (c = !0, h = !1) : (c = !1, h = !1)
                })
            };
            var d = {
                    login: "itshbo",
                    apiKey: "R_d10a22674c00735b59ef72944c114afe"
                },
                p = "https://api-ssl.bitly.com/v3/shorten",
                u = function(t, i) {
                    this.$el = t, this.options = e.extend({}, e.fn.share.defaults, i), this.$el.addClass(this.options.orientation), this.addItems().attachEvents("on")
                };
            u.prototype = {
                addItems: function() {
                    var t = this.options.items;
                    itemTmpl = e.trim(this.options.itemTmpl), content = '<ul class="shareItems">';
                    for (var i = 0; i < t.length; i++) {
                        var n = this.options[t[i]],
                            a = "";
                        if (n) {
                            a = "<li>" + itemTmpl.replace(/{{class}}/, t[i]) + "</li>";
                            for (var s in n) a = a.replace(RegExp("{{" + s + "}}"), n[s])
                        }
                        content += a
                    }
                    return content += "</ul>", this.$el.append(content), this
                },
                attachEvents: function(t) {
                    var n = this;
                    t = t || "off", this.eventCallbacks = this.eventCallbacks || {
                        share: function(t) {
                            n.share(e(this).attr("class"), t), n.$el.removeClass("open"), t.preventDefault()
                        },
                        open: function(t) {
                            var i = e(this);
                            i.addClass("open"), e("body").one("touchstart", function() {
                                i.removeClass("open")
                            }), t.preventDefault(), t.stopPropagation()
                        },
                        preventDefault: function(e) {
                            e.preventDefault(), e.stopPropagation()
                        }
                    }, "ontouchstart" in i.documentElement ? this.$el[t]("touchstart", this.eventCallbacks.preventDefault)[t]("touchend", this.eventCallbacks.open)[t]("touchstart", "a", this.eventCallbacks.share)[t]("touchend", "a", this.eventCallbacks.preventDefault) : this.$el[t]("click", "a", this.eventCallbacks.share)
                },
                share: function(e, i) {
                    var s = i.currentTarget.href,
                        o = this.$el.data(this.options.descriptionFB),
                        r = this.$el.data(this.options.captionFB),
                        l = this.$el.data(this.options.descriptionTB),
                        c = this.$el.data(this.options.captionTB),
                        h = this.$el.data(this.options.link) || t.location.href,
                        d = this.$el.data(this.options.descriptionTW),
                        p = this.$el.data(this.options.picture);
                    switch (o = o ? o : "", r = r ? r : "", l = l ? l : "", c = c ? c : "", d = d ? d : "", p = p ? p : "", h = h.replace("#", ""), e) {
                        case "facebook":
                            var u = n();
                            u && a("Game of Thrones Viewers Guide", r, o, h, p);
                            break;
                        case "twitter":
                            this.getShorten(h, function(e) {
                                var n = 200 == e.status_code ? e.data.url : h;
                                t.open(i.currentTarget.href + "?url=" + encodeURIComponent(n) + "&text=" + encodeURIComponent(d), "Share", "modal=yes,width=680,height=500")
                            });
                            break;
                        case "tumblr":
                            s += p ? "photo?source=" + encodeURIComponent(p) + "&caption=" + encodeURIComponent(c) : "link?url=" + encodeURIComponent(h) + "&name=" + encodeURIComponent(c) + "&description=" + encodeURIComponent(l), t.open(s, "Share", "modal=yes,width=500,height=480")
                    }
                    Chaplin.mediator.publish("share:omniture", e), i.preventDefault(), i.stopPropagation()
                },
                getShorten: function(t, i) {
                    e.ajax({
                        url: p,
                        data: e.extend({}, d, {
                            longUrl: encodeURI(t)
                        }),
                        dataType: "jsonp",
                        success: i
                    })
                }
            }, e.fn.share = function(t) {
                return this.each(function() {
                    var i = e(this),
                        n = i.data("share");
                    n || (n = new u(i, t), i.data("share", n))
                })
            }, e.fn.share.defaults = {
                orientation: "horisontal",
                items: ["facebook", "twitter", "tumblr"],
                facebook: {
                    href: "",
                    title: "Share on Facebook",
                    content: '<i class="big sprites-share-fb" />',
                    contentV: '<i class="small sprites-share-fb-small" />'
                },
                twitter: {
                    href: "https://twitter.com/share",
                    title: "Share on Twitter",
                    content: '<i class="big sprites-share-tw" />',
                    contentV: '<i class="small sprites-share-tw-small" />'
                },
                tumblr: {
                    href: "http://www.tumblr.com/share/",
                    title: "Share on Tumblr",
                    content: '<i class="big sprites-share-tb" />',
                    contentV: '<i class="small sprites-share-tb-small" />'
                },
                itemTmpl: '<a href="{{href}}" title="{{title}}" class="{{class}}">{{content}}{{contentV}}</a>',
                descriptionFB: "share-description-FB",
                captionFB: "share-caption-FB",
                descriptionTB: "share-description-TB",
                captionTB: "share-caption-TB",
                descriptionTW: "share-description-TW",
                picture: "share-picture",
                link: "share-link"
            }
        }
    }(jQuery, window, document)
}), require.register("lib/jquery.snapscroll", function() {
    ! function(e, t, i) {
        var n, a, s;
        return s = "snapscroll", a = {
            botPadding: 40,
            topPadding: 40,
            scrollSpeed: 300,
            scrollEndSpeed: 100,
            scrollOptions: {
                axis: "xy"
            },
            minWidth: 769
        }, n = function(t, i) {
            this.container = e(t), this.options = e.extend({}, a, i), this.current = null, this.init()
        }, n.prototype = {
            init: function() {
                this.autoscrolling = !1, this.snapping()
            },
            snapping: function() {
                var n, a, s, o, r, l = this,
                    c = function(e) {
                        e.preventDefault()
                    };
                return n = this.container.children(), o = this.options.scrollSpeed, s = this.options.scrollEndSpeed, scroll_options = this.options.scrollOptions, a = e(i).scrollTop(), r = null, this.autoscrolling = !1, this.windowWidth = e(t).width(), this.checkEnable(), e(t).off("resize.snapscroll").on("resize.snapscroll", function() {
                    clearTimeout(r), l.windowWidth = e(t).width(), l.checkEnable()
                }), e(t).off("scroll.snapscroll").on("scroll.snapscroll", function() {
                    var h, d, p;
                    return d = e(i).scrollTop(), p = l.getDirection(a, d), !l.autoscrolling && l.enabled ? (t.addEventListener && l.enabled && t.addEventListener("DOMMouseScroll", c, !1), t.onmousewheel = i.onmousewheel = c, h = l.getTargetChild(n, p, d), h || 0 !== d || (h = n.first()), h ? (clearTimeout(r), r = setTimeout(function() {
                        e(t).scrollTo(h, o, scroll_options);
                        var n = h.siblings(".ss-active");
                        return n.addClass("ss-fading").removeClass("ss-active"), h.addClass("ss-active ss-moving " + p), l.autoscrolling = !0, setTimeout(function() {
                            n.removeClass("ss-fading"), h.removeClass("ss-moving " + p)
                        }, o), setTimeout(function() {
                            return l.current = h, a = e(i).scrollTop(), e(t).trigger("snapscroll.endscroll", {
                                prev_position: a,
                                target: h
                            }), t.removeEventListener && t.removeEventListener("DOMMouseScroll", c, !1), t.onmousewheel = i.onmousewheel = null, l.autoscrolling = !1
                        }, o + 100)
                    }, s)) : (t.removeEventListener && t.removeEventListener("DOMMouseScroll", c, !1), t.onmousewheel = i.onmousewheel = null), a = d) : void(l.enabled || (e(t).trigger("snapscroll.endscroll", {
                        prev_position: a,
                        target: h
                    }), h = l.getTargetChild(n, p, d), h || 0 !== d || (h = n.first()), l.current = h))
                })
            },
            checkEnable: function() {
                this.enabled = this.windowWidth >= this.options.minWidth ? !0 : !1
            },
            getCurrent: function() {
                return this.current
            },
            getDirection: function(e, t) {
                return e > t ? "up" : "down"
            },
            snapTo: function(i) {
                console.log("inside of jquery.snapscroll.js snapTo()");
                var n = this,
                    a = this.container.children().eq(i),
                    s = this.options.scrollSpeed;
                if (this.current = a, this.enabled && !n.autoscrolling) {
                    var o = a.siblings(".ss-active");
                    return this.autoscrolling = !0, scroll_options = this.options.scrollOptions, scroll_options.onAfter = function() {
                        o.removeClass("ss-fading"), setTimeout(function() {
                            e(t).trigger("snapscroll.endscroll", {
                                target: a
                            }), n.autoscrolling = !1
                        }, 100)
                    }, setTimeout(function() {
                        e(t).scrollTo(a, s, scroll_options), o.addClass("ss-fading").removeClass("ss-active"), a.addClass("ss-active")
                    }, 16), a
                }
                e(t).scrollTo(a, s, scroll_options)
            },
            snapToImmediate: function(i) {
                var n = this,
                    a = this.container.children().eq(i),
                    s = this.options.scrollOptions.offset.top;
                if (this.current = a, !n.autoscrolling) {
                    var o = a.siblings(".ss-active");
                    return this.autoscrolling = !0, setTimeout(function() {
                        t.scrollTo(0, a.offset().top + s), o.addClass("ss-fading").removeClass("ss-active"), a.addClass("ss-active"), setTimeout(function() {
                            o.removeClass("ss-fading"), e(t).trigger("snapscroll.endscroll", {
                                target: a
                            }), n.autoscrolling = !1
                        }, 32)
                    }, 16), a
                }
            },
            getTargetChild: function(i, n, a) {
                var s, o, r, l, c, h;
                if (c = this.options, h = e(t).height(), o = a + h, r = i.first().offset().top, l = i.last().offset().top + h, s = null, r < a + c.topPadding) {
                    {
                        i.filter(".ss-active")
                    }
                    i.not(".ss-active").each(function() {
                        var t, i;
                        if (i = e(this).offset().top, t = i + e(this).height() + c.scrollOptions.offset.top, i !== t - c.scrollOptions.offset.top && !e(this).hasClass("excluded"))
                            if ("down" === n) {
                                if (o > i && t > a) return s = e(this), !1
                            } else if (a > i && t > a) return s = e(this)
                    })
                }
                return s
            }
        }, e.fn[s] = function(t) {
            return this.each(function() {
                return e.data(this, "plugin_" + s) ? void 0 : e.data(this, "plugin_" + s, new n(this, t))
            })
        }
    }(jQuery, window, document)
}), require.register("lib/jquery.touchSwipe", function() {
    ! function(e) {
        "function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], e) : e(jQuery)
    }(function(e) {
        "use strict";

        function t(t) {
            return !t || void 0 !== t.allowPageScroll || void 0 === t.swipe && void 0 === t.swipeStatus || (t.allowPageScroll = c), void 0 !== t.click && void 0 === t.tap && (t.tap = t.click), t || (t = {}), t = e.extend({}, e.fn.swipe.defaults, t), this.each(function() {
                var n = e(this),
                    a = n.data(T);
                a || (a = new i(this, t), n.data(T, a))
            })
        }

        function i(t, i) {
            function C(t) {
                if (!(rt() || e(t.target).closest(i.excludedElements, Zt).length > 0)) {
                    var n, a = t.originalEvent ? t.originalEvent : t,
                        s = S ? a.touches[0] : a;
                    return qt = y, S ? Ht = a.touches.length : t.preventDefault(), It = 0, $t = null, Ut = null, zt = 0, Nt = 0, Ot = 0, Bt = 1, Rt = 0, Gt = pt(), jt = ft(), st(), !S || Ht === i.fingers || i.fingers === w || j() ? (ct(0, s), Vt = St(), 2 == Ht && (ct(1, a.touches[1]), Nt = Ot = wt(Gt[0].start, Gt[1].start)), (i.swipeStatus || i.pinchStatus) && (n = I(a, qt))) : n = !1, n === !1 ? (qt = k, I(a, qt), n) : (lt(!0), null)
                }
            }

            function E(e) {
                var t = e.originalEvent ? e.originalEvent : e;
                if (qt !== x && qt !== k && !ot()) {
                    var n, a = S ? t.touches[0] : t,
                        s = ht(a);
                    if (Wt = St(), S && (Ht = t.touches.length), qt = _, 2 == Ht && (0 == Nt ? (ct(1, t.touches[1]), Nt = Ot = wt(Gt[0].start, Gt[1].start)) : (ht(t.touches[1]), Ot = wt(Gt[0].end, Gt[1].end), Ut = yt(Gt[0].end, Gt[1].end)), Bt = bt(Nt, Ot), Rt = Math.abs(Nt - Ot)), Ht === i.fingers || i.fingers === w || !S || j()) {
                        if ($t = kt(s.start, s.end), R(e, $t), It = _t(s.start, s.end), zt = vt(), ut($t, It), (i.swipeStatus || i.pinchStatus) && (n = I(t, qt)), !i.triggerOnTouchEnd || i.triggerOnTouchLeave) {
                            var o = !0;
                            if (i.triggerOnTouchLeave) {
                                var r = Tt(this);
                                o = Ct(s.end, r)
                            }!i.triggerOnTouchEnd && o ? qt = P(_) : i.triggerOnTouchLeave && !o && (qt = P(x)), (qt == k || qt == x) && I(t, qt)
                        }
                    } else qt = k, I(t, qt);
                    n === !1 && (qt = k, I(t, qt))
                }
            }

            function A(e) {
                var t = e.originalEvent;
                return S && t.touches.length > 0 ? (at(), !0) : (ot() && (Ht = Ft), e.preventDefault(), Wt = St(), zt = vt(), N() ? (qt = k, I(t, qt)) : i.triggerOnTouchEnd || 0 == i.triggerOnTouchEnd && qt === _ ? (qt = x, I(t, qt)) : !i.triggerOnTouchEnd && Y() ? (qt = x, $(t, qt, u)) : qt === _ && (qt = k, I(t, qt)), lt(!1), null)
            }

            function M() {
                Ht = 0, Wt = 0, Vt = 0, Nt = 0, Ot = 0, Bt = 1, st(), lt(!1)
            }

            function L(e) {
                var t = e.originalEvent;
                i.triggerOnTouchLeave && (qt = P(x), I(t, qt))
            }

            function D() {
                Zt.unbind(At, C), Zt.unbind(Pt, M), Zt.unbind(Mt, E), Zt.unbind(Lt, A), Dt && Zt.unbind(Dt, L), lt(!1)
            }

            function P(e) {
                var t = e,
                    n = B(),
                    a = z(),
                    s = N();
                return !n || s ? t = k : !a || e != _ || i.triggerOnTouchEnd && !i.triggerOnTouchLeave ? !a && e == x && i.triggerOnTouchLeave && (t = k) : t = x, t
            }

            function I(e, t) {
                var i = void 0;
                return G() || H() ? i = $(e, t, d) : (Z() || j()) && i !== !1 && (i = $(e, t, p)), it() && i !== !1 ? i = $(e, t, m) : nt() && i !== !1 ? i = $(e, t, f) : tt() && i !== !1 && (i = $(e, t, u)), t === k && M(e), t === x && (S ? 0 == e.touches.length && M(e) : M(e)), i
            }

            function $(t, c, h) {
                var g = void 0;
                if (h == d) {
                    if (Zt.trigger("swipeStatus", [c, $t || null, It || 0, zt || 0, Ht]), i.swipeStatus && (g = i.swipeStatus.call(Zt, t, c, $t || null, It || 0, zt || 0, Ht), g === !1)) return !1;
                    if (c == x && q()) {
                        if (Zt.trigger("swipe", [$t, It, zt, Ht]), i.swipe && (g = i.swipe.call(Zt, t, $t, It, zt, Ht), g === !1)) return !1;
                        switch ($t) {
                            case n:
                                Zt.trigger("swipeLeft", [$t, It, zt, Ht]), i.swipeLeft && (g = i.swipeLeft.call(Zt, t, $t, It, zt, Ht));
                                break;
                            case a:
                                Zt.trigger("swipeRight", [$t, It, zt, Ht]), i.swipeRight && (g = i.swipeRight.call(Zt, t, $t, It, zt, Ht));
                                break;
                            case s:
                                Zt.trigger("swipeUp", [$t, It, zt, Ht]), i.swipeUp && (g = i.swipeUp.call(Zt, t, $t, It, zt, Ht));
                                break;
                            case o:
                                Zt.trigger("swipeDown", [$t, It, zt, Ht]), i.swipeDown && (g = i.swipeDown.call(Zt, t, $t, It, zt, Ht))
                        }
                    }
                }
                if (h == p) {
                    if (Zt.trigger("pinchStatus", [c, Ut || null, Rt || 0, zt || 0, Ht, Bt]), i.pinchStatus && (g = i.pinchStatus.call(Zt, t, c, Ut || null, Rt || 0, zt || 0, Ht, Bt), g === !1)) return !1;
                    if (c == x && U()) switch (Ut) {
                        case r:
                            Zt.trigger("pinchIn", [Ut || null, Rt || 0, zt || 0, Ht, Bt]), i.pinchIn && (g = i.pinchIn.call(Zt, t, Ut || null, Rt || 0, zt || 0, Ht, Bt));
                            break;
                        case l:
                            Zt.trigger("pinchOut", [Ut || null, Rt || 0, zt || 0, Ht, Bt]), i.pinchOut && (g = i.pinchOut.call(Zt, t, Ut || null, Rt || 0, zt || 0, Ht, Bt))
                    }
                }
                return h == u ? (c === k || c === x) && (clearTimeout(Xt), F() && !Q() ? (Jt = St(), Xt = setTimeout(e.proxy(function() {
                    Jt = null, Zt.trigger("tap", [t.target]), i.tap && (g = i.tap.call(Zt, t, t.target))
                }, this), i.doubleTapThreshold)) : (Jt = null, Zt.trigger("tap", [t.target]), i.tap && (g = i.tap.call(Zt, t, t.target)))) : h == m ? (c === k || c === x) && (clearTimeout(Xt), Jt = null, Zt.trigger("doubletap", [t.target]), i.doubleTap && (g = i.doubleTap.call(Zt, t, t.target))) : h == f && (c === k || c === x) && (clearTimeout(Xt), Jt = null, Zt.trigger("longtap", [t.target]), i.longTap && (g = i.longTap.call(Zt, t, t.target))), g
            }

            function z() {
                var e = !0;
                return null !== i.threshold && (e = It >= i.threshold), e
            }

            function N() {
                var e = !1;
                return null !== i.cancelThreshold && null !== $t && (e = mt($t) - It >= i.cancelThreshold), e
            }

            function O() {
                return null !== i.pinchThreshold ? Rt >= i.pinchThreshold : !0
            }

            function B() {
                var e;
                return e = i.maxTimeThreshold ? zt >= i.maxTimeThreshold ? !1 : !0 : !0
            }

            function R(e, t) {
                if (i.allowPageScroll === c || j()) e.preventDefault();
                else {
                    var r = i.allowPageScroll === h;
                    switch (t) {
                        case n:
                            (i.swipeLeft && r || !r && i.allowPageScroll != g) && e.preventDefault();
                            break;
                        case a:
                            (i.swipeRight && r || !r && i.allowPageScroll != g) && e.preventDefault();
                            break;
                        case s:
                            (i.swipeUp && r || !r && i.allowPageScroll != v) && e.preventDefault();
                            break;
                        case o:
                            (i.swipeDown && r || !r && i.allowPageScroll != v) && e.preventDefault()
                    }
                }
            }

            function U() {
                var e = V(),
                    t = W(),
                    i = O();
                return e && t && i
            }

            function j() {
                return !!(i.pinchStatus || i.pinchIn || i.pinchOut)
            }

            function Z() {
                return !(!U() || !j())
            }

            function q() {
                var e = B(),
                    t = z(),
                    i = V(),
                    n = W(),
                    a = N(),
                    s = !a && n && i && t && e;
                return s
            }

            function H() {
                return !!(i.swipe || i.swipeStatus || i.swipeLeft || i.swipeRight || i.swipeUp || i.swipeDown)
            }

            function G() {
                return !(!q() || !H())
            }

            function V() {
                return Ht === i.fingers || i.fingers === w || !S
            }

            function W() {
                return 0 !== Gt[0].end.x
            }

            function Y() {
                return !!i.tap
            }

            function F() {
                return !!i.doubleTap
            }

            function J() {
                return !!i.longTap
            }

            function X() {
                if (null == Jt) return !1;
                var e = St();
                return F() && e - Jt <= i.doubleTapThreshold
            }

            function Q() {
                return X()
            }

            function K() {
                return !(1 !== Ht && S || !isNaN(It) && 0 !== It)
            }

            function et() {
                return zt > i.longTapThreshold && b > It
            }

            function tt() {
                return !(!K() || !Y())
            }

            function it() {
                return !(!X() || !F())
            }

            function nt() {
                return !(!et() || !J())
            }

            function at() {
                Yt = St(), Ft = event.touches.length + 1
            }

            function st() {
                Yt = 0, Ft = 0
            }

            function ot() {
                var e = !1;
                if (Yt) {
                    var t = St() - Yt;
                    t <= i.fingerReleaseThreshold && (e = !0)
                }
                return e
            }

            function rt() {
                return !(Zt.data(T + "_intouch") !== !0)
            }

            function lt(e) {
                e === !0 ? (Zt.bind(Mt, E), Zt.bind(Lt, A), Dt && Zt.bind(Dt, L)) : (Zt.unbind(Mt, E, !1), Zt.unbind(Lt, A, !1), Dt && Zt.unbind(Dt, L, !1)), Zt.data(T + "_intouch", e === !0)
            }

            function ct(e, t) {
                var i = void 0 !== t.identifier ? t.identifier : 0;
                return Gt[e].identifier = i, Gt[e].start.x = Gt[e].end.x = t.pageX || t.clientX, Gt[e].start.y = Gt[e].end.y = t.pageY || t.clientY, Gt[e]
            }

            function ht(e) {
                var t = void 0 !== e.identifier ? e.identifier : 0,
                    i = dt(t);
                return i.end.x = e.pageX || e.clientX, i.end.y = e.pageY || e.clientY, i
            }

            function dt(e) {
                for (var t = 0; t < Gt.length; t++)
                    if (Gt[t].identifier == e) return Gt[t]
            }

            function pt() {
                for (var e = [], t = 0; 5 >= t; t++) e.push({
                    start: {
                        x: 0,
                        y: 0
                    },
                    end: {
                        x: 0,
                        y: 0
                    },
                    identifier: 0
                });
                return e
            }

            function ut(e, t) {
                t = Math.max(t, mt(e)), jt[e].distance = t
            }

            function mt(e) {
                return jt[e] ? jt[e].distance : void 0
            }

            function ft() {
                var e = {};
                return e[n] = gt(n), e[a] = gt(a), e[s] = gt(s), e[o] = gt(o), e
            }

            function gt(e) {
                return {
                    direction: e,
                    distance: 0
                }
            }

            function vt() {
                return Wt - Vt
            }

            function wt(e, t) {
                var i = Math.abs(e.x - t.x),
                    n = Math.abs(e.y - t.y);
                return Math.round(Math.sqrt(i * i + n * n))
            }

            function bt(e, t) {
                var i = t / e * 1;
                return i.toFixed(2)
            }

            function yt() {
                return 1 > Bt ? l : r
            }

            function _t(e, t) {
                return Math.round(Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2)))
            }

            function xt(e, t) {
                var i = e.x - t.x,
                    n = t.y - e.y,
                    a = Math.atan2(n, i),
                    s = Math.round(180 * a / Math.PI);
                return 0 > s && (s = 360 - Math.abs(s)), s
            }

            function kt(e, t) {
                var i = xt(e, t);
                return 45 >= i && i >= 0 ? n : 360 >= i && i >= 315 ? n : i >= 135 && 225 >= i ? a : i > 45 && 135 > i ? o : s
            }

            function St() {
                var e = new Date;
                return e.getTime()
            }

            function Tt(t) {
                t = e(t);
                var i = t.offset(),
                    n = {
                        left: i.left,
                        right: i.left + t.outerWidth(),
                        top: i.top,
                        bottom: i.top + t.outerHeight()
                    };
                return n
            }

            function Ct(e, t) {
                return e.x > t.left && e.x < t.right && e.y > t.top && e.y < t.bottom
            }
            var Et = S || !i.fallbackToMouseEvents,
                At = Et ? "touchstart" : "mousedown",
                Mt = Et ? "touchmove" : "mousemove",
                Lt = Et ? "touchend" : "mouseup",
                Dt = Et ? null : "mouseleave",
                Pt = "touchcancel",
                It = 0,
                $t = null,
                zt = 0,
                Nt = 0,
                Ot = 0,
                Bt = 1,
                Rt = 0,
                Ut = 0,
                jt = null,
                Zt = e(t),
                qt = "start",
                Ht = 0,
                Gt = null,
                Vt = 0,
                Wt = 0,
                Yt = 0,
                Ft = 0,
                Jt = 0,
                Xt = null;
            try {
                Zt.bind(At, C), Zt.bind(Pt, M)
            } catch (Qt) {
                e.error("events not supported " + At + "," + Pt + " on jQuery.swipe")
            }
            this.enable = function() {
                return Zt.bind(At, C), Zt.bind(Pt, M), Zt
            }, this.disable = function() {
                return D(), Zt
            }, this.destroy = function() {
                return D(), Zt.data(T, null), Zt
            }, this.option = function(t, n) {
                if (void 0 !== i[t]) {
                    if (void 0 === n) return i[t];
                    i[t] = n
                } else e.error("Option " + t + " does not exist on jQuery.swipe.options");
                return null
            }
        }
        var n = "left",
            a = "right",
            s = "up",
            o = "down",
            r = "in",
            l = "out",
            c = "none",
            h = "auto",
            d = "swipe",
            p = "pinch",
            u = "tap",
            m = "doubletap",
            f = "longtap",
            g = "horizontal",
            v = "vertical",
            w = "all",
            b = 10,
            y = "start",
            _ = "move",
            x = "end",
            k = "cancel",
            S = "ontouchstart" in window,
            T = "TouchSwipe",
            C = {
                fingers: 1,
                threshold: 75,
                cancelThreshold: null,
                pinchThreshold: 20,
                maxTimeThreshold: null,
                fingerReleaseThreshold: 250,
                longTapThreshold: 500,
                doubleTapThreshold: 200,
                swipe: null,
                swipeLeft: null,
                swipeRight: null,
                swipeUp: null,
                swipeDown: null,
                swipeStatus: null,
                pinchIn: null,
                pinchOut: null,
                pinchStatus: null,
                click: null,
                tap: null,
                doubleTap: null,
                longTap: null,
                triggerOnTouchEnd: !0,
                triggerOnTouchLeave: !1,
                allowPageScroll: "auto",
                fallbackToMouseEvents: !0,
                excludedElements: "label, button, input, select, textarea, a, .noSwipe"
            };
        e.fn.swipe = function(i) {
            var n = e(this),
                a = n.data(T);
            if (a && "string" == typeof i) {
                if (a[i]) return a[i].apply(this, Array.prototype.slice.call(arguments, 1));
                e.error("Method " + i + " does not exist on jQuery.swipe")
            } else if (!(a || "object" != typeof i && i)) return t.apply(this, arguments);
            return n
        }, e.fn.swipe.defaults = C, e.fn.swipe.phases = {
            PHASE_START: y,
            PHASE_MOVE: _,
            PHASE_END: x,
            PHASE_CANCEL: k
        }, e.fn.swipe.directions = {
            LEFT: n,
            RIGHT: a,
            UP: s,
            DOWN: o,
            IN: r,
            OUT: l
        }, e.fn.swipe.pageScroll = {
            NONE: c,
            HORIZONTAL: g,
            VERTICAL: v,
            AUTO: h
        }, e.fn.swipe.fingers = {
            ONE: 1,
            TWO: 2,
            THREE: 3,
            ALL: w
        }
    })
}), require.register("lib/lazyyt", function() {
    ! function(e) {
        "use strict";

        function t(t) {
            var s = t,
                o = s.data("width"),
                r = s.data("height"),
                l = s.data("youtube-id"),
                c = s.data("parameters") || "";
            if ("undefined" == typeof o || "undefined" == typeof r || "undefined" == typeof l) throw new Error("lazyYT is missing a required data attribute.");
            s.css({
                position: "relative",
                height: r,
                width: o,
                background: "url(http://img.youtube.com/vi/" + l + "/maxresdefault.jpg) center center no-repeat",
                cursor: "pointer",
                "-webkit-background-size": "cover",
                "-moz-background-size": "cover",
                "-o-background-size": "cover",
                "background-size": "cover"
            }).html('<p style="' + i + '" id="lazyYT-title-' + l + '" class="lazyYT-title"></p><img style="' + n + '" src="' + a + '" />').addClass("lazyYT-image-loaded"), e.getJSON("https://gdata.youtube.com/feeds/api/videos/" + l + "?v=2&alt=json", function(t) {
                e("#lazyYT-title-" + l).text(t.entry.title.$t)
            }), s.off("click").on("click", function(e) {
                e.preventDefault(), o && r && !s.hasClass("lazyYT-video-loaded") && s.hasClass("lazyYT-image-loaded") && s.html('<iframe width="100%" height="100%" src="//www.youtube.com/embed/' + l + "?autoplay=1&html5=1&" + c + '" frameborder="0" allowfullscreen></iframe>').removeClass("lazyYT-image-loaded").addClass("lazyYT-video-loaded")
            }), "youtube_popup" == s.attr("id") && e(document).width() > 1023 && s.trigger("click")
        }
        var i = ["z-index:100!important", "color:#fff!important", "font-family:sans-serif!important", "font-size:12px!important", "top:10px!important", "left:12px!important", "position:absolute!important", "margin:0!important", "padding:0!important", "line-height:1!important", "font-style:normal!important", "font-weight:normal!important"].join(";"),
            n = ["position:absolute!important", "margin-left:-30px!important", "margin-top:-20px!important", "z-index:100!important", "left:50%!important", "top:50%!important"].join(";"),
            a = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAApCAYAAABp50paAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABV9JREFUeNrcWk1IK1cUvrmZGBOjJvr6xKe+Slvroi6kK6GrUkSxO12IC6GgUFBcuOlC8GdRulERV3VRQV0IKhRU0NJupK3tpi1dCRaxffWHGjWZPJNnNJlMz9FzX+ZNkzylcxP1wMdMZiYz97vnu+ee+2Njmc0GyANwgANQDCgAuABOwGOAG6AAiuh+MV3Lo+fc9KyN3qGYvnEBSAA0QBTwAnBp+P0ccAxQ6bkw/T4HRABn9B+8F6f/ZiRktjJANaCSUE0kkVApoBDgAeQTIeM7dAKjAuiG6+b7wniKstgMv+2m5xMGslgZIUAAEAOcAv4GHAL+BDwDBNMRxvOPAZ8C3iUPOVNUiGaCfgOV3MZe9z5OlSDAUzxzQZXyC+BLwM+pCtMJGCTvCTJxOlpBxGpLVzF2ajqiMvyAzwDfGuXyPuALkmyY5KGZ5GVGri1duXRyVIyOPsA7gO9R/iIYtQLKiSy7Q6T+b2UkSN7vAT4U7QGDz9Mbtp/7SPySjh9gj8EpApeyh2/YoyicuhlvhuBkVU3n2jA/cBkJxyUVjBuipz2HEf0qYcKs5w1ify6DbFVVVbSrq0s9ODhQlpaWClRVdUtWUyqLE0cPEn5CXkhI8HC8ubk5ODw8XJBIJOJNTU2H/f39j/f29jxZDJI2Iowq9nJiLk1KZWWYqcKHOC9pa2t7c21tLdTR0XHgdDo1kng22rdGQaucU2YlraY1TRPJACrIXldXVzU/P+8YHR09rqysVIkwz1JWxjmNZqQRBimbBxdIvLyvr8+7uroabGxs9NP1bAS0fOmE09Q2SsxdX19fsbCw4BgcHNzzeDxhGrDItCJO2s52hiVIO3w+X+nIyEgxRPCjmpqaE8lp7VU/nCeTMASrTO++GrTDM8UQzStB4uHOzs5niqIkJLRrLIeTG2QkpVZtthu9Fgk6amtrn8zMzLgmJyePvV7vmcVl0kUuncfuhumkiIqenh7f4uJiAJKWMwuDmS4krdyxURKOYz0Qvd0NDQ1Ri9+tKIbh050Zx+q6fjg1NaWtr6/7SO5WvTuq0ABZuNyWY7L6ycnJ0dDQ0OXc3FxFJBKxW0w4opCEcmnYrDh4Vd3c3FS7u7t929vbj6ipWT3IuOREOFeeRQ/GQqGQf2xsLNDS0vIIyBbRdU2Cgl5K2pYD+SKpF1tbW0cDAwOu5eXlKkleNdqVpMMyk3eQaioJ6zCo8M/OzsZh6Fi0v79fYsi+ZNpzJByU6WHD4AEJ4QxpfHd392hiYuJyenq64vz8XGGvrlJIHSbix46lavc60xISVjc2NsK9vb0ukHKZYeIhG00I7WpeOirxQ3xnZwc99w90MaHx8fFAa2trMZAtYcl542wYOhbXoU7xox8BvmLJFTxLCRcWFkbb29tVv9+vrKyseOnj2SL6MqUEHAA+QcJ1gDl2PTcdldCexeKXCEq5GIrizOzvgC5OUTrI/rtua1ncYsl1nlzm7CjpCKcTld3vtaQbZVlY+SJoBR4wUeHIPUyykDBOwP8mZgTYw1pQQy755N2fsGlxurgO+JUmAxyGh/V7VgHmMjspNn0D+IEZZhOwDf/FrheOn7Lkdgexkm43vfB18rF8JuQGvYCD4DSUH69/B/gccJSqgG+z630euJb6Fv3JaSCfjpBm6McTFqWKNvbqPg6eIefXSbYXVAbc8PIH4EfA1+x620NGj2Cf7KMOG7cm4fi0hK5XUw0KiG1MeHQTHBZGVrFjJ0znuEXpjIItdnX7FHRPCeLeITPt4LmtBEWNiz1XYj7MxZJbmPIJpSy5pUlUXDrPxAzKiBBJN53vk9fE/q0okY4ZVBS7jaL+FWAA/y++OTUmOgsAAAAASUVORK5CYII=";
        e.fn.lazyYT = function() {
            return this.each(function() {
                var i = e(this).css("cursor", "pointer");
                t(i)
            })
        }
    }(jQuery)
}), require.register("lib/leaflet-064", function(e, t, i) {
    ! function(e, t, n) {
        var a = e.L,
            s = {};
        s.version = "0.7.3", "object" == typeof i && "object" == typeof i.exports ? i.exports = s : "function" == typeof define && define.amd && define(s), s.noConflict = function() {
                return e.L = a, this
            }, e.L = s, s.Util = {
                extend: function(e) {
                    var t, i, n, a, s = Array.prototype.slice.call(arguments, 1);
                    for (i = 0, n = s.length; n > i; i++) {
                        a = s[i] || {};
                        for (t in a) a.hasOwnProperty(t) && (e[t] = a[t])
                    }
                    return e
                },
                bind: function(e, t) {
                    var i = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;
                    return function() {
                        return e.apply(t, i || arguments)
                    }
                },
                stamp: function() {
                    var e = 0,
                        t = "_leaflet_id";
                    return function(i) {
                        return i[t] = i[t] || ++e, i[t]
                    }
                }(),
                invokeEach: function(e, t, i) {
                    var n, a;
                    if ("object" == typeof e) {
                        a = Array.prototype.slice.call(arguments, 3);
                        for (n in e) t.apply(i, [n, e[n]].concat(a));
                        return !0
                    }
                    return !1
                },
                limitExecByInterval: function(e, t, i) {
                    var n, a;
                    return function s() {
                        var o = arguments;
                        return n ? void(a = !0) : (n = !0, setTimeout(function() {
                            n = !1, a && (s.apply(i, o), a = !1)
                        }, t), void e.apply(i, o))
                    }
                },
                falseFn: function() {
                    return !1
                },
                formatNum: function(e, t) {
                    var i = Math.pow(10, t || 5);
                    return Math.round(e * i) / i
                },
                trim: function(e) {
                    return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                },
                splitWords: function(e) {
                    return s.Util.trim(e).split(/\s+/)
                },
                setOptions: function(e, t) {
                    return e.options = s.extend({}, e.options, t), e.options
                },
                getParamString: function(e, t, i) {
                    var n = [];
                    for (var a in e) n.push(encodeURIComponent(i ? a.toUpperCase() : a) + "=" + encodeURIComponent(e[a]));
                    return (t && -1 !== t.indexOf("?") ? "&" : "?") + n.join("&")
                },
                template: function(e, t) {
                    return e.replace(/\{ *([\w_]+) *\}/g, function(e, i) {
                        var a = t[i];
                        if (a === n) throw new Error("No value provided for variable " + e);
                        return "function" == typeof a && (a = a(t)), a
                    })
                },
                isArray: Array.isArray || function(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                },
                emptyImageUrl: "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
            },
            function() {
                function t(t) {
                    var i, n, a = ["webkit", "moz", "o", "ms"];
                    for (i = 0; i < a.length && !n; i++) n = e[a[i] + t];
                    return n
                }

                function i(t) {
                    var i = +new Date,
                        a = Math.max(0, 16 - (i - n));
                    return n = i + a, e.setTimeout(t, a)
                }
                var n = 0,
                    a = e.requestAnimationFrame || t("RequestAnimationFrame") || i,
                    o = e.cancelAnimationFrame || t("CancelAnimationFrame") || t("CancelRequestAnimationFrame") || function(t) {
                        e.clearTimeout(t)
                    };
                s.Util.requestAnimFrame = function(t, n, o, r) {
                    return t = s.bind(t, n), o && a === i ? void t() : a.call(e, t, r)
                }, s.Util.cancelAnimFrame = function(t) {
                    t && o.call(e, t)
                }
            }(), s.extend = s.Util.extend, s.bind = s.Util.bind, s.stamp = s.Util.stamp, s.setOptions = s.Util.setOptions, s.Class = function() {}, s.Class.extend = function(e) {
                var t = function() {
                        this.initialize && this.initialize.apply(this, arguments), this._initHooks && this.callInitHooks()
                    },
                    i = function() {};
                i.prototype = this.prototype;
                var n = new i;
                n.constructor = t, t.prototype = n;
                for (var a in this) this.hasOwnProperty(a) && "prototype" !== a && (t[a] = this[a]);
                e.statics && (s.extend(t, e.statics), delete e.statics), e.includes && (s.Util.extend.apply(null, [n].concat(e.includes)), delete e.includes), e.options && n.options && (e.options = s.extend({}, n.options, e.options)), s.extend(n, e), n._initHooks = [];
                var o = this;
                return t.__super__ = o.prototype, n.callInitHooks = function() {
                    if (!this._initHooksCalled) {
                        o.prototype.callInitHooks && o.prototype.callInitHooks.call(this), this._initHooksCalled = !0;
                        for (var e = 0, t = n._initHooks.length; t > e; e++) n._initHooks[e].call(this)
                    }
                }, t
            }, s.Class.include = function(e) {
                s.extend(this.prototype, e)
            }, s.Class.mergeOptions = function(e) {
                s.extend(this.prototype.options, e)
            }, s.Class.addInitHook = function(e) {
                var t = Array.prototype.slice.call(arguments, 1),
                    i = "function" == typeof e ? e : function() {
                        this[e].apply(this, t)
                    };
                this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(i)
            };
        var o = "_leaflet_events";
        s.Mixin = {}, s.Mixin.Events = {
                addEventListener: function(e, t, i) {
                    if (s.Util.invokeEach(e, this.addEventListener, this, t, i)) return this;
                    var n, a, r, l, c, h, d, p = this[o] = this[o] || {},
                        u = i && i !== this && s.stamp(i);
                    for (e = s.Util.splitWords(e), n = 0, a = e.length; a > n; n++) r = {
                        action: t,
                        context: i || this
                    }, l = e[n], u ? (c = l + "_idx", h = c + "_len", d = p[c] = p[c] || {}, d[u] || (d[u] = [], p[h] = (p[h] || 0) + 1), d[u].push(r)) : (p[l] = p[l] || [], p[l].push(r));
                    return this
                },
                hasEventListeners: function(e) {
                    var t = this[o];
                    return !!t && (e in t && t[e].length > 0 || e + "_idx" in t && t[e + "_idx_len"] > 0)
                },
                removeEventListener: function(e, t, i) {
                    if (!this[o]) return this;
                    if (!e) return this.clearAllEventListeners();
                    if (s.Util.invokeEach(e, this.removeEventListener, this, t, i)) return this;
                    var n, a, r, l, c, h, d, p, u, m = this[o],
                        f = i && i !== this && s.stamp(i);
                    for (e = s.Util.splitWords(e), n = 0, a = e.length; a > n; n++)
                        if (r = e[n], h = r + "_idx", d = h + "_len", p = m[h], t) {
                            if (l = f && p ? p[f] : m[r]) {
                                for (c = l.length - 1; c >= 0; c--) l[c].action !== t || i && l[c].context !== i || (u = l.splice(c, 1), u[0].action = s.Util.falseFn);
                                i && p && 0 === l.length && (delete p[f], m[d]--)
                            }
                        } else delete m[r], delete m[h], delete m[d];
                    return this
                },
                clearAllEventListeners: function() {
                    return delete this[o], this
                },
                fireEvent: function(e, t) {
                    if (!this.hasEventListeners(e)) return this;
                    var i, n, a, r, l, c = s.Util.extend({}, t, {
                            type: e,
                            target: this
                        }),
                        h = this[o];
                    if (h[e])
                        for (i = h[e].slice(), n = 0, a = i.length; a > n; n++) i[n].action.call(i[n].context, c);
                    r = h[e + "_idx"];
                    for (l in r)
                        if (i = r[l].slice())
                            for (n = 0, a = i.length; a > n; n++) i[n].action.call(i[n].context, c);
                    return this
                },
                addOneTimeEventListener: function(e, t, i) {
                    if (s.Util.invokeEach(e, this.addOneTimeEventListener, this, t, i)) return this;
                    var n = s.bind(function() {
                        this.removeEventListener(e, t, i).removeEventListener(e, n, i)
                    }, this);
                    return this.addEventListener(e, t, i).addEventListener(e, n, i)
                }
            }, s.Mixin.Events.on = s.Mixin.Events.addEventListener, s.Mixin.Events.off = s.Mixin.Events.removeEventListener, s.Mixin.Events.once = s.Mixin.Events.addOneTimeEventListener, s.Mixin.Events.fire = s.Mixin.Events.fireEvent,
            function() {
                var i = "ActiveXObject" in e,
                    a = i && !t.addEventListener,
                    o = navigator.userAgent.toLowerCase(),
                    r = -1 !== o.indexOf("webkit"),
                    l = -1 !== o.indexOf("chrome"),
                    c = -1 !== o.indexOf("phantom"),
                    h = -1 !== o.indexOf("android"),
                    d = -1 !== o.search("android [23]"),
                    p = -1 !== o.indexOf("gecko"),
                    u = typeof orientation != n + "",
                    m = e.navigator && e.navigator.msPointerEnabled && e.navigator.msMaxTouchPoints && !e.PointerEvent,
                    f = e.PointerEvent && e.navigator.pointerEnabled && e.navigator.maxTouchPoints || m,
                    g = "devicePixelRatio" in e && e.devicePixelRatio > 1 || "matchMedia" in e && e.matchMedia("(min-resolution:144dpi)") && e.matchMedia("(min-resolution:144dpi)").matches,
                    v = t.documentElement,
                    w = i && "transition" in v.style,
                    b = "WebKitCSSMatrix" in e && "m11" in new e.WebKitCSSMatrix && !d,
                    y = "MozPerspective" in v.style,
                    _ = "OTransition" in v.style,
                    x = !e.L_DISABLE_3D && (w || b || y || _) && !c,
                    k = !e.L_NO_TOUCH && !c && function() {
                        var e = "ontouchstart";
                        if (f || e in v) return !0;
                        var i = t.createElement("div"),
                            n = !1;
                        return i.setAttribute ? (i.setAttribute(e, "return;"), "function" == typeof i[e] && (n = !0), i.removeAttribute(e), i = null, n) : !1
                    }();
                s.Browser = {
                    ie: i,
                    ielt9: a,
                    webkit: r,
                    gecko: p && !r && !e.opera && !i,
                    android: h,
                    android23: d,
                    chrome: l,
                    ie3d: w,
                    webkit3d: b,
                    gecko3d: y,
                    opera3d: _,
                    any3d: x,
                    mobile: u,
                    mobileWebkit: u && r,
                    mobileWebkit3d: u && b,
                    mobileOpera: u && e.opera,
                    touch: k,
                    msPointer: m,
                    pointer: f,
                    retina: g
                }
            }(), s.Point = function(e, t, i) {
                this.x = i ? Math.round(e) : e, this.y = i ? Math.round(t) : t
            }, s.Point.prototype = {
                clone: function() {
                    return new s.Point(this.x, this.y)
                },
                add: function(e) {
                    return this.clone()._add(s.point(e))
                },
                _add: function(e) {
                    return this.x += e.x, this.y += e.y, this
                },
                subtract: function(e) {
                    return this.clone()._subtract(s.point(e))
                },
                _subtract: function(e) {
                    return this.x -= e.x, this.y -= e.y, this
                },
                divideBy: function(e) {
                    return this.clone()._divideBy(e)
                },
                _divideBy: function(e) {
                    return this.x /= e, this.y /= e, this
                },
                multiplyBy: function(e) {
                    return this.clone()._multiplyBy(e)
                },
                _multiplyBy: function(e) {
                    return this.x *= e, this.y *= e, this
                },
                round: function() {
                    return this.clone()._round()
                },
                _round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                },
                floor: function() {
                    return this.clone()._floor()
                },
                _floor: function() {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
                },
                distanceTo: function(e) {
                    e = s.point(e);
                    var t = e.x - this.x,
                        i = e.y - this.y;
                    return Math.sqrt(t * t + i * i)
                },
                equals: function(e) {
                    return e = s.point(e), e.x === this.x && e.y === this.y
                },
                contains: function(e) {
                    return e = s.point(e), Math.abs(e.x) <= Math.abs(this.x) && Math.abs(e.y) <= Math.abs(this.y)
                },
                toString: function() {
                    return "Point(" + s.Util.formatNum(this.x) + ", " + s.Util.formatNum(this.y) + ")"
                }
            }, s.point = function(e, t, i) {
                return e instanceof s.Point ? e : s.Util.isArray(e) ? new s.Point(e[0], e[1]) : e === n || null === e ? e : new s.Point(e, t, i)
            }, s.Bounds = function(e, t) {
                if (e)
                    for (var i = t ? [e, t] : e, n = 0, a = i.length; a > n; n++) this.extend(i[n])
            }, s.Bounds.prototype = {
                extend: function(e) {
                    return e = s.point(e), this.min || this.max ? (this.min.x = Math.min(e.x, this.min.x), this.max.x = Math.max(e.x, this.max.x), this.min.y = Math.min(e.y, this.min.y), this.max.y = Math.max(e.y, this.max.y)) : (this.min = e.clone(), this.max = e.clone()), this
                },
                getCenter: function(e) {
                    return new s.Point((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, e)
                },
                getBottomLeft: function() {
                    return new s.Point(this.min.x, this.max.y)
                },
                getTopRight: function() {
                    return new s.Point(this.max.x, this.min.y)
                },
                getSize: function() {
                    return this.max.subtract(this.min)
                },
                contains: function(e) {
                    var t, i;
                    return e = "number" == typeof e[0] || e instanceof s.Point ? s.point(e) : s.bounds(e), e instanceof s.Bounds ? (t = e.min, i = e.max) : t = i = e, t.x >= this.min.x && i.x <= this.max.x && t.y >= this.min.y && i.y <= this.max.y
                },
                intersects: function(e) {
                    e = s.bounds(e);
                    var t = this.min,
                        i = this.max,
                        n = e.min,
                        a = e.max,
                        o = a.x >= t.x && n.x <= i.x,
                        r = a.y >= t.y && n.y <= i.y;
                    return o && r
                },
                isValid: function() {
                    return !(!this.min || !this.max)
                }
            }, s.bounds = function(e, t) {
                return !e || e instanceof s.Bounds ? e : new s.Bounds(e, t)
            }, s.Transformation = function(e, t, i, n) {
                this._a = e, this._b = t, this._c = i, this._d = n
            }, s.Transformation.prototype = {
                transform: function(e, t) {
                    return this._transform(e.clone(), t)
                },
                _transform: function(e, t) {
                    return t = t || 1, e.x = t * (this._a * e.x + this._b), e.y = t * (this._c * e.y + this._d), e
                },
                untransform: function(e, t) {
                    return t = t || 1, new s.Point((e.x / t - this._b) / this._a, (e.y / t - this._d) / this._c)
                }
            }, s.DomUtil = {
                get: function(e) {
                    return "string" == typeof e ? t.getElementById(e) : e
                },
                getStyle: function(e, i) {
                    var n = e.style[i];
                    if (!n && e.currentStyle && (n = e.currentStyle[i]), (!n || "auto" === n) && t.defaultView) {
                        var a = t.defaultView.getComputedStyle(e, null);
                        n = a ? a[i] : null
                    }
                    return "auto" === n ? null : n
                },
                getViewportOffset: function(e) {
                    var i, n = 0,
                        a = 0,
                        o = e,
                        r = t.body,
                        l = t.documentElement;
                    do {
                        if (n += o.offsetTop || 0, a += o.offsetLeft || 0, n += parseInt(s.DomUtil.getStyle(o, "borderTopWidth"), 10) || 0, a += parseInt(s.DomUtil.getStyle(o, "borderLeftWidth"), 10) || 0, i = s.DomUtil.getStyle(o, "position"), o.offsetParent === r && "absolute" === i) break;
                        if ("fixed" === i) {
                            n += r.scrollTop || l.scrollTop || 0, a += r.scrollLeft || l.scrollLeft || 0;
                            break
                        }
                        if ("relative" === i && !o.offsetLeft) {
                            var c = s.DomUtil.getStyle(o, "width"),
                                h = s.DomUtil.getStyle(o, "max-width"),
                                d = o.getBoundingClientRect();
                            ("none" !== c || "none" !== h) && (a += d.left + o.clientLeft), n += d.top + (r.scrollTop || l.scrollTop || 0);
                            break
                        }
                        o = o.offsetParent
                    } while (o);
                    o = e;
                    do {
                        if (o === r) break;
                        n -= o.scrollTop || 0, a -= o.scrollLeft || 0, o = o.parentNode
                    } while (o);
                    return new s.Point(a, n)
                },
                documentIsLtr: function() {
                    return s.DomUtil._docIsLtrCached || (s.DomUtil._docIsLtrCached = !0, s.DomUtil._docIsLtr = "ltr" === s.DomUtil.getStyle(t.body, "direction")), s.DomUtil._docIsLtr
                },
                create: function(e, i, n) {
                    var a = t.createElement(e);
                    return a.className = i, n && n.appendChild(a), a
                },
                hasClass: function(e, t) {
                    if (e.classList !== n) return e.classList.contains(t);
                    var i = s.DomUtil._getClass(e);
                    return i.length > 0 && new RegExp("(^|\\s)" + t + "(\\s|$)").test(i)
                },
                addClass: function(e, t) {
                    if (e.classList !== n)
                        for (var i = s.Util.splitWords(t), a = 0, o = i.length; o > a; a++) e.classList.add(i[a]);
                    else if (!s.DomUtil.hasClass(e, t)) {
                        var r = s.DomUtil._getClass(e);
                        s.DomUtil._setClass(e, (r ? r + " " : "") + t)
                    }
                },
                removeClass: function(e, t) {
                    e.classList !== n ? e.classList.remove(t) : s.DomUtil._setClass(e, s.Util.trim((" " + s.DomUtil._getClass(e) + " ").replace(" " + t + " ", " ")))
                },
                _setClass: function(e, t) {
                    e.className.baseVal === n ? e.className = t : e.className.baseVal = t
                },
                _getClass: function(e) {
                    return e.className.baseVal === n ? e.className : e.className.baseVal
                },
                setOpacity: function(e, t) {
                    if ("opacity" in e.style) e.style.opacity = t;
                    else if ("filter" in e.style) {
                        var i = !1,
                            n = "DXImageTransform.Microsoft.Alpha";
                        try {
                            i = e.filters.item(n)
                        } catch (a) {
                            if (1 === t) return
                        }
                        t = Math.round(100 * t), i ? (i.Enabled = 100 !== t, i.Opacity = t) : e.style.filter += " progid:" + n + "(opacity=" + t + ")"
                    }
                },
                testProp: function(e) {
                    for (var i = t.documentElement.style, n = 0; n < e.length; n++)
                        if (e[n] in i) return e[n];
                    return !1
                },
                getTranslateString: function(e) {
                    var t = s.Browser.webkit3d,
                        i = "translate" + (t ? "3d" : "") + "(",
                        n = (t ? ",0" : "") + ")";
                    return i + e.x + "px," + e.y + "px" + n
                },
                getScaleString: function(e, t) {
                    var i = s.DomUtil.getTranslateString(t.add(t.multiplyBy(-1 * e))),
                        n = " scale(" + e + ") ";
                    return i + n
                },
                setPosition: function(e, t, i) {
                    e._leaflet_pos = t, !i && s.Browser.any3d ? e.style[s.DomUtil.TRANSFORM] = s.DomUtil.getTranslateString(t) : (e.style.left = t.x + "px", e.style.top = t.y + "px")
                },
                getPosition: function(e) {
                    return e._leaflet_pos
                }
            }, s.DomUtil.TRANSFORM = s.DomUtil.testProp(["transform", "WebkitTransform", "OTransform", "MozTransform", "msTransform"]), s.DomUtil.TRANSITION = s.DomUtil.testProp(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]), s.DomUtil.TRANSITION_END = "webkitTransition" === s.DomUtil.TRANSITION || "OTransition" === s.DomUtil.TRANSITION ? s.DomUtil.TRANSITION + "End" : "transitionend",
            function() {
                if ("onselectstart" in t) s.extend(s.DomUtil, {
                    disableTextSelection: function() {
                        s.DomEvent.on(e, "selectstart", s.DomEvent.preventDefault)
                    },
                    enableTextSelection: function() {
                        s.DomEvent.off(e, "selectstart", s.DomEvent.preventDefault)
                    }
                });
                else {
                    var i = s.DomUtil.testProp(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);
                    s.extend(s.DomUtil, {
                        disableTextSelection: function() {
                            if (i) {
                                var e = t.documentElement.style;
                                this._userSelect = e[i], e[i] = "none"
                            }
                        },
                        enableTextSelection: function() {
                            i && (t.documentElement.style[i] = this._userSelect, delete this._userSelect)
                        }
                    })
                }
                s.extend(s.DomUtil, {
                    disableImageDrag: function() {
                        s.DomEvent.on(e, "dragstart", s.DomEvent.preventDefault)
                    },
                    enableImageDrag: function() {
                        s.DomEvent.off(e, "dragstart", s.DomEvent.preventDefault)
                    }
                })
            }(), s.LatLng = function(e, t, i) {
                if (e = parseFloat(e), t = parseFloat(t), isNaN(e) || isNaN(t)) throw new Error("Invalid LatLng object: (" + e + ", " + t + ")");
                this.lat = e, this.lng = t, i !== n && (this.alt = parseFloat(i))
            }, s.extend(s.LatLng, {
                DEG_TO_RAD: Math.PI / 180,
                RAD_TO_DEG: 180 / Math.PI,
                MAX_MARGIN: 1e-9
            }), s.LatLng.prototype = {
                equals: function(e) {
                    if (!e) return !1;
                    e = s.latLng(e);
                    var t = Math.max(Math.abs(this.lat - e.lat), Math.abs(this.lng - e.lng));
                    return t <= s.LatLng.MAX_MARGIN
                },
                toString: function(e) {
                    return "LatLng(" + s.Util.formatNum(this.lat, e) + ", " + s.Util.formatNum(this.lng, e) + ")"
                },
                distanceTo: function(e) {
                    e = s.latLng(e);
                    var t = 6378137,
                        i = s.LatLng.DEG_TO_RAD,
                        n = (e.lat - this.lat) * i,
                        a = (e.lng - this.lng) * i,
                        o = this.lat * i,
                        r = e.lat * i,
                        l = Math.sin(n / 2),
                        c = Math.sin(a / 2),
                        h = l * l + c * c * Math.cos(o) * Math.cos(r);
                    return 2 * t * Math.atan2(Math.sqrt(h), Math.sqrt(1 - h))
                },
                wrap: function(e, t) {
                    var i = this.lng;
                    return e = e || -180, t = t || 180, i = (i + t) % (t - e) + (e > i || i === t ? t : e), new s.LatLng(this.lat, i)
                }
            }, s.latLng = function(e, t) {
                return e instanceof s.LatLng ? e : s.Util.isArray(e) ? "number" == typeof e[0] || "string" == typeof e[0] ? new s.LatLng(e[0], e[1], e[2]) : null : e === n || null === e ? e : "object" == typeof e && "lat" in e ? new s.LatLng(e.lat, "lng" in e ? e.lng : e.lon) : t === n ? null : new s.LatLng(e, t)
            }, s.LatLngBounds = function(e, t) {
                if (e)
                    for (var i = t ? [e, t] : e, n = 0, a = i.length; a > n; n++) this.extend(i[n])
            }, s.LatLngBounds.prototype = {
                extend: function(e) {
                    if (!e) return this;
                    var t = s.latLng(e);
                    return e = null !== t ? t : s.latLngBounds(e), e instanceof s.LatLng ? this._southWest || this._northEast ? (this._southWest.lat = Math.min(e.lat, this._southWest.lat), this._southWest.lng = Math.min(e.lng, this._southWest.lng), this._northEast.lat = Math.max(e.lat, this._northEast.lat), this._northEast.lng = Math.max(e.lng, this._northEast.lng)) : (this._southWest = new s.LatLng(e.lat, e.lng), this._northEast = new s.LatLng(e.lat, e.lng)) : e instanceof s.LatLngBounds && (this.extend(e._southWest), this.extend(e._northEast)), this
                },
                pad: function(e) {
                    var t = this._southWest,
                        i = this._northEast,
                        n = Math.abs(t.lat - i.lat) * e,
                        a = Math.abs(t.lng - i.lng) * e;
                    return new s.LatLngBounds(new s.LatLng(t.lat - n, t.lng - a), new s.LatLng(i.lat + n, i.lng + a))
                },
                getCenter: function() {
                    return new s.LatLng((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2)
                },
                getSouthWest: function() {
                    return this._southWest
                },
                getNorthEast: function() {
                    return this._northEast
                },
                getNorthWest: function() {
                    return new s.LatLng(this.getNorth(), this.getWest())
                },
                getSouthEast: function() {
                    return new s.LatLng(this.getSouth(), this.getEast())
                },
                getWest: function() {
                    return this._southWest.lng
                },
                getSouth: function() {
                    return this._southWest.lat
                },
                getEast: function() {
                    return this._northEast.lng
                },
                getNorth: function() {
                    return this._northEast.lat
                },
                contains: function(e) {
                    e = "number" == typeof e[0] || e instanceof s.LatLng ? s.latLng(e) : s.latLngBounds(e);
                    var t, i, n = this._southWest,
                        a = this._northEast;
                    return e instanceof s.LatLngBounds ? (t = e.getSouthWest(), i = e.getNorthEast()) : t = i = e, t.lat >= n.lat && i.lat <= a.lat && t.lng >= n.lng && i.lng <= a.lng
                },
                intersects: function(e) {
                    e = s.latLngBounds(e);
                    var t = this._southWest,
                        i = this._northEast,
                        n = e.getSouthWest(),
                        a = e.getNorthEast(),
                        o = a.lat >= t.lat && n.lat <= i.lat,
                        r = a.lng >= t.lng && n.lng <= i.lng;
                    return o && r
                },
                toBBoxString: function() {
                    return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",")
                },
                equals: function(e) {
                    return e ? (e = s.latLngBounds(e), this._southWest.equals(e.getSouthWest()) && this._northEast.equals(e.getNorthEast())) : !1
                },
                isValid: function() {
                    return !(!this._southWest || !this._northEast)
                }
            }, s.latLngBounds = function(e, t) {
                return !e || e instanceof s.LatLngBounds ? e : new s.LatLngBounds(e, t)
            }, s.Projection = {}, s.Projection.SphericalMercator = {
                MAX_LATITUDE: 85.0511287798,
                project: function(e) {
                    var t = s.LatLng.DEG_TO_RAD,
                        i = this.MAX_LATITUDE,
                        n = Math.max(Math.min(i, e.lat), -i),
                        a = e.lng * t,
                        o = n * t;
                    return o = Math.log(Math.tan(Math.PI / 4 + o / 2)), new s.Point(a, o)
                },
                unproject: function(e) {
                    var t = s.LatLng.RAD_TO_DEG,
                        i = e.x * t,
                        n = (2 * Math.atan(Math.exp(e.y)) - Math.PI / 2) * t;
                    return new s.LatLng(n, i)
                }
            }, s.Projection.LonLat = {
                project: function(e) {
                    return new s.Point(e.lng, e.lat)
                },
                unproject: function(e) {
                    return new s.LatLng(e.y, e.x)
                }
            }, s.CRS = {
                latLngToPoint: function(e, t) {
                    var i = this.projection.project(e),
                        n = this.scale(t);
                    return this.transformation._transform(i, n)
                },
                pointToLatLng: function(e, t) {
                    var i = this.scale(t),
                        n = this.transformation.untransform(e, i);
                    return this.projection.unproject(n)
                },
                project: function(e) {
                    return this.projection.project(e)
                },
                scale: function(e) {
                    return 256 * Math.pow(2, e)
                },
                getSize: function(e) {
                    var t = this.scale(e);
                    return s.point(t, t)
                }
            }, s.CRS.Simple = s.extend({}, s.CRS, {
                projection: s.Projection.LonLat,
                transformation: new s.Transformation(1, 0, -1, 0),
                scale: function(e) {
                    return Math.pow(2, e)
                }
            }), s.CRS.EPSG3857 = s.extend({}, s.CRS, {
                code: "EPSG:3857",
                projection: s.Projection.SphericalMercator,
                transformation: new s.Transformation(.5 / Math.PI, .5, -.5 / Math.PI, .5),
                project: function(e) {
                    var t = this.projection.project(e),
                        i = 6378137;
                    return t.multiplyBy(i)
                }
            }), s.CRS.EPSG900913 = s.extend({}, s.CRS.EPSG3857, {
                code: "EPSG:900913"
            }), s.CRS.EPSG4326 = s.extend({}, s.CRS, {
                code: "EPSG:4326",
                projection: s.Projection.LonLat,
                transformation: new s.Transformation(1 / 360, .5, -1 / 360, .5)
            }), s.Map = s.Class.extend({
                includes: s.Mixin.Events,
                options: {
                    crs: s.CRS.EPSG3857,
                    fadeAnimation: s.DomUtil.TRANSITION && !s.Browser.android23,
                    trackResize: !0,
                    markerZoomAnimation: s.DomUtil.TRANSITION && s.Browser.any3d
                },
                initialize: function(e, t) {
                    t = s.setOptions(this, t), this._initContainer(e), this._initLayout(), this._onResize = s.bind(this._onResize, this), this._initEvents(), t.maxBounds && this.setMaxBounds(t.maxBounds), t.center && t.zoom !== n && this.setView(s.latLng(t.center), t.zoom, {
                        reset: !0
                    }), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._tileLayersNum = 0, this.callInitHooks(), this._addLayers(t.layers)
                },
                setView: function(e, t) {
                    return t = t === n ? this.getZoom() : t, this._resetView(s.latLng(e), this._limitZoom(t)), this
                },
                setZoom: function(e, t) {
                    return this._loaded ? this.setView(this.getCenter(), e, {
                        zoom: t
                    }) : (this._zoom = this._limitZoom(e), this)
                },
                zoomIn: function(e, t) {
                    return this.setZoom(this._zoom + (e || 1), t)
                },
                zoomOut: function(e, t) {
                    return this.setZoom(this._zoom - (e || 1), t)
                },
                setZoomAround: function(e, t, i) {
                    var n = this.getZoomScale(t),
                        a = this.getSize().divideBy(2),
                        o = e instanceof s.Point ? e : this.latLngToContainerPoint(e),
                        r = o.subtract(a).multiplyBy(1 - 1 / n),
                        l = this.containerPointToLatLng(a.add(r));
                    return this.setView(l, t, {
                        zoom: i
                    })
                },
                fitBounds: function(e, t) {
                    t = t || {}, e = e.getBounds ? e.getBounds() : s.latLngBounds(e);
                    var i = s.point(t.paddingTopLeft || t.padding || [0, 0]),
                        n = s.point(t.paddingBottomRight || t.padding || [0, 0]),
                        a = this.getBoundsZoom(e, !1, i.add(n)),
                        o = n.subtract(i).divideBy(2),
                        r = this.project(e.getSouthWest(), a),
                        l = this.project(e.getNorthEast(), a),
                        c = this.unproject(r.add(l).divideBy(2).add(o), a);
                    return a = t && t.maxZoom ? Math.min(t.maxZoom, a) : a, this.setView(c, a, t)
                },
                fitWorld: function(e) {
                    return this.fitBounds([
                        [-90, -180],
                        [90, 180]
                    ], e)
                },
                panTo: function(e, t) {
                    return this.setView(e, this._zoom, {
                        pan: t
                    })
                },
                panBy: function(e) {
                    return this.fire("movestart"), this._rawPanBy(s.point(e)), this.fire("move"), this.fire("moveend")
                },
                setMaxBounds: function(e) {
                    return e = s.latLngBounds(e), this.options.maxBounds = e, e ? (this._loaded && this._panInsideMaxBounds(), this.on("moveend", this._panInsideMaxBounds, this)) : this.off("moveend", this._panInsideMaxBounds, this)
                },
                panInsideBounds: function(e, t) {
                    var i = this.getCenter(),
                        n = this._limitCenter(i, this._zoom, e);
                    return i.equals(n) ? this : this.panTo(n, t)
                },
                addLayer: function(e) {
                    var t = s.stamp(e);
                    return this._layers[t] ? this : (this._layers[t] = e, !e.options || isNaN(e.options.maxZoom) && isNaN(e.options.minZoom) || (this._zoomBoundLayers[t] = e, this._updateZoomLevels()), this.options.zoomAnimation && s.TileLayer && e instanceof s.TileLayer && (this._tileLayersNum++, this._tileLayersToLoad++, e.on("load", this._onTileLayerLoad, this)), this._loaded && this._layerAdd(e), this)
                },
                removeLayer: function(e) {
                    var t = s.stamp(e);
                    return this._layers[t] ? (this._loaded && e.onRemove(this), delete this._layers[t], this._loaded && this.fire("layerremove", {
                        layer: e
                    }), this._zoomBoundLayers[t] && (delete this._zoomBoundLayers[t], this._updateZoomLevels()), this.options.zoomAnimation && s.TileLayer && e instanceof s.TileLayer && (this._tileLayersNum--, this._tileLayersToLoad--, e.off("load", this._onTileLayerLoad, this)), this) : this
                },
                hasLayer: function(e) {
                    return e ? s.stamp(e) in this._layers : !1
                },
                eachLayer: function(e, t) {
                    for (var i in this._layers) e.call(t, this._layers[i]);
                    return this
                },
                invalidateSize: function(e) {
                    if (!this._loaded) return this;
                    e = s.extend({
                        animate: !1,
                        pan: !0
                    }, e === !0 ? {
                        animate: !0
                    } : e);
                    var t = this.getSize();
                    this._sizeChanged = !0, this._initialCenter = null;
                    var i = this.getSize(),
                        n = t.divideBy(2).round(),
                        a = i.divideBy(2).round(),
                        o = n.subtract(a);
                    return o.x || o.y ? (e.animate && e.pan ? this.panBy(o) : (e.pan && this._rawPanBy(o), this.fire("move"), e.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(s.bind(this.fire, this, "moveend"), 200)) : this.fire("moveend")), this.fire("resize", {
                        oldSize: t,
                        newSize: i
                    })) : this
                },
                addHandler: function(e, t) {
                    if (!t) return this;
                    var i = this[e] = new t(this);
                    return this._handlers.push(i), this.options[e] && i.enable(), this
                },
                remove: function() {
                    this._loaded && this.fire("unload"), this._initEvents("off");
                    try {
                        delete this._container._leaflet
                    } catch (e) {
                        this._container._leaflet = n
                    }
                    return this._clearPanes(), this._clearControlPos && this._clearControlPos(), this._clearHandlers(), this
                },
                getCenter: function() {
                    return this._checkIfLoaded(), this._initialCenter && !this._moved() ? this._initialCenter : this.layerPointToLatLng(this._getCenterLayerPoint())
                },
                getZoom: function() {
                    return this._zoom
                },
                getBounds: function() {
                    var e = this.getPixelBounds(),
                        t = this.unproject(e.getBottomLeft()),
                        i = this.unproject(e.getTopRight());
                    return new s.LatLngBounds(t, i)
                },
                getMinZoom: function() {
                    return this.options.minZoom === n ? this._layersMinZoom === n ? 0 : this._layersMinZoom : this.options.minZoom
                },
                getMaxZoom: function() {
                    return this.options.maxZoom === n ? this._layersMaxZoom === n ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom
                },
                getBoundsZoom: function(e, t, i) {
                    e = s.latLngBounds(e);
                    var n, a = this.getMinZoom() - (t ? 1 : 0),
                        o = this.getMaxZoom(),
                        r = this.getSize(),
                        l = e.getNorthWest(),
                        c = e.getSouthEast(),
                        h = !0;
                    i = s.point(i || [0, 0]);
                    do a++, n = this.project(c, a).subtract(this.project(l, a)).add(i), h = t ? n.x < r.x || n.y < r.y : r.contains(n); while (h && o >= a);
                    return h && t ? null : t ? a : a - 1
                },
                getSize: function() {
                    return (!this._size || this._sizeChanged) && (this._size = new s.Point(this._container.clientWidth, this._container.clientHeight), this._sizeChanged = !1), this._size.clone()
                },
                getPixelBounds: function() {
                    var e = this._getTopLeftPoint();
                    return new s.Bounds(e, e.add(this.getSize()))
                },
                getPixelOrigin: function() {
                    return this._checkIfLoaded(), this._initialTopLeftPoint
                },
                getPanes: function() {
                    return this._panes
                },
                getContainer: function() {
                    return this._container
                },
                getZoomScale: function(e) {
                    var t = this.options.crs;
                    return t.scale(e) / t.scale(this._zoom)
                },
                getScaleZoom: function(e) {
                    return this._zoom + Math.log(e) / Math.LN2
                },
                project: function(e, t) {
                    return t = t === n ? this._zoom : t, this.options.crs.latLngToPoint(s.latLng(e), t)
                },
                unproject: function(e, t) {
                    return t = t === n ? this._zoom : t, this.options.crs.pointToLatLng(s.point(e), t)
                },
                layerPointToLatLng: function(e) {
                    var t = s.point(e).add(this.getPixelOrigin());
                    return this.unproject(t)
                },
                latLngToLayerPoint: function(e) {
                    var t = this.project(s.latLng(e))._round();
                    return t._subtract(this.getPixelOrigin())
                },
                containerPointToLayerPoint: function(e) {
                    return s.point(e).subtract(this._getMapPanePos())
                },
                layerPointToContainerPoint: function(e) {
                    return s.point(e).add(this._getMapPanePos())
                },
                containerPointToLatLng: function(e) {
                    var t = this.containerPointToLayerPoint(s.point(e));
                    return this.layerPointToLatLng(t)
                },
                latLngToContainerPoint: function(e) {
                    return this.layerPointToContainerPoint(this.latLngToLayerPoint(s.latLng(e)))
                },
                mouseEventToContainerPoint: function(e) {
                    return s.DomEvent.getMousePosition(e, this._container)
                },
                mouseEventToLayerPoint: function(e) {
                    return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))
                },
                mouseEventToLatLng: function(e) {
                    return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))
                },
                _initContainer: function(e) {
                    var t = this._container = s.DomUtil.get(e);
                    if (!t) throw new Error("Map container not found.");
                    if (t._leaflet) throw new Error("Map container is already initialized.");
                    t._leaflet = !0
                },
                _initLayout: function() {
                    var e = this._container;
                    s.DomUtil.addClass(e, "leaflet-container" + (s.Browser.touch ? " leaflet-touch" : "") + (s.Browser.retina ? " leaflet-retina" : "") + (s.Browser.ielt9 ? " leaflet-oldie" : "") + (this.options.fadeAnimation ? " leaflet-fade-anim" : ""));
                    var t = s.DomUtil.getStyle(e, "position");
                    "absolute" !== t && "relative" !== t && "fixed" !== t && (e.style.position = "relative"), this._initPanes(), this._initControlPos && this._initControlPos()
                },
                _initPanes: function() {
                    var e = this._panes = {};
                    this._mapPane = e.mapPane = this._createPane("leaflet-map-pane", this._container), this._tilePane = e.tilePane = this._createPane("leaflet-tile-pane", this._mapPane), e.objectsPane = this._createPane("leaflet-objects-pane", this._mapPane), e.shadowPane = this._createPane("leaflet-shadow-pane"), e.overlayPane = this._createPane("leaflet-overlay-pane"), e.markerPane = this._createPane("leaflet-marker-pane"), e.popupPane = this._createPane("leaflet-popup-pane");
                    var t = " leaflet-zoom-hide";
                    this.options.markerZoomAnimation || (s.DomUtil.addClass(e.markerPane, t), s.DomUtil.addClass(e.shadowPane, t), s.DomUtil.addClass(e.popupPane, t))
                },
                _createPane: function(e, t) {
                    return s.DomUtil.create("div", e, t || this._panes.objectsPane)
                },
                _clearPanes: function() {
                    this._container.removeChild(this._mapPane)
                },
                _addLayers: function(e) {
                    e = e ? s.Util.isArray(e) ? e : [e] : [];
                    for (var t = 0, i = e.length; i > t; t++) this.addLayer(e[t])
                },
                _resetView: function(e, t, i, n) {
                    var a = this._zoom !== t;
                    n || (this.fire("movestart"), a && this.fire("zoomstart")), this._zoom = t, this._initialCenter = e, this._initialTopLeftPoint = this._getNewTopLeftPoint(e), i ? this._initialTopLeftPoint._add(this._getMapPanePos()) : s.DomUtil.setPosition(this._mapPane, new s.Point(0, 0)), this._tileLayersToLoad = this._tileLayersNum;
                    var o = !this._loaded;
                    this._loaded = !0, this.fire("viewreset", {
                        hard: !i
                    }), o && (this.fire("load"), this.eachLayer(this._layerAdd, this)), this.fire("move"), (a || n) && this.fire("zoomend"), this.fire("moveend", {
                        hard: !i
                    })
                },
                _rawPanBy: function(e) {
                    s.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(e))
                },
                _getZoomSpan: function() {
                    return this.getMaxZoom() - this.getMinZoom()
                },
                _updateZoomLevels: function() {
                    var e, t = 1 / 0,
                        i = -1 / 0,
                        a = this._getZoomSpan();
                    for (e in this._zoomBoundLayers) {
                        var s = this._zoomBoundLayers[e];
                        isNaN(s.options.minZoom) || (t = Math.min(t, s.options.minZoom)), isNaN(s.options.maxZoom) || (i = Math.max(i, s.options.maxZoom))
                    }
                    e === n ? this._layersMaxZoom = this._layersMinZoom = n : (this._layersMaxZoom = i, this._layersMinZoom = t), a !== this._getZoomSpan() && this.fire("zoomlevelschange")
                },
                _panInsideMaxBounds: function() {
                    this.panInsideBounds(this.options.maxBounds)
                },
                _checkIfLoaded: function() {
                    if (!this._loaded) throw new Error("Set map center and zoom first.")
                },
                _initEvents: function(t) {
                    if (s.DomEvent) {
                        t = t || "on", s.DomEvent[t](this._container, "click", this._onMouseClick, this);
                        var i, n, a = ["dblclick", "mousedown", "mouseup", "mouseenter", "mouseleave", "mousemove", "contextmenu"];
                        for (i = 0, n = a.length; n > i; i++) s.DomEvent[t](this._container, a[i], this._fireMouseEvent, this);
                        this.options.trackResize && s.DomEvent[t](e, "resize", this._onResize, this)
                    }
                },
                _onResize: function() {
                    s.Util.cancelAnimFrame(this._resizeRequest), this._resizeRequest = s.Util.requestAnimFrame(function() {
                        this.invalidateSize({
                            debounceMoveend: !0
                        })
                    }, this, !1, this._container)
                },
                _onMouseClick: function(e) {
                    !this._loaded || !e._simulated && (this.dragging && this.dragging.moved() || this.boxZoom && this.boxZoom.moved()) || s.DomEvent._skipped(e) || (this.fire("preclick"), this._fireMouseEvent(e))
                },
                _fireMouseEvent: function(e) {
                    if (this._loaded && !s.DomEvent._skipped(e)) {
                        var t = e.type;
                        if (t = "mouseenter" === t ? "mouseover" : "mouseleave" === t ? "mouseout" : t, this.hasEventListeners(t)) {
                            "contextmenu" === t && s.DomEvent.preventDefault(e);
                            var i = this.mouseEventToContainerPoint(e),
                                n = this.containerPointToLayerPoint(i),
                                a = this.layerPointToLatLng(n);
                            this.fire(t, {
                                latlng: a,
                                layerPoint: n,
                                containerPoint: i,
                                originalEvent: e
                            })
                        }
                    }
                },
                _onTileLayerLoad: function() {
                    this._tileLayersToLoad--, this._tileLayersNum && !this._tileLayersToLoad && this.fire("tilelayersload")
                },
                _clearHandlers: function() {
                    for (var e = 0, t = this._handlers.length; t > e; e++) this._handlers[e].disable()
                },
                whenReady: function(e, t) {
                    return this._loaded ? e.call(t || this, this) : this.on("load", e, t), this
                },
                _layerAdd: function(e) {
                    e.onAdd(this), this.fire("layeradd", {
                        layer: e
                    })
                },
                _getMapPanePos: function() {
                    return s.DomUtil.getPosition(this._mapPane)
                },
                _moved: function() {
                    var e = this._getMapPanePos();
                    return e && !e.equals([0, 0])
                },
                _getTopLeftPoint: function() {
                    return this.getPixelOrigin().subtract(this._getMapPanePos())
                },
                _getNewTopLeftPoint: function(e, t) {
                    var i = this.getSize()._divideBy(2);
                    return this.project(e, t)._subtract(i)._round()
                },
                _latLngToNewLayerPoint: function(e, t, i) {
                    var n = this._getNewTopLeftPoint(i, t).add(this._getMapPanePos());
                    return this.project(e, t)._subtract(n)
                },
                _getCenterLayerPoint: function() {
                    return this.containerPointToLayerPoint(this.getSize()._divideBy(2))
                },
                _getCenterOffset: function(e) {
                    return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())
                },
                _limitCenter: function(e, t, i) {
                    if (!i) return e;
                    var n = this.project(e, t),
                        a = this.getSize().divideBy(2),
                        o = new s.Bounds(n.subtract(a), n.add(a)),
                        r = this._getBoundsOffset(o, i, t);
                    return this.unproject(n.add(r), t)
                },
                _limitOffset: function(e, t) {
                    if (!t) return e;
                    var i = this.getPixelBounds(),
                        n = new s.Bounds(i.min.add(e), i.max.add(e));
                    return e.add(this._getBoundsOffset(n, t))
                },
                _getBoundsOffset: function(e, t, i) {
                    var n = this.project(t.getNorthWest(), i).subtract(e.min),
                        a = this.project(t.getSouthEast(), i).subtract(e.max),
                        o = this._rebound(n.x, -a.x),
                        r = this._rebound(n.y, -a.y);
                    return new s.Point(o, r)
                },
                _rebound: function(e, t) {
                    return e + t > 0 ? Math.round(e - t) / 2 : Math.max(0, Math.ceil(e)) - Math.max(0, Math.floor(t))
                },
                _limitZoom: function(e) {
                    var t = this.getMinZoom(),
                        i = this.getMaxZoom();
                    return Math.max(t, Math.min(i, e))
                }
            }), s.map = function(e, t) {
                return new s.Map(e, t)
            }, s.Projection.Mercator = {
                MAX_LATITUDE: 85.0840591556,
                R_MINOR: 6356752.314245179,
                R_MAJOR: 6378137,
                project: function(e) {
                    var t = s.LatLng.DEG_TO_RAD,
                        i = this.MAX_LATITUDE,
                        n = Math.max(Math.min(i, e.lat), -i),
                        a = this.R_MAJOR,
                        o = this.R_MINOR,
                        r = e.lng * t * a,
                        l = n * t,
                        c = o / a,
                        h = Math.sqrt(1 - c * c),
                        d = h * Math.sin(l);
                    d = Math.pow((1 - d) / (1 + d), .5 * h);
                    var p = Math.tan(.5 * (.5 * Math.PI - l)) / d;
                    return l = -a * Math.log(p), new s.Point(r, l)
                },
                unproject: function(e) {
                    for (var t, i = s.LatLng.RAD_TO_DEG, n = this.R_MAJOR, a = this.R_MINOR, o = e.x * i / n, r = a / n, l = Math.sqrt(1 - r * r), c = Math.exp(-e.y / n), h = Math.PI / 2 - 2 * Math.atan(c), d = 15, p = 1e-7, u = d, m = .1; Math.abs(m) > p && --u > 0;) t = l * Math.sin(h), m = Math.PI / 2 - 2 * Math.atan(c * Math.pow((1 - t) / (1 + t), .5 * l)) - h, h += m;
                    return new s.LatLng(h * i, o)
                }
            }, s.CRS.EPSG3395 = s.extend({}, s.CRS, {
                code: "EPSG:3395",
                projection: s.Projection.Mercator,
                transformation: function() {
                    var e = s.Projection.Mercator,
                        t = e.R_MAJOR,
                        i = .5 / (Math.PI * t);
                    return new s.Transformation(i, .5, -i, .5)
                }()
            }), s.TileLayer = s.Class.extend({
                includes: s.Mixin.Events,
                options: {
                    minZoom: 0,
                    maxZoom: 18,
                    tileSize: 256,
                    subdomains: "abc",
                    errorTileUrl: "",
                    attribution: "",
                    zoomOffset: 0,
                    opacity: 1,
                    unloadInvisibleTiles: s.Browser.mobile,
                    updateWhenIdle: s.Browser.mobile
                },
                initialize: function(e, t) {
                    t = s.setOptions(this, t), t.detectRetina && s.Browser.retina && t.maxZoom > 0 && (t.tileSize = Math.floor(t.tileSize / 2), t.zoomOffset++, t.minZoom > 0 && t.minZoom--, this.options.maxZoom--), t.bounds && (t.bounds = s.latLngBounds(t.bounds)), this._url = e;
                    var i = this.options.subdomains;
                    "string" == typeof i && (this.options.subdomains = i.split(""))
                },
                onAdd: function(e) {
                    this._map = e, this._animated = e._zoomAnimated, this._initContainer(), e.on({
                        viewreset: this._reset,
                        moveend: this._update
                    }, this), this._animated && e.on({
                        zoomanim: this._animateZoom,
                        zoomend: this._endZoomAnim
                    }, this), this.options.updateWhenIdle || (this._limitedUpdate = s.Util.limitExecByInterval(this._update, 150, this), e.on("move", this._limitedUpdate, this)), this._reset(), this._update()
                },
                addTo: function(e) {
                    return e.addLayer(this), this
                },
                onRemove: function(e) {
                    this._container.parentNode.removeChild(this._container), e.off({
                        viewreset: this._reset,
                        moveend: this._update
                    }, this), this._animated && e.off({
                        zoomanim: this._animateZoom,
                        zoomend: this._endZoomAnim
                    }, this), this.options.updateWhenIdle || e.off("move", this._limitedUpdate, this), this._container = null, this._map = null
                },
                bringToFront: function() {
                    var e = this._map._panes.tilePane;
                    return this._container && (e.appendChild(this._container), this._setAutoZIndex(e, Math.max)), this
                },
                bringToBack: function() {
                    var e = this._map._panes.tilePane;
                    return this._container && (e.insertBefore(this._container, e.firstChild), this._setAutoZIndex(e, Math.min)), this
                },
                getAttribution: function() {
                    return this.options.attribution
                },
                getContainer: function() {
                    return this._container
                },
                setOpacity: function(e) {
                    return this.options.opacity = e, this._map && this._updateOpacity(), this
                },
                setZIndex: function(e) {
                    return this.options.zIndex = e, this._updateZIndex(), this
                },
                setUrl: function(e, t) {
                    return this._url = e, t || this.redraw(), this
                },
                redraw: function() {
                    return this._map && (this._reset({
                        hard: !0
                    }), this._update()), this
                },
                _updateZIndex: function() {
                    this._container && this.options.zIndex !== n && (this._container.style.zIndex = this.options.zIndex)
                },
                _setAutoZIndex: function(e, t) {
                    var i, n, a, s = e.children,
                        o = -t(1 / 0, -1 / 0);
                    for (n = 0, a = s.length; a > n; n++) s[n] !== this._container && (i = parseInt(s[n].style.zIndex, 10), isNaN(i) || (o = t(o, i)));
                    this.options.zIndex = this._container.style.zIndex = (isFinite(o) ? o : 0) + t(1, -1)
                },
                _updateOpacity: function() {
                    var e, t = this._tiles;
                    if (s.Browser.ielt9)
                        for (e in t) s.DomUtil.setOpacity(t[e], this.options.opacity);
                    else s.DomUtil.setOpacity(this._container, this.options.opacity)
                },
                _initContainer: function() {
                    var e = this._map._panes.tilePane;
                    if (!this._container) {
                        if (this._container = s.DomUtil.create("div", "leaflet-layer"), this._updateZIndex(), this._animated) {
                            var t = "leaflet-tile-container";
                            this._bgBuffer = s.DomUtil.create("div", t, this._container), this._tileContainer = s.DomUtil.create("div", t, this._container)
                        } else this._tileContainer = this._container;
                        e.appendChild(this._container), this.options.opacity < 1 && this._updateOpacity()
                    }
                },
                _reset: function(e) {
                    for (var t in this._tiles) this.fire("tileunload", {
                        tile: this._tiles[t]
                    });
                    this._tiles = {}, this._tilesToLoad = 0, this.options.reuseTiles && (this._unusedTiles = []), this._tileContainer.innerHTML = "", this._animated && e && e.hard && this._clearBgBuffer(), this._initContainer()
                },
                _getTileSize: function() {
                    var e = this._map,
                        t = e.getZoom() + this.options.zoomOffset,
                        i = this.options.maxNativeZoom,
                        n = this.options.tileSize;
                    return i && t > i && (n = Math.round(e.getZoomScale(t) / e.getZoomScale(i) * n)), n
                },
                _update: function() {
                    if (this._map) {
                        var e = this._map,
                            t = e.getPixelBounds(),
                            i = e.getZoom(),
                            n = this._getTileSize();
                        if (!(i > this.options.maxZoom || i < this.options.minZoom)) {
                            var a = s.bounds(t.min.divideBy(n)._floor(), t.max.divideBy(n)._floor());
                            this._addTilesFromCenterOut(a), (this.options.unloadInvisibleTiles || this.options.reuseTiles) && this._removeOtherTiles(a)
                        }
                    }
                },
                _addTilesFromCenterOut: function(e) {
                    var i, n, a, o = [],
                        r = e.getCenter();
                    for (i = e.min.y; i <= e.max.y; i++)
                        for (n = e.min.x; n <= e.max.x; n++) a = new s.Point(n, i), this._tileShouldBeLoaded(a) && o.push(a);
                    var l = o.length;
                    if (0 !== l) {
                        o.sort(function(e, t) {
                            return e.distanceTo(r) - t.distanceTo(r)
                        });
                        var c = t.createDocumentFragment();
                        for (this._tilesToLoad || this.fire("loading"), this._tilesToLoad += l, n = 0; l > n; n++) this._addTile(o[n], c);
                        this._tileContainer.appendChild(c)
                    }
                },
                _tileShouldBeLoaded: function(e) {
                    if (e.x + ":" + e.y in this._tiles) return !1;
                    var t = this.options;
                    if (!t.continuousWorld) {
                        var i = this._getWrapTileNum();
                        if (t.noWrap && (e.x < 0 || e.x >= i.x) || e.y < 0 || e.y >= i.y) return !1
                    }
                    if (t.bounds) {
                        var n = t.tileSize,
                            a = e.multiplyBy(n),
                            s = a.add([n, n]),
                            o = this._map.unproject(a),
                            r = this._map.unproject(s);
                        if (t.continuousWorld || t.noWrap || (o = o.wrap(), r = r.wrap()), !t.bounds.intersects([o, r])) return !1
                    }
                    return !0
                },
                _removeOtherTiles: function(e) {
                    var t, i, n, a;
                    for (a in this._tiles) t = a.split(":"), i = parseInt(t[0], 10), n = parseInt(t[1], 10), (i < e.min.x || i > e.max.x || n < e.min.y || n > e.max.y) && this._removeTile(a)
                },
                _removeTile: function(e) {
                    var t = this._tiles[e];
                    this.fire("tileunload", {
                        tile: t,
                        url: t.src
                    }), this.options.reuseTiles ? (s.DomUtil.removeClass(t, "leaflet-tile-loaded"), this._unusedTiles.push(t)) : t.parentNode === this._tileContainer && this._tileContainer.removeChild(t), s.Browser.android || (t.onload = null, t.src = s.Util.emptyImageUrl), delete this._tiles[e]
                },
                _addTile: function(e, t) {
                    var i = this._getTilePos(e),
                        n = this._getTile();
                    s.DomUtil.setPosition(n, i, s.Browser.chrome), this._tiles[e.x + ":" + e.y] = n, this._loadTile(n, e), n.parentNode !== this._tileContainer && t.appendChild(n)
                },
                _getZoomForUrl: function() {
                    var e = this.options,
                        t = this._map.getZoom();
                    return e.zoomReverse && (t = e.maxZoom - t), t += e.zoomOffset, e.maxNativeZoom ? Math.min(t, e.maxNativeZoom) : t
                },
                _getTilePos: function(e) {
                    var t = this._map.getPixelOrigin(),
                        i = this._getTileSize();
                    return e.multiplyBy(i).subtract(t)
                },
                getTileUrl: function(e) {
                    return s.Util.template(this._url, s.extend({
                        s: this._getSubdomain(e),
                        z: e.z,
                        x: e.x,
                        y: e.y
                    }, this.options))
                },
                _getWrapTileNum: function() {
                    var e = this._map.options.crs,
                        t = e.getSize(this._map.getZoom());
                    return t.divideBy(this._getTileSize())._floor()
                },
                _adjustTilePoint: function(e) {
                    var t = this._getWrapTileNum();
                    this.options.continuousWorld || this.options.noWrap || (e.x = (e.x % t.x + t.x) % t.x), this.options.tms && (e.y = t.y - e.y - 1), e.z = this._getZoomForUrl()
                },
                _getSubdomain: function(e) {
                    var t = Math.abs(e.x + e.y) % this.options.subdomains.length;
                    return this.options.subdomains[t]
                },
                _getTile: function() {
                    if (this.options.reuseTiles && this._unusedTiles.length > 0) {
                        var e = this._unusedTiles.pop();
                        return this._resetTile(e), e
                    }
                    return this._createTile()
                },
                _resetTile: function() {},
                _createTile: function() {
                    var e = s.DomUtil.create("img", "leaflet-tile");
                    return e.style.width = e.style.height = this._getTileSize() + "px", e.galleryimg = "no", e.onselectstart = e.onmousemove = s.Util.falseFn, s.Browser.ielt9 && this.options.opacity !== n && s.DomUtil.setOpacity(e, this.options.opacity), s.Browser.mobileWebkit3d && (e.style.WebkitBackfaceVisibility = "hidden"), e
                },
                _loadTile: function(e, t) {
                    e._layer = this, e.onload = this._tileOnLoad, e.onerror = this._tileOnError, this._adjustTilePoint(t), e.src = this.getTileUrl(t), this.fire("tileloadstart", {
                        tile: e,
                        url: e.src
                    })
                },
                _tileLoaded: function() {
                    this._tilesToLoad--, this._animated && s.DomUtil.addClass(this._tileContainer, "leaflet-zoom-animated"), this._tilesToLoad || (this.fire("load"), this._animated && (clearTimeout(this._clearBgBufferTimer), this._clearBgBufferTimer = setTimeout(s.bind(this._clearBgBuffer, this), 500)))
                },
                _tileOnLoad: function() {
                    var e = this._layer;
                    this.src !== s.Util.emptyImageUrl && (s.DomUtil.addClass(this, "leaflet-tile-loaded"), e.fire("tileload", {
                        tile: this,
                        url: this.src
                    })), e._tileLoaded()
                },
                _tileOnError: function() {
                    var e = this._layer;
                    e.fire("tileerror", {
                        tile: this,
                        url: this.src
                    });
                    var t = e.options.errorTileUrl;
                    t && (this.src = t), e._tileLoaded()
                }
            }), s.tileLayer = function(e, t) {
                return new s.TileLayer(e, t)
            }, s.TileLayer.WMS = s.TileLayer.extend({
                defaultWmsParams: {
                    service: "WMS",
                    request: "GetMap",
                    version: "1.1.1",
                    layers: "",
                    styles: "",
                    format: "image/jpeg",
                    transparent: !1
                },
                initialize: function(e, t) {
                    this._url = e;
                    var i = s.extend({}, this.defaultWmsParams),
                        n = t.tileSize || this.options.tileSize;
                    i.width = i.height = t.detectRetina && s.Browser.retina ? 2 * n : n;
                    for (var a in t) this.options.hasOwnProperty(a) || "crs" === a || (i[a] = t[a]);
                    this.wmsParams = i, s.setOptions(this, t)
                },
                onAdd: function(e) {
                    this._crs = this.options.crs || e.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version);
                    var t = this._wmsVersion >= 1.3 ? "crs" : "srs";
                    this.wmsParams[t] = this._crs.code, s.TileLayer.prototype.onAdd.call(this, e)
                },
                getTileUrl: function(e) {
                    var t = this._map,
                        i = this.options.tileSize,
                        n = e.multiplyBy(i),
                        a = n.add([i, i]),
                        o = this._crs.project(t.unproject(n, e.z)),
                        r = this._crs.project(t.unproject(a, e.z)),
                        l = this._wmsVersion >= 1.3 && this._crs === s.CRS.EPSG4326 ? [r.y, o.x, o.y, r.x].join(",") : [o.x, r.y, r.x, o.y].join(","),
                        c = s.Util.template(this._url, {
                            s: this._getSubdomain(e)
                        });
                    return c + s.Util.getParamString(this.wmsParams, c, !0) + "&BBOX=" + l
                },
                setParams: function(e, t) {
                    return s.extend(this.wmsParams, e), t || this.redraw(), this
                }
            }), s.tileLayer.wms = function(e, t) {
                return new s.TileLayer.WMS(e, t)
            }, s.TileLayer.Canvas = s.TileLayer.extend({
                options: {
                    async: !1
                },
                initialize: function(e) {
                    s.setOptions(this, e)
                },
                redraw: function() {
                    this._map && (this._reset({
                        hard: !0
                    }), this._update());
                    for (var e in this._tiles) this._redrawTile(this._tiles[e]);
                    return this
                },
                _redrawTile: function(e) {
                    this.drawTile(e, e._tilePoint, this._map._zoom)
                },
                _createTile: function() {
                    var e = s.DomUtil.create("canvas", "leaflet-tile");
                    return e.width = e.height = this.options.tileSize, e.onselectstart = e.onmousemove = s.Util.falseFn, e
                },
                _loadTile: function(e, t) {
                    e._layer = this, e._tilePoint = t, this._redrawTile(e), this.options.async || this.tileDrawn(e)
                },
                drawTile: function() {},
                tileDrawn: function(e) {
                    this._tileOnLoad.call(e)
                }
            }), s.tileLayer.canvas = function(e) {
                return new s.TileLayer.Canvas(e)
            }, s.ImageOverlay = s.Class.extend({
                includes: s.Mixin.Events,
                options: {
                    opacity: 1
                },
                initialize: function(e, t, i) {
                    this._url = e, this._bounds = s.latLngBounds(t), s.setOptions(this, i)
                },
                onAdd: function(e) {
                    this._map = e, this._image || this._initImage(), e._panes.overlayPane.appendChild(this._image), e.on("viewreset", this._reset, this), e.options.zoomAnimation && s.Browser.any3d && e.on("zoomanim", this._animateZoom, this), this._reset()
                },
                onRemove: function(e) {
                    e.getPanes().overlayPane.removeChild(this._image), e.off("viewreset", this._reset, this), e.options.zoomAnimation && e.off("zoomanim", this._animateZoom, this)
                },
                addTo: function(e) {
                    return e.addLayer(this), this
                },
                setOpacity: function(e) {
                    return this.options.opacity = e, this._updateOpacity(), this
                },
                bringToFront: function() {
                    return this._image && this._map._panes.overlayPane.appendChild(this._image), this
                },
                bringToBack: function() {
                    var e = this._map._panes.overlayPane;
                    return this._image && e.insertBefore(this._image, e.firstChild), this
                },
                setUrl: function(e) {
                    this._url = e, this._image.src = this._url
                },
                getAttribution: function() {
                    return this.options.attribution
                },
                _initImage: function() {
                    this._image = s.DomUtil.create("img", "leaflet-image-layer"), this._map.options.zoomAnimation && s.Browser.any3d ? s.DomUtil.addClass(this._image, "leaflet-zoom-animated") : s.DomUtil.addClass(this._image, "leaflet-zoom-hide"), this._updateOpacity(), s.extend(this._image, {
                        galleryimg: "no",
                        onselectstart: s.Util.falseFn,
                        onmousemove: s.Util.falseFn,
                        onload: s.bind(this._onImageLoad, this),
                        src: this._url
                    })
                },
                _animateZoom: function(e) {
                    var t = this._map,
                        i = this._image,
                        n = t.getZoomScale(e.zoom),
                        a = this._bounds.getNorthWest(),
                        o = this._bounds.getSouthEast(),
                        r = t._latLngToNewLayerPoint(a, e.zoom, e.center),
                        l = t._latLngToNewLayerPoint(o, e.zoom, e.center)._subtract(r),
                        c = r._add(l._multiplyBy(.5 * (1 - 1 / n)));
                    i.style[s.DomUtil.TRANSFORM] = s.DomUtil.getTranslateString(c) + " scale(" + n + ") "
                },
                _reset: function() {
                    var e = this._image,
                        t = this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
                        i = this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(t);
                    s.DomUtil.setPosition(e, t), e.style.width = i.x + "px", e.style.height = i.y + "px"
                },
                _onImageLoad: function() {
                    this.fire("load")
                },
                _updateOpacity: function() {
                    s.DomUtil.setOpacity(this._image, this.options.opacity)
                }
            }), s.imageOverlay = function(e, t, i) {
                return new s.ImageOverlay(e, t, i)
            }, s.Icon = s.Class.extend({
                options: {
                    className: ""
                },
                initialize: function(e) {
                    s.setOptions(this, e)
                },
                createIcon: function(e) {
                    return this._createIcon("icon", e)
                },
                createShadow: function(e) {
                    return this._createIcon("shadow", e)
                },
                _createIcon: function(e, t) {
                    var i = this._getIconUrl(e);
                    if (!i) {
                        if ("icon" === e) throw new Error("iconUrl not set in Icon options (see the docs).");
                        return null
                    }
                    var n;
                    return n = t && "IMG" === t.tagName ? this._createImg(i, t) : this._createImg(i), this._setIconStyles(n, e), n
                },
                _setIconStyles: function(e, t) {
                    var i, n = this.options,
                        a = s.point(n[t + "Size"]);
                    i = s.point("shadow" === t ? n.shadowAnchor || n.iconAnchor : n.iconAnchor), !i && a && (i = a.divideBy(2, !0)), e.className = "leaflet-marker-" + t + " " + n.className, i && (e.style.marginLeft = -i.x + "px", e.style.marginTop = -i.y + "px"), a && (e.style.width = a.x + "px", e.style.height = a.y + "px")
                },
                _createImg: function(e, i) {
                    return i = i || t.createElement("img"), i.src = e, i
                },
                _getIconUrl: function(e) {
                    return s.Browser.retina && this.options[e + "RetinaUrl"] ? this.options[e + "RetinaUrl"] : this.options[e + "Url"]
                }
            }), s.icon = function(e) {
                return new s.Icon(e)
            }, s.Icon.Default = s.Icon.extend({
                options: {
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    shadowSize: [41, 41]
                },
                _getIconUrl: function(e) {
                    var t = e + "Url";
                    if (this.options[t]) return this.options[t];
                    s.Browser.retina && "icon" === e && (e += "-2x");
                    var i = s.Icon.Default.imagePath;
                    if (!i) throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");
                    return i + "/marker-" + e + ".png"
                }
            }), s.Icon.Default.imagePath = function() {
                var e, i, n, a, s, o = t.getElementsByTagName("script"),
                    r = /[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;
                for (e = 0, i = o.length; i > e; e++)
                    if (n = o[e].src, a = n.match(r)) return s = n.split(r)[0], (s ? s + "/" : "") + "images"
            }(), s.Marker = s.Class.extend({
                includes: s.Mixin.Events,
                options: {
                    icon: new s.Icon.Default,
                    title: "",
                    alt: "",
                    clickable: !0,
                    draggable: !1,
                    keyboard: !0,
                    zIndexOffset: 0,
                    opacity: 1,
                    riseOnHover: !1,
                    riseOffset: 250
                },
                initialize: function(e, t) {
                    s.setOptions(this, t), this._latlng = s.latLng(e)
                },
                onAdd: function(e) {
                    this._map = e, e.on("viewreset", this.update, this), this._initIcon(), this.update(), this.fire("add"), e.options.zoomAnimation && e.options.markerZoomAnimation && e.on("zoomanim", this._animateZoom, this)
                },
                addTo: function(e) {
                    return e.addLayer(this), this
                },
                onRemove: function(e) {
                    this.dragging && this.dragging.disable(), this._removeIcon(), this._removeShadow(), this.fire("remove"), e.off({
                        viewreset: this.update,
                        zoomanim: this._animateZoom
                    }, this), this._map = null
                },
                getLatLng: function() {
                    return this._latlng
                },
                setLatLng: function(e) {
                    return this._latlng = s.latLng(e), this.update(), this.fire("move", {
                        latlng: this._latlng
                    })
                },
                setZIndexOffset: function(e) {
                    return this.options.zIndexOffset = e, this.update(), this
                },
                setIcon: function(e) {
                    return this.options.icon = e, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup), this
                },
                update: function() {
                    if (this._icon) {
                        var e = this._map.latLngToLayerPoint(this._latlng).round();
                        this._setPos(e)
                    }
                    return this
                },
                _initIcon: function() {
                    var e = this.options,
                        t = this._map,
                        i = t.options.zoomAnimation && t.options.markerZoomAnimation,
                        n = i ? "leaflet-zoom-animated" : "leaflet-zoom-hide",
                        a = e.icon.createIcon(this._icon),
                        o = !1;
                    a !== this._icon && (this._icon && this._removeIcon(), o = !0, e.title && (a.title = e.title), e.alt && (a.alt = e.alt)), s.DomUtil.addClass(a, n), e.keyboard && (a.tabIndex = "0"), this._icon = a, this._initInteraction(), e.riseOnHover && s.DomEvent.on(a, "mouseover", this._bringToFront, this).on(a, "mouseout", this._resetZIndex, this);
                    var r = e.icon.createShadow(this._shadow),
                        l = !1;
                    r !== this._shadow && (this._removeShadow(), l = !0), r && s.DomUtil.addClass(r, n), this._shadow = r, e.opacity < 1 && this._updateOpacity();
                    var c = this._map._panes;
                    o && c.markerPane.appendChild(this._icon), r && l && c.shadowPane.appendChild(this._shadow)
                },
                _removeIcon: function() {
                    this.options.riseOnHover && s.DomEvent.off(this._icon, "mouseover", this._bringToFront).off(this._icon, "mouseout", this._resetZIndex), this._map._panes.markerPane.removeChild(this._icon), this._icon = null
                },
                _removeShadow: function() {
                    this._shadow && this._map._panes.shadowPane.removeChild(this._shadow), this._shadow = null
                },
                _setPos: function(e) {
                    s.DomUtil.setPosition(this._icon, e), this._shadow && s.DomUtil.setPosition(this._shadow, e), this._zIndex = e.y + this.options.zIndexOffset, this._resetZIndex()
                },
                _updateZIndex: function(e) {
                    this._icon.style.zIndex = this._zIndex + e
                },
                _animateZoom: function(e) {
                    var t = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center).round();
                    this._setPos(t)
                },
                _initInteraction: function() {
                    if (this.options.clickable) {
                        var e = this._icon,
                            t = ["dblclick", "mousedown", "mouseover", "mouseout", "contextmenu"];
                        s.DomUtil.addClass(e, "leaflet-clickable"), s.DomEvent.on(e, "click", this._onMouseClick, this), s.DomEvent.on(e, "keypress", this._onKeyPress, this);
                        for (var i = 0; i < t.length; i++) s.DomEvent.on(e, t[i], this._fireMouseEvent, this);
                        s.Handler.MarkerDrag && (this.dragging = new s.Handler.MarkerDrag(this), this.options.draggable && this.dragging.enable())
                    }
                },
                _onMouseClick: function(e) {
                    var t = this.dragging && this.dragging.moved();
                    (this.hasEventListeners(e.type) || t) && s.DomEvent.stopPropagation(e), t || (this.dragging && this.dragging._enabled || !this._map.dragging || !this._map.dragging.moved()) && this.fire(e.type, {
                        originalEvent: e,
                        latlng: this._latlng
                    })
                },
                _onKeyPress: function(e) {
                    13 === e.keyCode && this.fire("click", {
                        originalEvent: e,
                        latlng: this._latlng
                    })
                },
                _fireMouseEvent: function(e) {
                    this.fire(e.type, {
                        originalEvent: e,
                        latlng: this._latlng
                    }), "contextmenu" === e.type && this.hasEventListeners(e.type) && s.DomEvent.preventDefault(e), "mousedown" !== e.type ? s.DomEvent.stopPropagation(e) : s.DomEvent.preventDefault(e)
                },
                setOpacity: function(e) {
                    return this.options.opacity = e, this._map && this._updateOpacity(), this
                },
                _updateOpacity: function() {
                    s.DomUtil.setOpacity(this._icon, this.options.opacity), this._shadow && s.DomUtil.setOpacity(this._shadow, this.options.opacity)
                },
                _bringToFront: function() {
                    this._updateZIndex(this.options.riseOffset)
                },
                _resetZIndex: function() {
                    this._updateZIndex(0)
                }
            }), s.marker = function(e, t) {
                return new s.Marker(e, t)
            }, s.DivIcon = s.Icon.extend({
                options: {
                    iconSize: [12, 12],
                    className: "leaflet-div-icon",
                    html: !1
                },
                createIcon: function(e) {
                    var i = e && "DIV" === e.tagName ? e : t.createElement("div"),
                        n = this.options;
                    return i.innerHTML = n.html !== !1 ? n.html : "", n.bgPos && (i.style.backgroundPosition = -n.bgPos.x + "px " + -n.bgPos.y + "px"), this._setIconStyles(i, "icon"), i
                },
                createShadow: function() {
                    return null
                }
            }), s.divIcon = function(e) {
                return new s.DivIcon(e)
            }, s.Map.mergeOptions({
                closePopupOnClick: !0
            }), s.Popup = s.Class.extend({
                includes: s.Mixin.Events,
                options: {
                    minWidth: 50,
                    maxWidth: 300,
                    autoPan: !0,
                    closeButton: !0,
                    offset: [0, 7],
                    autoPanPadding: [5, 5],
                    keepInView: !1,
                    className: "",
                    zoomAnimation: !0
                },
                initialize: function(e, t) {
                    s.setOptions(this, e), this._source = t, this._animated = s.Browser.any3d && this.options.zoomAnimation, this._isOpen = !1
                },
                onAdd: function(e) {
                    this._map = e, this._container || this._initLayout();
                    var t = e.options.fadeAnimation;
                    t && s.DomUtil.setOpacity(this._container, 0), e._panes.popupPane.appendChild(this._container), e.on(this._getEvents(), this), this.update(), t && s.DomUtil.setOpacity(this._container, 1), this.fire("open"), e.fire("popupopen", {
                        popup: this
                    }), this._source && this._source.fire("popupopen", {
                        popup: this
                    })
                },
                addTo: function(e) {
                    return e.addLayer(this), this
                },
                openOn: function(e) {
                    return e.openPopup(this), this
                },
                onRemove: function(e) {
                    e._panes.popupPane.removeChild(this._container), s.Util.falseFn(this._container.offsetWidth), e.off(this._getEvents(), this), e.options.fadeAnimation && s.DomUtil.setOpacity(this._container, 0), this._map = null, this.fire("close"), e.fire("popupclose", {
                        popup: this
                    }), this._source && this._source.fire("popupclose", {
                        popup: this
                    })
                },
                getLatLng: function() {
                    return this._latlng
                },
                setLatLng: function(e) {
                    return this._latlng = s.latLng(e), this._map && (this._updatePosition(), this._adjustPan()), this
                },
                getContent: function() {
                    return this._content
                },
                setContent: function(e) {
                    return this._content = e, this.update(), this
                },
                update: function() {
                    this._map && (this._container.style.visibility = "hidden", this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", this._adjustPan())
                },
                _getEvents: function() {
                    var e = {
                        viewreset: this._updatePosition
                    };
                    return this._animated && (e.zoomanim = this._zoomAnimation), ("closeOnClick" in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (e.preclick = this._close), this.options.keepInView && (e.moveend = this._adjustPan), e
                },
                _close: function() {
                    this._map && this._map.closePopup(this)
                },
                _initLayout: function() {
                    var e, t = "leaflet-popup",
                        i = t + " " + this.options.className + " leaflet-zoom-" + (this._animated ? "animated" : "hide"),
                        n = this._container = s.DomUtil.create("div", i);
                    this.options.closeButton && (e = this._closeButton = s.DomUtil.create("a", t + "-close-button", n), e.href = "#close", e.innerHTML = "&#215;", s.DomEvent.disableClickPropagation(e), s.DomEvent.on(e, "click", this._onCloseButtonClick, this));
                    var a = this._wrapper = s.DomUtil.create("div", t + "-content-wrapper", n);
                    s.DomEvent.disableClickPropagation(a), this._contentNode = s.DomUtil.create("div", t + "-content", a), s.DomEvent.disableScrollPropagation(this._contentNode), s.DomEvent.on(a, "contextmenu", s.DomEvent.stopPropagation), this._tipContainer = s.DomUtil.create("div", t + "-tip-container", n), this._tip = s.DomUtil.create("div", t + "-tip", this._tipContainer)
                },
                _updateContent: function() {
                    if (this._content) {
                        if ("string" == typeof this._content) this._contentNode.innerHTML = this._content;
                        else {
                            for (; this._contentNode.hasChildNodes();) this._contentNode.removeChild(this._contentNode.firstChild);
                            this._contentNode.appendChild(this._content)
                        }
                        this.fire("contentupdate")
                    }
                },
                _updateLayout: function() {
                    var e = this._contentNode,
                        t = e.style;
                    t.width = "", t.whiteSpace = "nowrap";
                    var i = e.offsetWidth;
                    i = Math.min(i, this.options.maxWidth), i = Math.max(i, this.options.minWidth), t.width = i + 1 + "px", t.whiteSpace = "", t.height = "";
                    var n = e.offsetHeight,
                        a = this.options.maxHeight,
                        o = "leaflet-popup-scrolled";
                    a && n > a ? (t.height = a + "px", s.DomUtil.addClass(e, o)) : s.DomUtil.removeClass(e, o), this._containerWidth = this._container.offsetWidth
                },
                _updatePosition: function() {
                    if (this._map) {
                        var e = this._map.latLngToLayerPoint(this._latlng),
                            t = this._animated,
                            i = s.point(this.options.offset);
                        t && s.DomUtil.setPosition(this._container, e), this._containerBottom = -i.y - (t ? 0 : e.y), this._containerLeft = -Math.round(this._containerWidth / 2) + i.x + (t ? 0 : e.x), this._container.style.bottom = this._containerBottom + "px", this._container.style.left = this._containerLeft + "px"
                    }
                },
                _zoomAnimation: function(e) {
                    var t = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);
                    s.DomUtil.setPosition(this._container, t)
                },
                _adjustPan: function() {
                    if (this.options.autoPan) {
                        var e = this._map,
                            t = this._container.offsetHeight,
                            i = this._containerWidth,
                            n = new s.Point(this._containerLeft, -t - this._containerBottom);
                        this._animated && n._add(s.DomUtil.getPosition(this._container));
                        var a = e.layerPointToContainerPoint(n),
                            o = s.point(this.options.autoPanPadding),
                            r = s.point(this.options.autoPanPaddingTopLeft || o),
                            l = s.point(this.options.autoPanPaddingBottomRight || o),
                            c = e.getSize(),
                            h = 0,
                            d = 0;
                        a.x + i + l.x > c.x && (h = a.x + i - c.x + l.x), a.x - h - r.x < 0 && (h = a.x - r.x), a.y + t + l.y > c.y && (d = a.y + t - c.y + l.y), a.y - d - r.y < 0 && (d = a.y - r.y), (h || d) && e.fire("autopanstart").panBy([h, d])
                    }
                },
                _onCloseButtonClick: function(e) {
                    this._close(), s.DomEvent.stop(e)
                }
            }), s.popup = function(e, t) {
                return new s.Popup(e, t)
            }, s.Map.include({
                openPopup: function(e, t, i) {
                    if (this.closePopup(), !(e instanceof s.Popup)) {
                        var n = e;
                        e = new s.Popup(i).setLatLng(t).setContent(n)
                    }
                    return e._isOpen = !0, this._popup = e, this.addLayer(e)
                },
                closePopup: function(e) {
                    return e && e !== this._popup || (e = this._popup, this._popup = null), e && (this.removeLayer(e), e._isOpen = !1), this
                }
            }), s.Marker.include({
                openPopup: function() {
                    return this._popup && this._map && !this._map.hasLayer(this._popup) && (this._popup.setLatLng(this._latlng), this._map.openPopup(this._popup)), this
                },
                closePopup: function() {
                    return this._popup && this._popup._close(), this
                },
                togglePopup: function() {
                    return this._popup && (this._popup._isOpen ? this.closePopup() : this.openPopup()), this
                },
                bindPopup: function(e, t) {
                    var i = s.point(this.options.icon.options.popupAnchor || [0, 0]);
                    return i = i.add(s.Popup.prototype.options.offset), t && t.offset && (i = i.add(t.offset)), t = s.extend({
                        offset: i
                    }, t), this._popupHandlersAdded || (this.on("click", this.togglePopup, this).on("remove", this.closePopup, this).on("move", this._movePopup, this), this._popupHandlersAdded = !0), e instanceof s.Popup ? (s.setOptions(e, t), this._popup = e) : this._popup = new s.Popup(t, this).setContent(e), this
                },
                setPopupContent: function(e) {
                    return this._popup && this._popup.setContent(e), this
                },
                unbindPopup: function() {
                    return this._popup && (this._popup = null, this.off("click", this.togglePopup, this).off("remove", this.closePopup, this).off("move", this._movePopup, this), this._popupHandlersAdded = !1), this
                },
                getPopup: function() {
                    return this._popup
                },
                _movePopup: function(e) {
                    this._popup.setLatLng(e.latlng)
                }
            }), s.LayerGroup = s.Class.extend({
                initialize: function(e) {
                    this._layers = {};
                    var t, i;
                    if (e)
                        for (t = 0, i = e.length; i > t; t++) this.addLayer(e[t])
                },
                addLayer: function(e) {
                    var t = this.getLayerId(e);
                    return this._layers[t] = e, this._map && this._map.addLayer(e), this
                },
                removeLayer: function(e) {
                    var t = e in this._layers ? e : this.getLayerId(e);
                    return this._map && this._layers[t] && this._map.removeLayer(this._layers[t]), delete this._layers[t], this
                },
                hasLayer: function(e) {
                    return e ? e in this._layers || this.getLayerId(e) in this._layers : !1
                },
                clearLayers: function() {
                    return this.eachLayer(this.removeLayer, this), this
                },
                invoke: function(e) {
                    var t, i, n = Array.prototype.slice.call(arguments, 1);
                    for (t in this._layers) i = this._layers[t], i[e] && i[e].apply(i, n);
                    return this
                },
                onAdd: function(e) {
                    this._map = e, this.eachLayer(e.addLayer, e)
                },
                onRemove: function(e) {
                    this.eachLayer(e.removeLayer, e), this._map = null
                },
                addTo: function(e) {
                    return e.addLayer(this), this
                },
                eachLayer: function(e, t) {
                    for (var i in this._layers) e.call(t, this._layers[i]);
                    return this
                },
                getLayer: function(e) {
                    return this._layers[e]
                },
                getLayers: function() {
                    var e = [];
                    for (var t in this._layers) e.push(this._layers[t]);
                    return e
                },
                setZIndex: function(e) {
                    return this.invoke("setZIndex", e)
                },
                getLayerId: function(e) {
                    return s.stamp(e)
                }
            }), s.layerGroup = function(e) {
                return new s.LayerGroup(e)
            }, s.FeatureGroup = s.LayerGroup.extend({
                includes: s.Mixin.Events,
                statics: {
                    EVENTS: "click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"
                },
                addLayer: function(e) {
                    return this.hasLayer(e) ? this : ("on" in e && e.on(s.FeatureGroup.EVENTS, this._propagateEvent, this), s.LayerGroup.prototype.addLayer.call(this, e), this._popupContent && e.bindPopup && e.bindPopup(this._popupContent, this._popupOptions), this.fire("layeradd", {
                        layer: e
                    }))
                },
                removeLayer: function(e) {
                    return this.hasLayer(e) ? (e in this._layers && (e = this._layers[e]), e.off(s.FeatureGroup.EVENTS, this._propagateEvent, this), s.LayerGroup.prototype.removeLayer.call(this, e), this._popupContent && this.invoke("unbindPopup"), this.fire("layerremove", {
                        layer: e
                    })) : this
                },
                bindPopup: function(e, t) {
                    return this._popupContent = e, this._popupOptions = t, this.invoke("bindPopup", e, t)
                },
                openPopup: function(e) {
                    for (var t in this._layers) {
                        this._layers[t].openPopup(e);
                        break
                    }
                    return this
                },
                setStyle: function(e) {
                    return this.invoke("setStyle", e)
                },
                bringToFront: function() {
                    return this.invoke("bringToFront")
                },
                bringToBack: function() {
                    return this.invoke("bringToBack")
                },
                getBounds: function() {
                    var e = new s.LatLngBounds;
                    return this.eachLayer(function(t) {
                        e.extend(t instanceof s.Marker ? t.getLatLng() : t.getBounds())
                    }), e
                },
                _propagateEvent: function(e) {
                    e = s.extend({
                        layer: e.target,
                        target: this
                    }, e), this.fire(e.type, e)
                }
            }), s.featureGroup = function(e) {
                return new s.FeatureGroup(e)
            }, s.Path = s.Class.extend({
                includes: [s.Mixin.Events],
                statics: {
                    CLIP_PADDING: function() {
                        var t = s.Browser.mobile ? 1280 : 2e3,
                            i = (t / Math.max(e.outerWidth, e.outerHeight) - 1) / 2;
                        return Math.max(0, Math.min(.5, i))
                    }()
                },
                options: {
                    stroke: !0,
                    color: "#0033ff",
                    dashArray: null,
                    lineCap: null,
                    lineJoin: null,
                    weight: 5,
                    opacity: .5,
                    fill: !1,
                    fillColor: null,
                    fillOpacity: .2,
                    clickable: !0
                },
                initialize: function(e) {
                    s.setOptions(this, e)
                },
                onAdd: function(e) {
                    this._map = e, this._container || (this._initElements(), this._initEvents()), this.projectLatlngs(), this._updatePath(), this._container && this._map._pathRoot.appendChild(this._container), this.fire("add"), e.on({
                        viewreset: this.projectLatlngs,
                        moveend: this._updatePath
                    }, this)
                },
                addTo: function(e) {
                    return e.addLayer(this), this
                },
                onRemove: function(e) {
                    e._pathRoot.removeChild(this._container), this.fire("remove"), this._map = null, s.Browser.vml && (this._container = null, this._stroke = null, this._fill = null), e.off({
                        viewreset: this.projectLatlngs,
                        moveend: this._updatePath
                    }, this)
                },
                projectLatlngs: function() {},
                setStyle: function(e) {
                    return s.setOptions(this, e), this._container && this._updateStyle(), this
                },
                redraw: function() {
                    return this._map && (this.projectLatlngs(), this._updatePath()), this
                }
            }), s.Map.include({
                _updatePathViewport: function() {
                    var e = s.Path.CLIP_PADDING,
                        t = this.getSize(),
                        i = s.DomUtil.getPosition(this._mapPane),
                        n = i.multiplyBy(-1)._subtract(t.multiplyBy(e)._round()),
                        a = n.add(t.multiplyBy(1 + 2 * e)._round());
                    this._pathViewport = new s.Bounds(n, a)
                }
            }), s.Path.SVG_NS = "http://www.w3.org/2000/svg", s.Browser.svg = !(!t.createElementNS || !t.createElementNS(s.Path.SVG_NS, "svg").createSVGRect), s.Path = s.Path.extend({
                statics: {
                    SVG: s.Browser.svg
                },
                bringToFront: function() {
                    var e = this._map._pathRoot,
                        t = this._container;
                    return t && e.lastChild !== t && e.appendChild(t), this
                },
                bringToBack: function() {
                    var e = this._map._pathRoot,
                        t = this._container,
                        i = e.firstChild;
                    return t && i !== t && e.insertBefore(t, i), this
                },
                getPathString: function() {},
                _createElement: function(e) {
                    return t.createElementNS(s.Path.SVG_NS, e)
                },
                _initElements: function() {
                    this._map._initPathRoot(), this._initPath(), this._initStyle()
                },
                _initPath: function() {
                    this._container = this._createElement("g"), this._path = this._createElement("path"), this.options.className && s.DomUtil.addClass(this._path, this.options.className), this._container.appendChild(this._path)
                },
                _initStyle: function() {
                    this.options.stroke && (this._path.setAttribute("stroke-linejoin", "round"), this._path.setAttribute("stroke-linecap", "round")), this.options.fill && this._path.setAttribute("fill-rule", "evenodd"), this.options.pointerEvents && this._path.setAttribute("pointer-events", this.options.pointerEvents), this.options.clickable || this.options.pointerEvents || this._path.setAttribute("pointer-events", "none"), this._updateStyle()
                },
                _updateStyle: function() {
                    this.options.stroke ? (this._path.setAttribute("stroke", this.options.color), this._path.setAttribute("stroke-opacity", this.options.opacity), this._path.setAttribute("stroke-width", this.options.weight), this.options.dashArray ? this._path.setAttribute("stroke-dasharray", this.options.dashArray) : this._path.removeAttribute("stroke-dasharray"), this.options.lineCap && this._path.setAttribute("stroke-linecap", this.options.lineCap), this.options.lineJoin && this._path.setAttribute("stroke-linejoin", this.options.lineJoin)) : this._path.setAttribute("stroke", "none"), this.options.fill ? (this._path.setAttribute("fill", this.options.fillColor || this.options.color), this._path.setAttribute("fill-opacity", this.options.fillOpacity)) : this._path.setAttribute("fill", "none")
                },
                _updatePath: function() {
                    var e = this.getPathString();
                    e || (e = "M0 0"), this._path.setAttribute("d", e)
                },
                _initEvents: function() {
                    if (this.options.clickable) {
                        (s.Browser.svg || !s.Browser.vml) && s.DomUtil.addClass(this._path, "leaflet-clickable"), s.DomEvent.on(this._container, "click", this._onMouseClick, this);
                        for (var e = ["dblclick", "mousedown", "mouseover", "mouseout", "mousemove", "contextmenu"], t = 0; t < e.length; t++) s.DomEvent.on(this._container, e[t], this._fireMouseEvent, this)
                    }
                },
                _onMouseClick: function(e) {
                    this._map.dragging && this._map.dragging.moved() || this._fireMouseEvent(e)
                },
                _fireMouseEvent: function(e) {
                    if (this.hasEventListeners(e.type)) {
                        var t = this._map,
                            i = t.mouseEventToContainerPoint(e),
                            n = t.containerPointToLayerPoint(i),
                            a = t.layerPointToLatLng(n);
                        this.fire(e.type, {
                            latlng: a,
                            layerPoint: n,
                            containerPoint: i,
                            originalEvent: e
                        }), "contextmenu" === e.type && s.DomEvent.preventDefault(e), "mousemove" !== e.type && s.DomEvent.stopPropagation(e)
                    }
                }
            }), s.Map.include({
                _initPathRoot: function() {
                    this._pathRoot || (this._pathRoot = s.Path.prototype._createElement("svg"), this._panes.overlayPane.appendChild(this._pathRoot), this.options.zoomAnimation && s.Browser.any3d ? (s.DomUtil.addClass(this._pathRoot, "leaflet-zoom-animated"), this.on({
                        zoomanim: this._animatePathZoom,
                        zoomend: this._endPathZoom
                    })) : s.DomUtil.addClass(this._pathRoot, "leaflet-zoom-hide"), this.on("moveend", this._updateSvgViewport), this._updateSvgViewport())
                },
                _animatePathZoom: function(e) {
                    var t = this.getZoomScale(e.zoom),
                        i = this._getCenterOffset(e.center)._multiplyBy(-t)._add(this._pathViewport.min);
                    this._pathRoot.style[s.DomUtil.TRANSFORM] = s.DomUtil.getTranslateString(i) + " scale(" + t + ") ", this._pathZooming = !0
                },
                _endPathZoom: function() {
                    this._pathZooming = !1
                },
                _updateSvgViewport: function() {
                    if (!this._pathZooming) {
                        this._updatePathViewport();
                        var e = this._pathViewport,
                            t = e.min,
                            i = e.max,
                            n = i.x - t.x,
                            a = i.y - t.y,
                            o = this._pathRoot,
                            r = this._panes.overlayPane;
                        s.Browser.mobileWebkit && r.removeChild(o), s.DomUtil.setPosition(o, t), o.setAttribute("width", n), o.setAttribute("height", a), o.setAttribute("viewBox", [t.x, t.y, n, a].join(" ")), s.Browser.mobileWebkit && r.appendChild(o)
                    }
                }
            }), s.Path.include({
                bindPopup: function(e, t) {
                    return e instanceof s.Popup ? this._popup = e : ((!this._popup || t) && (this._popup = new s.Popup(t, this)), this._popup.setContent(e)), this._popupHandlersAdded || (this.on("click", this._openPopup, this).on("remove", this.closePopup, this), this._popupHandlersAdded = !0), this
                },
                unbindPopup: function() {
                    return this._popup && (this._popup = null, this.off("click", this._openPopup).off("remove", this.closePopup), this._popupHandlersAdded = !1), this
                },
                openPopup: function(e) {
                    return this._popup && (e = e || this._latlng || this._latlngs[Math.floor(this._latlngs.length / 2)], this._openPopup({
                        latlng: e
                    })), this
                },
                closePopup: function() {
                    return this._popup && this._popup._close(), this
                },
                _openPopup: function(e) {
                    this._popup.setLatLng(e.latlng), this._map.openPopup(this._popup)
                }
            }), s.Browser.vml = !s.Browser.svg && function() {
                try {
                    var e = t.createElement("div");
                    e.innerHTML = '<v:shape adj="1"/>';
                    var i = e.firstChild;
                    return i.style.behavior = "url(#default#VML)", i && "object" == typeof i.adj
                } catch (n) {
                    return !1
                }
            }(), s.Path = s.Browser.svg || !s.Browser.vml ? s.Path : s.Path.extend({
                statics: {
                    VML: !0,
                    CLIP_PADDING: .02
                },
                _createElement: function() {
                    try {
                        return t.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                            function(e) {
                                return t.createElement("<lvml:" + e + ' class="lvml">')
                            }
                    } catch (e) {
                        return function(e) {
                            return t.createElement("<" + e + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')
                        }
                    }
                }(),
                _initPath: function() {
                    var e = this._container = this._createElement("shape");
                    s.DomUtil.addClass(e, "leaflet-vml-shape" + (this.options.className ? " " + this.options.className : "")), this.options.clickable && s.DomUtil.addClass(e, "leaflet-clickable"), e.coordsize = "1 1", this._path = this._createElement("path"), e.appendChild(this._path), this._map._pathRoot.appendChild(e)
                },
                _initStyle: function() {
                    this._updateStyle()
                },
                _updateStyle: function() {
                    var e = this._stroke,
                        t = this._fill,
                        i = this.options,
                        n = this._container;
                    n.stroked = i.stroke, n.filled = i.fill, i.stroke ? (e || (e = this._stroke = this._createElement("stroke"), e.endcap = "round", n.appendChild(e)), e.weight = i.weight + "px", e.color = i.color, e.opacity = i.opacity, e.dashStyle = i.dashArray ? s.Util.isArray(i.dashArray) ? i.dashArray.join(" ") : i.dashArray.replace(/( *, *)/g, " ") : "", i.lineCap && (e.endcap = i.lineCap.replace("butt", "flat")), i.lineJoin && (e.joinstyle = i.lineJoin)) : e && (n.removeChild(e), this._stroke = null), i.fill ? (t || (t = this._fill = this._createElement("fill"), n.appendChild(t)), t.color = i.fillColor || i.color, t.opacity = i.fillOpacity) : t && (n.removeChild(t), this._fill = null)
                },
                _updatePath: function() {
                    var e = this._container.style;
                    e.display = "none", this._path.v = this.getPathString() + " ", e.display = ""
                }
            }), s.Map.include(s.Browser.svg || !s.Browser.vml ? {} : {
                _initPathRoot: function() {
                    if (!this._pathRoot) {
                        var e = this._pathRoot = t.createElement("div");
                        e.className = "leaflet-vml-container", this._panes.overlayPane.appendChild(e), this.on("moveend", this._updatePathViewport), this._updatePathViewport()
                    }
                }
            }), s.Browser.canvas = function() {
                return !!t.createElement("canvas").getContext
            }(), s.Path = s.Path.SVG && !e.L_PREFER_CANVAS || !s.Browser.canvas ? s.Path : s.Path.extend({
                statics: {
                    CANVAS: !0,
                    SVG: !1
                },
                redraw: function() {
                    return this._map && (this.projectLatlngs(), this._requestUpdate()), this
                },
                setStyle: function(e) {
                    return s.setOptions(this, e), this._map && (this._updateStyle(), this._requestUpdate()), this
                },
                onRemove: function(e) {
                    e.off("viewreset", this.projectLatlngs, this).off("moveend", this._updatePath, this), this.options.clickable && (this._map.off("click", this._onClick, this), this._map.off("mousemove", this._onMouseMove, this)), this._requestUpdate(), this.fire("remove"), this._map = null
                },
                _requestUpdate: function() {
                    this._map && !s.Path._updateRequest && (s.Path._updateRequest = s.Util.requestAnimFrame(this._fireMapMoveEnd, this._map))
                },
                _fireMapMoveEnd: function() {
                    s.Path._updateRequest = null, this.fire("moveend")
                },
                _initElements: function() {
                    this._map._initPathRoot(), this._ctx = this._map._canvasCtx
                },
                _updateStyle: function() {
                    var e = this.options;
                    e.stroke && (this._ctx.lineWidth = e.weight, this._ctx.strokeStyle = e.color), e.fill && (this._ctx.fillStyle = e.fillColor || e.color)
                },
                _drawPath: function() {
                    var e, t, i, n, a, o;
                    for (this._ctx.beginPath(), e = 0, i = this._parts.length; i > e; e++) {
                        for (t = 0, n = this._parts[e].length; n > t; t++) a = this._parts[e][t], o = (0 === t ? "move" : "line") + "To", this._ctx[o](a.x, a.y);
                        this instanceof s.Polygon && this._ctx.closePath()
                    }
                },
                _checkIfEmpty: function() {
                    return !this._parts.length
                },
                _updatePath: function() {
                    if (!this._checkIfEmpty()) {
                        var e = this._ctx,
                            t = this.options;
                        this._drawPath(), e.save(), this._updateStyle(), t.fill && (e.globalAlpha = t.fillOpacity, e.fill()), t.stroke && (e.globalAlpha = t.opacity, e.stroke()), e.restore()
                    }
                },
                _initEvents: function() {
                    this.options.clickable && (this._map.on("mousemove", this._onMouseMove, this), this._map.on("click", this._onClick, this))
                },
                _onClick: function(e) {
                    this._containsPoint(e.layerPoint) && this.fire("click", e)
                },
                _onMouseMove: function(e) {
                    this._map && !this._map._animatingZoom && (this._containsPoint(e.layerPoint) ? (this._ctx.canvas.style.cursor = "pointer", this._mouseInside = !0, this.fire("mouseover", e)) : this._mouseInside && (this._ctx.canvas.style.cursor = "", this._mouseInside = !1, this.fire("mouseout", e)))
                }
            }), s.Map.include(s.Path.SVG && !e.L_PREFER_CANVAS || !s.Browser.canvas ? {} : {
                _initPathRoot: function() {
                    var e, i = this._pathRoot;
                    i || (i = this._pathRoot = t.createElement("canvas"), i.style.position = "absolute", e = this._canvasCtx = i.getContext("2d"), e.lineCap = "round", e.lineJoin = "round", this._panes.overlayPane.appendChild(i), this.options.zoomAnimation && (this._pathRoot.className = "leaflet-zoom-animated", this.on("zoomanim", this._animatePathZoom), this.on("zoomend", this._endPathZoom)), this.on("moveend", this._updateCanvasViewport), this._updateCanvasViewport())
                },
                _updateCanvasViewport: function() {
                    if (!this._pathZooming) {
                        this._updatePathViewport();
                        var e = this._pathViewport,
                            t = e.min,
                            i = e.max.subtract(t),
                            n = this._pathRoot;
                        s.DomUtil.setPosition(n, t), n.width = i.x, n.height = i.y, n.getContext("2d").translate(-t.x, -t.y)
                    }
                }
            }), s.LineUtil = {
                simplify: function(e, t) {
                    if (!t || !e.length) return e.slice();
                    var i = t * t;
                    return e = this._reducePoints(e, i), e = this._simplifyDP(e, i)
                },
                pointToSegmentDistance: function(e, t, i) {
                    return Math.sqrt(this._sqClosestPointOnSegment(e, t, i, !0))
                },
                closestPointOnSegment: function(e, t, i) {
                    return this._sqClosestPointOnSegment(e, t, i)
                },
                _simplifyDP: function(e, t) {
                    var i = e.length,
                        a = typeof Uint8Array != n + "" ? Uint8Array : Array,
                        s = new a(i);
                    s[0] = s[i - 1] = 1, this._simplifyDPStep(e, s, t, 0, i - 1);
                    var o, r = [];
                    for (o = 0; i > o; o++) s[o] && r.push(e[o]);
                    return r
                },
                _simplifyDPStep: function(e, t, i, n, a) {
                    var s, o, r, l = 0;
                    for (o = n + 1; a - 1 >= o; o++) r = this._sqClosestPointOnSegment(e[o], e[n], e[a], !0), r > l && (s = o, l = r);
                    l > i && (t[s] = 1, this._simplifyDPStep(e, t, i, n, s), this._simplifyDPStep(e, t, i, s, a))
                },
                _reducePoints: function(e, t) {
                    for (var i = [e[0]], n = 1, a = 0, s = e.length; s > n; n++) this._sqDist(e[n], e[a]) > t && (i.push(e[n]), a = n);
                    return s - 1 > a && i.push(e[s - 1]), i
                },
                clipSegment: function(e, t, i, n) {
                    var a, s, o, r = n ? this._lastCode : this._getBitCode(e, i),
                        l = this._getBitCode(t, i);
                    for (this._lastCode = l;;) {
                        if (!(r | l)) return [e, t];
                        if (r & l) return !1;
                        a = r || l, s = this._getEdgeIntersection(e, t, a, i), o = this._getBitCode(s, i), a === r ? (e = s, r = o) : (t = s, l = o)
                    }
                },
                _getEdgeIntersection: function(e, t, i, n) {
                    var a = t.x - e.x,
                        o = t.y - e.y,
                        r = n.min,
                        l = n.max;
                    return 8 & i ? new s.Point(e.x + a * (l.y - e.y) / o, l.y) : 4 & i ? new s.Point(e.x + a * (r.y - e.y) / o, r.y) : 2 & i ? new s.Point(l.x, e.y + o * (l.x - e.x) / a) : 1 & i ? new s.Point(r.x, e.y + o * (r.x - e.x) / a) : void 0
                },
                _getBitCode: function(e, t) {
                    var i = 0;
                    return e.x < t.min.x ? i |= 1 : e.x > t.max.x && (i |= 2), e.y < t.min.y ? i |= 4 : e.y > t.max.y && (i |= 8), i
                },
                _sqDist: function(e, t) {
                    var i = t.x - e.x,
                        n = t.y - e.y;
                    return i * i + n * n
                },
                _sqClosestPointOnSegment: function(e, t, i, n) {
                    var a, o = t.x,
                        r = t.y,
                        l = i.x - o,
                        c = i.y - r,
                        h = l * l + c * c;
                    return h > 0 && (a = ((e.x - o) * l + (e.y - r) * c) / h, a > 1 ? (o = i.x, r = i.y) : a > 0 && (o += l * a, r += c * a)), l = e.x - o, c = e.y - r, n ? l * l + c * c : new s.Point(o, r)
                }
            }, s.Polyline = s.Path.extend({
                initialize: function(e, t) {
                    s.Path.prototype.initialize.call(this, t), this._latlngs = this._convertLatLngs(e)
                },
                options: {
                    smoothFactor: 1,
                    noClip: !1
                },
                projectLatlngs: function() {
                    this._originalPoints = [];
                    for (var e = 0, t = this._latlngs.length; t > e; e++) this._originalPoints[e] = this._map.latLngToLayerPoint(this._latlngs[e])
                },
                getPathString: function() {
                    for (var e = 0, t = this._parts.length, i = ""; t > e; e++) i += this._getPathPartStr(this._parts[e]);
                    return i
                },
                getLatLngs: function() {
                    return this._latlngs
                },
                setLatLngs: function(e) {
                    return this._latlngs = this._convertLatLngs(e), this.redraw()
                },
                addLatLng: function(e) {
                    return this._latlngs.push(s.latLng(e)), this.redraw()
                },
                spliceLatLngs: function() {
                    var e = [].splice.apply(this._latlngs, arguments);
                    return this._convertLatLngs(this._latlngs, !0), this.redraw(), e
                },
                closestLayerPoint: function(e) {
                    for (var t, i, n = 1 / 0, a = this._parts, o = null, r = 0, l = a.length; l > r; r++)
                        for (var c = a[r], h = 1, d = c.length; d > h; h++) {
                            t = c[h - 1], i = c[h];
                            var p = s.LineUtil._sqClosestPointOnSegment(e, t, i, !0);
                            n > p && (n = p, o = s.LineUtil._sqClosestPointOnSegment(e, t, i))
                        }
                    return o && (o.distance = Math.sqrt(n)), o
                },
                getBounds: function() {
                    return new s.LatLngBounds(this.getLatLngs())
                },
                _convertLatLngs: function(e, t) {
                    var i, n, a = t ? e : [];
                    for (i = 0, n = e.length; n > i; i++) {
                        if (s.Util.isArray(e[i]) && "number" != typeof e[i][0]) return;
                        a[i] = s.latLng(e[i])
                    }
                    return a
                },
                _initEvents: function() {
                    s.Path.prototype._initEvents.call(this)
                },
                _getPathPartStr: function(e) {
                    for (var t, i = s.Path.VML, n = 0, a = e.length, o = ""; a > n; n++) t = e[n], i && t._round(), o += (n ? "L" : "M") + t.x + " " + t.y;
                    return o
                },
                _clipPoints: function() {
                    var e, t, i, n = this._originalPoints,
                        a = n.length;
                    if (this.options.noClip) return void(this._parts = [n]);
                    this._parts = [];
                    var o = this._parts,
                        r = this._map._pathViewport,
                        l = s.LineUtil;
                    for (e = 0, t = 0; a - 1 > e; e++) i = l.clipSegment(n[e], n[e + 1], r, e), i && (o[t] = o[t] || [], o[t].push(i[0]), (i[1] !== n[e + 1] || e === a - 2) && (o[t].push(i[1]), t++))
                },
                _simplifyPoints: function() {
                    for (var e = this._parts, t = s.LineUtil, i = 0, n = e.length; n > i; i++) e[i] = t.simplify(e[i], this.options.smoothFactor)
                },
                _updatePath: function() {
                    this._map && (this._clipPoints(), this._simplifyPoints(), s.Path.prototype._updatePath.call(this))
                }
            }), s.polyline = function(e, t) {
                return new s.Polyline(e, t)
            }, s.PolyUtil = {}, s.PolyUtil.clipPolygon = function(e, t) {
                var i, n, a, o, r, l, c, h, d, p = [1, 4, 2, 8],
                    u = s.LineUtil;
                for (n = 0, c = e.length; c > n; n++) e[n]._code = u._getBitCode(e[n], t);
                for (o = 0; 4 > o; o++) {
                    for (h = p[o], i = [], n = 0, c = e.length, a = c - 1; c > n; a = n++) r = e[n], l = e[a], r._code & h ? l._code & h || (d = u._getEdgeIntersection(l, r, h, t), d._code = u._getBitCode(d, t), i.push(d)) : (l._code & h && (d = u._getEdgeIntersection(l, r, h, t), d._code = u._getBitCode(d, t), i.push(d)), i.push(r));
                    e = i
                }
                return e
            }, s.Polygon = s.Polyline.extend({
                options: {
                    fill: !0
                },
                initialize: function(e, t) {
                    s.Polyline.prototype.initialize.call(this, e, t), this._initWithHoles(e)
                },
                _initWithHoles: function(e) {
                    var t, i, n;
                    if (e && s.Util.isArray(e[0]) && "number" != typeof e[0][0])
                        for (this._latlngs = this._convertLatLngs(e[0]), this._holes = e.slice(1), t = 0, i = this._holes.length; i > t; t++) n = this._holes[t] = this._convertLatLngs(this._holes[t]), n[0].equals(n[n.length - 1]) && n.pop();
                    e = this._latlngs, e.length >= 2 && e[0].equals(e[e.length - 1]) && e.pop()
                },
                projectLatlngs: function() {
                    if (s.Polyline.prototype.projectLatlngs.call(this), this._holePoints = [], this._holes) {
                        var e, t, i, n;
                        for (e = 0, i = this._holes.length; i > e; e++)
                            for (this._holePoints[e] = [], t = 0, n = this._holes[e].length; n > t; t++) this._holePoints[e][t] = this._map.latLngToLayerPoint(this._holes[e][t])
                    }
                },
                setLatLngs: function(e) {
                    return e && s.Util.isArray(e[0]) && "number" != typeof e[0][0] ? (this._initWithHoles(e), this.redraw()) : s.Polyline.prototype.setLatLngs.call(this, e)
                },
                _clipPoints: function() {
                    var e = this._originalPoints,
                        t = [];
                    if (this._parts = [e].concat(this._holePoints), !this.options.noClip) {
                        for (var i = 0, n = this._parts.length; n > i; i++) {
                            var a = s.PolyUtil.clipPolygon(this._parts[i], this._map._pathViewport);
                            a.length && t.push(a)
                        }
                        this._parts = t
                    }
                },
                _getPathPartStr: function(e) {
                    var t = s.Polyline.prototype._getPathPartStr.call(this, e);
                    return t + (s.Browser.svg ? "z" : "x")
                }
            }), s.polygon = function(e, t) {
                return new s.Polygon(e, t)
            },
            function() {
                function e(e) {
                    return s.FeatureGroup.extend({
                        initialize: function(e, t) {
                            this._layers = {}, this._options = t, this.setLatLngs(e)
                        },
                        setLatLngs: function(t) {
                            var i = 0,
                                n = t.length;
                            for (this.eachLayer(function(e) {
                                    n > i ? e.setLatLngs(t[i++]) : this.removeLayer(e)
                                }, this); n > i;) this.addLayer(new e(t[i++], this._options));
                            return this
                        },
                        getLatLngs: function() {
                            var e = [];
                            return this.eachLayer(function(t) {
                                e.push(t.getLatLngs())
                            }), e
                        }
                    })
                }
                s.MultiPolyline = e(s.Polyline), s.MultiPolygon = e(s.Polygon), s.multiPolyline = function(e, t) {
                    return new s.MultiPolyline(e, t)
                }, s.multiPolygon = function(e, t) {
                    return new s.MultiPolygon(e, t)
                }
            }(), s.Rectangle = s.Polygon.extend({
                initialize: function(e, t) {
                    s.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(e), t)
                },
                setBounds: function(e) {
                    this.setLatLngs(this._boundsToLatLngs(e))
                },
                _boundsToLatLngs: function(e) {
                    return e = s.latLngBounds(e), [e.getSouthWest(), e.getNorthWest(), e.getNorthEast(), e.getSouthEast()]
                }
            }), s.rectangle = function(e, t) {
                return new s.Rectangle(e, t)
            }, s.Circle = s.Path.extend({
                initialize: function(e, t, i) {
                    s.Path.prototype.initialize.call(this, i), this._latlng = s.latLng(e), this._mRadius = t
                },
                options: {
                    fill: !0
                },
                setLatLng: function(e) {
                    return this._latlng = s.latLng(e), this.redraw()
                },
                setRadius: function(e) {
                    return this._mRadius = e, this.redraw()
                },
                projectLatlngs: function() {
                    var e = this._getLngRadius(),
                        t = this._latlng,
                        i = this._map.latLngToLayerPoint([t.lat, t.lng - e]);
                    this._point = this._map.latLngToLayerPoint(t), this._radius = Math.max(this._point.x - i.x, 1)
                },
                getBounds: function() {
                    var e = this._getLngRadius(),
                        t = this._mRadius / 40075017 * 360,
                        i = this._latlng;
                    return new s.LatLngBounds([i.lat - t, i.lng - e], [i.lat + t, i.lng + e])
                },
                getLatLng: function() {
                    return this._latlng
                },
                getPathString: function() {
                    var e = this._point,
                        t = this._radius;
                    return this._checkIfEmpty() ? "" : s.Browser.svg ? "M" + e.x + "," + (e.y - t) + "A" + t + "," + t + ",0,1,1," + (e.x - .1) + "," + (e.y - t) + " z" : (e._round(), t = Math.round(t), "AL " + e.x + "," + e.y + " " + t + "," + t + " 0,23592600")
                },
                getRadius: function() {
                    return this._mRadius
                },
                _getLatRadius: function() {
                    return this._mRadius / 40075017 * 360
                },
                _getLngRadius: function() {
                    return this._getLatRadius() / Math.cos(s.LatLng.DEG_TO_RAD * this._latlng.lat)
                },
                _checkIfEmpty: function() {
                    if (!this._map) return !1;
                    var e = this._map._pathViewport,
                        t = this._radius,
                        i = this._point;
                    return i.x - t > e.max.x || i.y - t > e.max.y || i.x + t < e.min.x || i.y + t < e.min.y
                }
            }), s.circle = function(e, t, i) {
                return new s.Circle(e, t, i)
            }, s.CircleMarker = s.Circle.extend({
                options: {
                    radius: 10,
                    weight: 2
                },
                initialize: function(e, t) {
                    s.Circle.prototype.initialize.call(this, e, null, t), this._radius = this.options.radius
                },
                projectLatlngs: function() {
                    this._point = this._map.latLngToLayerPoint(this._latlng)
                },
                _updateStyle: function() {
                    s.Circle.prototype._updateStyle.call(this), this.setRadius(this.options.radius)
                },
                setLatLng: function(e) {
                    return s.Circle.prototype.setLatLng.call(this, e), this._popup && this._popup._isOpen && this._popup.setLatLng(e), this
                },
                setRadius: function(e) {
                    return this.options.radius = this._radius = e, this.redraw()
                },
                getRadius: function() {
                    return this._radius
                }
            }), s.circleMarker = function(e, t) {
                return new s.CircleMarker(e, t)
            }, s.Polyline.include(s.Path.CANVAS ? {
                _containsPoint: function(e, t) {
                    var i, n, a, o, r, l, c, h = this.options.weight / 2;
                    for (s.Browser.touch && (h += 10), i = 0, o = this._parts.length; o > i; i++)
                        for (c = this._parts[i], n = 0, r = c.length, a = r - 1; r > n; a = n++)
                            if ((t || 0 !== n) && (l = s.LineUtil.pointToSegmentDistance(e, c[a], c[n]), h >= l)) return !0;
                    return !1
                }
            } : {}), s.Polygon.include(s.Path.CANVAS ? {
                _containsPoint: function(e) {
                    var t, i, n, a, o, r, l, c, h = !1;
                    if (s.Polyline.prototype._containsPoint.call(this, e, !0)) return !0;
                    for (a = 0, l = this._parts.length; l > a; a++)
                        for (t = this._parts[a], o = 0, c = t.length, r = c - 1; c > o; r = o++) i = t[o], n = t[r], i.y > e.y != n.y > e.y && e.x < (n.x - i.x) * (e.y - i.y) / (n.y - i.y) + i.x && (h = !h);
                    return h
                }
            } : {}), s.Circle.include(s.Path.CANVAS ? {
                _drawPath: function() {
                    var e = this._point;
                    this._ctx.beginPath(), this._ctx.arc(e.x, e.y, this._radius, 0, 2 * Math.PI, !1)
                },
                _containsPoint: function(e) {
                    var t = this._point,
                        i = this.options.stroke ? this.options.weight / 2 : 0;
                    return e.distanceTo(t) <= this._radius + i
                }
            } : {}), s.CircleMarker.include(s.Path.CANVAS ? {
                _updateStyle: function() {
                    s.Path.prototype._updateStyle.call(this)
                }
            } : {}), s.GeoJSON = s.FeatureGroup.extend({
                initialize: function(e, t) {
                    s.setOptions(this, t), this._layers = {}, e && this.addData(e)
                },
                addData: function(e) {
                    var t, i, n, a = s.Util.isArray(e) ? e : e.features;
                    if (a) {
                        for (t = 0, i = a.length; i > t; t++) n = a[t], (n.geometries || n.geometry || n.features || n.coordinates) && this.addData(a[t]);
                        return this
                    }
                    var o = this.options;
                    if (!o.filter || o.filter(e)) {
                        var r = s.GeoJSON.geometryToLayer(e, o.pointToLayer, o.coordsToLatLng, o);
                        return r.feature = s.GeoJSON.asFeature(e), r.defaultOptions = r.options, this.resetStyle(r), o.onEachFeature && o.onEachFeature(e, r), this.addLayer(r)
                    }
                },
                resetStyle: function(e) {
                    var t = this.options.style;
                    t && (s.Util.extend(e.options, e.defaultOptions), this._setLayerStyle(e, t))
                },
                setStyle: function(e) {
                    this.eachLayer(function(t) {
                        this._setLayerStyle(t, e)
                    }, this)
                },
                _setLayerStyle: function(e, t) {
                    "function" == typeof t && (t = t(e.feature)), e.setStyle && e.setStyle(t)
                }
            }), s.extend(s.GeoJSON, {
                geometryToLayer: function(e, t, i, n) {
                    var a, o, r, l, c = "Feature" === e.type ? e.geometry : e,
                        h = c.coordinates,
                        d = [];
                    switch (i = i || this.coordsToLatLng, c.type) {
                        case "Point":
                            return a = i(h), t ? t(e, a) : new s.Marker(a);
                        case "MultiPoint":
                            for (r = 0, l = h.length; l > r; r++) a = i(h[r]), d.push(t ? t(e, a) : new s.Marker(a));
                            return new s.FeatureGroup(d);
                        case "LineString":
                            return o = this.coordsToLatLngs(h, 0, i), new s.Polyline(o, n);
                        case "Polygon":
                            if (2 === h.length && !h[1].length) throw new Error("Invalid GeoJSON object.");
                            return o = this.coordsToLatLngs(h, 1, i), new s.Polygon(o, n);
                        case "MultiLineString":
                            return o = this.coordsToLatLngs(h, 1, i), new s.MultiPolyline(o, n);
                        case "MultiPolygon":
                            return o = this.coordsToLatLngs(h, 2, i), new s.MultiPolygon(o, n);
                        case "GeometryCollection":
                            for (r = 0, l = c.geometries.length; l > r; r++) d.push(this.geometryToLayer({
                                geometry: c.geometries[r],
                                type: "Feature",
                                properties: e.properties
                            }, t, i, n));
                            return new s.FeatureGroup(d);
                        default:
                            throw new Error("Invalid GeoJSON object.")
                    }
                },
                coordsToLatLng: function(e) {
                    return new s.LatLng(e[1], e[0], e[2])
                },
                coordsToLatLngs: function(e, t, i) {
                    var n, a, s, o = [];
                    for (a = 0, s = e.length; s > a; a++) n = t ? this.coordsToLatLngs(e[a], t - 1, i) : (i || this.coordsToLatLng)(e[a]), o.push(n);
                    return o
                },
                latLngToCoords: function(e) {
                    var t = [e.lng, e.lat];
                    return e.alt !== n && t.push(e.alt), t
                },
                latLngsToCoords: function(e) {
                    for (var t = [], i = 0, n = e.length; n > i; i++) t.push(s.GeoJSON.latLngToCoords(e[i]));
                    return t
                },
                getFeature: function(e, t) {
                    return e.feature ? s.extend({}, e.feature, {
                        geometry: t
                    }) : s.GeoJSON.asFeature(t)
                },
                asFeature: function(e) {
                    return "Feature" === e.type ? e : {
                        type: "Feature",
                        properties: {},
                        geometry: e
                    }
                }
            });
        var r = {
            toGeoJSON: function() {
                return s.GeoJSON.getFeature(this, {
                    type: "Point",
                    coordinates: s.GeoJSON.latLngToCoords(this.getLatLng())
                })
            }
        };
        s.Marker.include(r), s.Circle.include(r), s.CircleMarker.include(r), s.Polyline.include({
                toGeoJSON: function() {
                    return s.GeoJSON.getFeature(this, {
                        type: "LineString",
                        coordinates: s.GeoJSON.latLngsToCoords(this.getLatLngs())
                    })
                }
            }), s.Polygon.include({
                toGeoJSON: function() {
                    var e, t, i, n = [s.GeoJSON.latLngsToCoords(this.getLatLngs())];
                    if (n[0].push(n[0][0]), this._holes)
                        for (e = 0, t = this._holes.length; t > e; e++) i = s.GeoJSON.latLngsToCoords(this._holes[e]), i.push(i[0]), n.push(i);
                    return s.GeoJSON.getFeature(this, {
                        type: "Polygon",
                        coordinates: n
                    })
                }
            }),
            function() {
                function e(e) {
                    return function() {
                        var t = [];
                        return this.eachLayer(function(e) {
                            t.push(e.toGeoJSON().geometry.coordinates)
                        }), s.GeoJSON.getFeature(this, {
                            type: e,
                            coordinates: t
                        })
                    }
                }
                s.MultiPolyline.include({
                    toGeoJSON: e("MultiLineString")
                }), s.MultiPolygon.include({
                    toGeoJSON: e("MultiPolygon")
                }), s.LayerGroup.include({
                    toGeoJSON: function() {
                        var t, i = this.feature && this.feature.geometry,
                            n = [];
                        if (i && "MultiPoint" === i.type) return e("MultiPoint").call(this);
                        var a = i && "GeometryCollection" === i.type;
                        return this.eachLayer(function(e) {
                            e.toGeoJSON && (t = e.toGeoJSON(), n.push(a ? t.geometry : s.GeoJSON.asFeature(t)))
                        }), a ? s.GeoJSON.getFeature(this, {
                            geometries: n,
                            type: "GeometryCollection"
                        }) : {
                            type: "FeatureCollection",
                            features: n
                        }
                    }
                })
            }(), s.geoJson = function(e, t) {
                return new s.GeoJSON(e, t)
            }, s.DomEvent = {
                addListener: function(e, t, i, n) {
                    var a, o, r, l = s.stamp(i),
                        c = "_leaflet_" + t + l;
                    return e[c] ? this : (a = function(t) {
                        return i.call(n || e, t || s.DomEvent._getEvent())
                    }, s.Browser.pointer && 0 === t.indexOf("touch") ? this.addPointerListener(e, t, a, l) : (s.Browser.touch && "dblclick" === t && this.addDoubleTapListener && this.addDoubleTapListener(e, a, l), "addEventListener" in e ? "mousewheel" === t ? (e.addEventListener("DOMMouseScroll", a, !1), e.addEventListener(t, a, !1)) : "mouseenter" === t || "mouseleave" === t ? (o = a, r = "mouseenter" === t ? "mouseover" : "mouseout", a = function(t) {
                        return s.DomEvent._checkMouse(e, t) ? o(t) : void 0
                    }, e.addEventListener(r, a, !1)) : "click" === t && s.Browser.android ? (o = a, a = function(e) {
                        return s.DomEvent._filterClick(e, o)
                    }, e.addEventListener(t, a, !1)) : e.addEventListener(t, a, !1) : "attachEvent" in e && e.attachEvent("on" + t, a), e[c] = a, this))
                },
                removeListener: function(e, t, i) {
                    var n = s.stamp(i),
                        a = "_leaflet_" + t + n,
                        o = e[a];
                    return o ? (s.Browser.pointer && 0 === t.indexOf("touch") ? this.removePointerListener(e, t, n) : s.Browser.touch && "dblclick" === t && this.removeDoubleTapListener ? this.removeDoubleTapListener(e, n) : "removeEventListener" in e ? "mousewheel" === t ? (e.removeEventListener("DOMMouseScroll", o, !1), e.removeEventListener(t, o, !1)) : "mouseenter" === t || "mouseleave" === t ? e.removeEventListener("mouseenter" === t ? "mouseover" : "mouseout", o, !1) : e.removeEventListener(t, o, !1) : "detachEvent" in e && e.detachEvent("on" + t, o), e[a] = null, this) : this
                },
                stopPropagation: function(e) {
                    return e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0, s.DomEvent._skipped(e), this
                },
                disableScrollPropagation: function(e) {
                    var t = s.DomEvent.stopPropagation;
                    return s.DomEvent.on(e, "mousewheel", t).on(e, "MozMousePixelScroll", t)
                },
                disableClickPropagation: function(e) {
                    for (var t = s.DomEvent.stopPropagation, i = s.Draggable.START.length - 1; i >= 0; i--) s.DomEvent.on(e, s.Draggable.START[i], t);
                    return s.DomEvent.on(e, "click", s.DomEvent._fakeStop).on(e, "dblclick", t)
                },
                preventDefault: function(e) {
                    return e.preventDefault ? e.preventDefault() : e.returnValue = !1, this
                },
                stop: function(e) {
                    return s.DomEvent.preventDefault(e).stopPropagation(e)
                },
                getMousePosition: function(e, t) {
                    if (!t) return new s.Point(e.clientX, e.clientY);
                    var i = t.getBoundingClientRect();
                    return new s.Point(e.clientX - i.left - t.clientLeft, e.clientY - i.top - t.clientTop)
                },
                getWheelDelta: function(e) {
                    var t = 0;
                    return e.wheelDelta && (t = e.wheelDelta / 120), e.detail && (t = -e.detail / 3), t
                },
                _skipEvents: {},
                _fakeStop: function(e) {
                    s.DomEvent._skipEvents[e.type] = !0
                },
                _skipped: function(e) {
                    var t = this._skipEvents[e.type];
                    return this._skipEvents[e.type] = !1, t
                },
                _checkMouse: function(e, t) {
                    var i = t.relatedTarget;
                    if (!i) return !0;
                    try {
                        for (; i && i !== e;) i = i.parentNode
                    } catch (n) {
                        return !1
                    }
                    return i !== e
                },
                _getEvent: function() {
                    var t = e.event;
                    if (!t)
                        for (var i = arguments.callee.caller; i && (t = i.arguments[0], !t || e.Event !== t.constructor);) i = i.caller;
                    return t
                },
                _filterClick: function(e, t) {
                    var i = e.timeStamp || e.originalEvent.timeStamp,
                        n = s.DomEvent._lastClick && i - s.DomEvent._lastClick;
                    return n && n > 100 && 500 > n || e.target._simulatedClick && !e._simulated ? void s.DomEvent.stop(e) : (s.DomEvent._lastClick = i, t(e))
                }
            }, s.DomEvent.on = s.DomEvent.addListener, s.DomEvent.off = s.DomEvent.removeListener, s.Draggable = s.Class.extend({
                includes: s.Mixin.Events,
                statics: {
                    START: s.Browser.touch ? ["touchstart", "mousedown"] : ["mousedown"],
                    END: {
                        mousedown: "mouseup",
                        touchstart: "touchend",
                        pointerdown: "touchend",
                        MSPointerDown: "touchend"
                    },
                    MOVE: {
                        mousedown: "mousemove",
                        touchstart: "touchmove",
                        pointerdown: "touchmove",
                        MSPointerDown: "touchmove"
                    }
                },
                initialize: function(e, t) {
                    this._element = e, this._dragStartTarget = t || e
                },
                enable: function() {
                    if (!this._enabled) {
                        for (var e = s.Draggable.START.length - 1; e >= 0; e--) s.DomEvent.on(this._dragStartTarget, s.Draggable.START[e], this._onDown, this);
                        this._enabled = !0
                    }
                },
                disable: function() {
                    if (this._enabled) {
                        for (var e = s.Draggable.START.length - 1; e >= 0; e--) s.DomEvent.off(this._dragStartTarget, s.Draggable.START[e], this._onDown, this);
                        this._enabled = !1, this._moved = !1
                    }
                },
                _onDown: function(e) {
                    if (this._moved = !1, !(e.shiftKey || 1 !== e.which && 1 !== e.button && !e.touches || (s.DomEvent.stopPropagation(e), s.Draggable._disabled || (s.DomUtil.disableImageDrag(), s.DomUtil.disableTextSelection(), this._moving)))) {
                        var i = e.touches ? e.touches[0] : e;
                        this._startPoint = new s.Point(i.clientX, i.clientY), this._startPos = this._newPos = s.DomUtil.getPosition(this._element), s.DomEvent.on(t, s.Draggable.MOVE[e.type], this._onMove, this).on(t, s.Draggable.END[e.type], this._onUp, this)
                    }
                },
                _onMove: function(e) {
                    if (e.touches && e.touches.length > 1) return void(this._moved = !0);
                    var i = e.touches && 1 === e.touches.length ? e.touches[0] : e,
                        n = new s.Point(i.clientX, i.clientY),
                        a = n.subtract(this._startPoint);
                    (a.x || a.y) && (s.Browser.touch && Math.abs(a.x) + Math.abs(a.y) < 3 || (s.DomEvent.preventDefault(e), this._moved || (this.fire("dragstart"), this._moved = !0, this._startPos = s.DomUtil.getPosition(this._element).subtract(a), s.DomUtil.addClass(t.body, "leaflet-dragging"), this._lastTarget = e.target || e.srcElement, s.DomUtil.addClass(this._lastTarget, "leaflet-drag-target")), this._newPos = this._startPos.add(a), this._moving = !0, s.Util.cancelAnimFrame(this._animRequest), this._animRequest = s.Util.requestAnimFrame(this._updatePosition, this, !0, this._dragStartTarget)))
                },
                _updatePosition: function() {
                    this.fire("predrag"), s.DomUtil.setPosition(this._element, this._newPos), this.fire("drag")
                },
                _onUp: function() {
                    s.DomUtil.removeClass(t.body, "leaflet-dragging"), this._lastTarget && (s.DomUtil.removeClass(this._lastTarget, "leaflet-drag-target"), this._lastTarget = null);
                    for (var e in s.Draggable.MOVE) s.DomEvent.off(t, s.Draggable.MOVE[e], this._onMove).off(t, s.Draggable.END[e], this._onUp);
                    s.DomUtil.enableImageDrag(), s.DomUtil.enableTextSelection(), this._moved && this._moving && (s.Util.cancelAnimFrame(this._animRequest), this.fire("dragend", {
                        distance: this._newPos.distanceTo(this._startPos)
                    })), this._moving = !1
                }
            }), s.Handler = s.Class.extend({
                initialize: function(e) {
                    this._map = e
                },
                enable: function() {
                    this._enabled || (this._enabled = !0, this.addHooks())
                },
                disable: function() {
                    this._enabled && (this._enabled = !1, this.removeHooks())
                },
                enabled: function() {
                    return !!this._enabled
                }
            }), s.Map.mergeOptions({
                dragging: !0,
                inertia: !s.Browser.android23,
                inertiaDeceleration: 3400,
                inertiaMaxSpeed: 1 / 0,
                inertiaThreshold: s.Browser.touch ? 32 : 18,
                easeLinearity: .25,
                worldCopyJump: !1
            }), s.Map.Drag = s.Handler.extend({
                addHooks: function() {
                    if (!this._draggable) {
                        var e = this._map;
                        this._draggable = new s.Draggable(e._mapPane, e._container), this._draggable.on({
                            dragstart: this._onDragStart,
                            drag: this._onDrag,
                            dragend: this._onDragEnd
                        }, this), e.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDrag, this), e.on("viewreset", this._onViewReset, this), e.whenReady(this._onViewReset, this))
                    }
                    this._draggable.enable()
                },
                removeHooks: function() {
                    this._draggable.disable()
                },
                moved: function() {
                    return this._draggable && this._draggable._moved
                },
                _onDragStart: function() {
                    var e = this._map;
                    e._panAnim && e._panAnim.stop(), e.fire("movestart").fire("dragstart"), e.options.inertia && (this._positions = [], this._times = [])
                },
                _onDrag: function() {
                    if (this._map.options.inertia) {
                        var e = this._lastTime = +new Date,
                            t = this._lastPos = this._draggable._newPos;
                        this._positions.push(t), this._times.push(e), e - this._times[0] > 200 && (this._positions.shift(), this._times.shift())
                    }
                    this._map.fire("move").fire("drag")
                },
                _onViewReset: function() {
                    var e = this._map.getSize()._divideBy(2),
                        t = this._map.latLngToLayerPoint([0, 0]);
                    this._initialWorldOffset = t.subtract(e).x, this._worldWidth = this._map.project([0, 180]).x
                },
                _onPreDrag: function() {
                    var e = this._worldWidth,
                        t = Math.round(e / 2),
                        i = this._initialWorldOffset,
                        n = this._draggable._newPos.x,
                        a = (n - t + i) % e + t - i,
                        s = (n + t + i) % e - t - i,
                        o = Math.abs(a + i) < Math.abs(s + i) ? a : s;
                    this._draggable._newPos.x = o
                },
                _onDragEnd: function(e) {
                    var t = this._map,
                        i = t.options,
                        n = +new Date - this._lastTime,
                        a = !i.inertia || n > i.inertiaThreshold || !this._positions[0];
                    if (t.fire("dragend", e), a) t.fire("moveend");
                    else {
                        var o = this._lastPos.subtract(this._positions[0]),
                            r = (this._lastTime + n - this._times[0]) / 1e3,
                            l = i.easeLinearity,
                            c = o.multiplyBy(l / r),
                            h = c.distanceTo([0, 0]),
                            d = Math.min(i.inertiaMaxSpeed, h),
                            p = c.multiplyBy(d / h),
                            u = d / (i.inertiaDeceleration * l),
                            m = p.multiplyBy(-u / 2).round();
                        m.x && m.y ? (m = t._limitOffset(m, t.options.maxBounds), s.Util.requestAnimFrame(function() {
                            t.panBy(m, {
                                duration: u,
                                easeLinearity: l,
                                noMoveStart: !0
                            })
                        })) : t.fire("moveend")
                    }
                }
            }), s.Map.addInitHook("addHandler", "dragging", s.Map.Drag), s.Map.mergeOptions({
                doubleClickZoom: !0
            }), s.Map.DoubleClickZoom = s.Handler.extend({
                addHooks: function() {
                    this._map.on("dblclick", this._onDoubleClick, this)
                },
                removeHooks: function() {
                    this._map.off("dblclick", this._onDoubleClick, this)
                },
                _onDoubleClick: function(e) {
                    var t = this._map,
                        i = t.getZoom() + (e.originalEvent.shiftKey ? -1 : 1);
                    "center" === t.options.doubleClickZoom ? t.setZoom(i) : t.setZoomAround(e.containerPoint, i)
                }
            }), s.Map.addInitHook("addHandler", "doubleClickZoom", s.Map.DoubleClickZoom), s.Map.mergeOptions({
                scrollWheelZoom: !0
            }), s.Map.ScrollWheelZoom = s.Handler.extend({
                addHooks: function() {
                    s.DomEvent.on(this._map._container, "mousewheel", this._onWheelScroll, this), s.DomEvent.on(this._map._container, "MozMousePixelScroll", s.DomEvent.preventDefault), this._delta = 0
                },
                removeHooks: function() {
                    s.DomEvent.off(this._map._container, "mousewheel", this._onWheelScroll), s.DomEvent.off(this._map._container, "MozMousePixelScroll", s.DomEvent.preventDefault)
                },
                _onWheelScroll: function(e) {
                    var t = s.DomEvent.getWheelDelta(e);
                    this._delta += t, this._lastMousePos = this._map.mouseEventToContainerPoint(e), this._startTime || (this._startTime = +new Date);
                    var i = Math.max(40 - (+new Date - this._startTime), 0);
                    clearTimeout(this._timer), this._timer = setTimeout(s.bind(this._performZoom, this), i), s.DomEvent.preventDefault(e), s.DomEvent.stopPropagation(e)
                },
                _performZoom: function() {
                    var e = this._map,
                        t = this._delta,
                        i = e.getZoom();
                    t = t > 0 ? Math.ceil(t) : Math.floor(t), t = Math.max(Math.min(t, 4), -4), t = e._limitZoom(i + t) - i, this._delta = 0, this._startTime = null, t && ("center" === e.options.scrollWheelZoom ? e.setZoom(i + t) : e.setZoomAround(this._lastMousePos, i + t))
                }
            }), s.Map.addInitHook("addHandler", "scrollWheelZoom", s.Map.ScrollWheelZoom), s.extend(s.DomEvent, {
                _touchstart: s.Browser.msPointer ? "MSPointerDown" : s.Browser.pointer ? "pointerdown" : "touchstart",
                _touchend: s.Browser.msPointer ? "MSPointerUp" : s.Browser.pointer ? "pointerup" : "touchend",
                addDoubleTapListener: function(e, i, n) {
                    function a(e) {
                        var t;
                        if (s.Browser.pointer ? (m.push(e.pointerId), t = m.length) : t = e.touches.length, !(t > 1)) {
                            var i = Date.now(),
                                n = i - (r || i);
                            l = e.touches ? e.touches[0] : e, c = n > 0 && h >= n, r = i
                        }
                    }

                    function o(e) {
                        if (s.Browser.pointer) {
                            var t = m.indexOf(e.pointerId);
                            if (-1 === t) return;
                            m.splice(t, 1)
                        }
                        if (c) {
                            if (s.Browser.pointer) {
                                var n, a = {};
                                for (var o in l) n = l[o], a[o] = "function" == typeof n ? n.bind(l) : n;
                                l = a
                            }
                            l.type = "dblclick", i(l), r = null
                        }
                    }
                    var r, l, c = !1,
                        h = 250,
                        d = "_leaflet_",
                        p = this._touchstart,
                        u = this._touchend,
                        m = [];
                    e[d + p + n] = a, e[d + u + n] = o;
                    var f = s.Browser.pointer ? t.documentElement : e;
                    return e.addEventListener(p, a, !1), f.addEventListener(u, o, !1), s.Browser.pointer && f.addEventListener(s.DomEvent.POINTER_CANCEL, o, !1), this
                },
                removeDoubleTapListener: function(e, i) {
                    var n = "_leaflet_";
                    return e.removeEventListener(this._touchstart, e[n + this._touchstart + i], !1), (s.Browser.pointer ? t.documentElement : e).removeEventListener(this._touchend, e[n + this._touchend + i], !1), s.Browser.pointer && t.documentElement.removeEventListener(s.DomEvent.POINTER_CANCEL, e[n + this._touchend + i], !1), this
                }
            }), s.extend(s.DomEvent, {
                POINTER_DOWN: s.Browser.msPointer ? "MSPointerDown" : "pointerdown",
                POINTER_MOVE: s.Browser.msPointer ? "MSPointerMove" : "pointermove",
                POINTER_UP: s.Browser.msPointer ? "MSPointerUp" : "pointerup",
                POINTER_CANCEL: s.Browser.msPointer ? "MSPointerCancel" : "pointercancel",
                _pointers: [],
                _pointerDocumentListener: !1,
                addPointerListener: function(e, t, i, n) {
                    switch (t) {
                        case "touchstart":
                            return this.addPointerListenerStart(e, t, i, n);
                        case "touchend":
                            return this.addPointerListenerEnd(e, t, i, n);
                        case "touchmove":
                            return this.addPointerListenerMove(e, t, i, n);
                        default:
                            throw "Unknown touch event type"
                    }
                },
                addPointerListenerStart: function(e, i, n, a) {
                    var o = "_leaflet_",
                        r = this._pointers,
                        l = function(e) {
                            s.DomEvent.preventDefault(e);
                            for (var t = !1, i = 0; i < r.length; i++)
                                if (r[i].pointerId === e.pointerId) {
                                    t = !0;
                                    break
                                }
                            t || r.push(e), e.touches = r.slice(), e.changedTouches = [e], n(e)
                        };
                    if (e[o + "touchstart" + a] = l, e.addEventListener(this.POINTER_DOWN, l, !1), !this._pointerDocumentListener) {
                        var c = function(e) {
                            for (var t = 0; t < r.length; t++)
                                if (r[t].pointerId === e.pointerId) {
                                    r.splice(t, 1);
                                    break
                                }
                        };
                        t.documentElement.addEventListener(this.POINTER_UP, c, !1), t.documentElement.addEventListener(this.POINTER_CANCEL, c, !1), this._pointerDocumentListener = !0
                    }
                    return this
                },
                addPointerListenerMove: function(e, t, i, n) {
                    function a(e) {
                        if (e.pointerType !== e.MSPOINTER_TYPE_MOUSE && "mouse" !== e.pointerType || 0 !== e.buttons) {
                            for (var t = 0; t < o.length; t++)
                                if (o[t].pointerId === e.pointerId) {
                                    o[t] = e;
                                    break
                                }
                            e.touches = o.slice(), e.changedTouches = [e], i(e)
                        }
                    }
                    var s = "_leaflet_",
                        o = this._pointers;
                    return e[s + "touchmove" + n] = a, e.addEventListener(this.POINTER_MOVE, a, !1), this
                },
                addPointerListenerEnd: function(e, t, i, n) {
                    var a = "_leaflet_",
                        s = this._pointers,
                        o = function(e) {
                            for (var t = 0; t < s.length; t++)
                                if (s[t].pointerId === e.pointerId) {
                                    s.splice(t, 1);
                                    break
                                }
                            e.touches = s.slice(), e.changedTouches = [e], i(e)
                        };
                    return e[a + "touchend" + n] = o, e.addEventListener(this.POINTER_UP, o, !1), e.addEventListener(this.POINTER_CANCEL, o, !1), this
                },
                removePointerListener: function(e, t, i) {
                    var n = "_leaflet_",
                        a = e[n + t + i];
                    switch (t) {
                        case "touchstart":
                            e.removeEventListener(this.POINTER_DOWN, a, !1);
                            break;
                        case "touchmove":
                            e.removeEventListener(this.POINTER_MOVE, a, !1);
                            break;
                        case "touchend":
                            e.removeEventListener(this.POINTER_UP, a, !1), e.removeEventListener(this.POINTER_CANCEL, a, !1)
                    }
                    return this
                }
            }), s.Map.mergeOptions({
                touchZoom: s.Browser.touch && !s.Browser.android23,
                bounceAtZoomLimits: !0
            }), s.Map.TouchZoom = s.Handler.extend({
                addHooks: function() {
                    s.DomEvent.on(this._map._container, "touchstart", this._onTouchStart, this)
                },
                removeHooks: function() {
                    s.DomEvent.off(this._map._container, "touchstart", this._onTouchStart, this)
                },
                _onTouchStart: function(e) {
                    var i = this._map;
                    if (e.touches && 2 === e.touches.length && !i._animatingZoom && !this._zooming) {
                        var n = i.mouseEventToLayerPoint(e.touches[0]),
                            a = i.mouseEventToLayerPoint(e.touches[1]),
                            o = i._getCenterLayerPoint();
                        this._startCenter = n.add(a)._divideBy(2), this._startDist = n.distanceTo(a), this._moved = !1, this._zooming = !0, this._centerOffset = o.subtract(this._startCenter), i._panAnim && i._panAnim.stop(), s.DomEvent.on(t, "touchmove", this._onTouchMove, this).on(t, "touchend", this._onTouchEnd, this), s.DomEvent.preventDefault(e)
                    }
                },
                _onTouchMove: function(e) {
                    var t = this._map;
                    if (e.touches && 2 === e.touches.length && this._zooming) {
                        var i = t.mouseEventToLayerPoint(e.touches[0]),
                            n = t.mouseEventToLayerPoint(e.touches[1]);
                        this._scale = i.distanceTo(n) / this._startDist, this._delta = i._add(n)._divideBy(2)._subtract(this._startCenter), 1 !== this._scale && (t.options.bounceAtZoomLimits || !(t.getZoom() === t.getMinZoom() && this._scale < 1 || t.getZoom() === t.getMaxZoom() && this._scale > 1)) && (this._moved || (s.DomUtil.addClass(t._mapPane, "leaflet-touching"), t.fire("movestart").fire("zoomstart"), this._moved = !0), s.Util.cancelAnimFrame(this._animRequest), this._animRequest = s.Util.requestAnimFrame(this._updateOnMove, this, !0, this._map._container), s.DomEvent.preventDefault(e))
                    }
                },
                _updateOnMove: function() {
                    var e = this._map,
                        t = this._getScaleOrigin(),
                        i = e.layerPointToLatLng(t),
                        n = e.getScaleZoom(this._scale);
                    e._animateZoom(i, n, this._startCenter, this._scale, this._delta, !1, !0)
                },
                _onTouchEnd: function() {
                    if (!this._moved || !this._zooming) return void(this._zooming = !1);
                    var e = this._map;
                    this._zooming = !1, s.DomUtil.removeClass(e._mapPane, "leaflet-touching"), s.Util.cancelAnimFrame(this._animRequest), s.DomEvent.off(t, "touchmove", this._onTouchMove).off(t, "touchend", this._onTouchEnd);
                    var i = this._getScaleOrigin(),
                        n = e.layerPointToLatLng(i),
                        a = e.getZoom(),
                        o = e.getScaleZoom(this._scale) - a,
                        r = o > 0 ? Math.ceil(o) : Math.floor(o),
                        l = e._limitZoom(a + r),
                        c = e.getZoomScale(l) / this._scale;
                    e._animateZoom(n, l, i, c)
                },
                _getScaleOrigin: function() {
                    var e = this._centerOffset.subtract(this._delta).divideBy(this._scale);
                    return this._startCenter.add(e)
                }
            }), s.Map.addInitHook("addHandler", "touchZoom", s.Map.TouchZoom), s.Map.mergeOptions({
                tap: !0,
                tapTolerance: 15
            }), s.Map.Tap = s.Handler.extend({
                addHooks: function() {
                    s.DomEvent.on(this._map._container, "touchstart", this._onDown, this)
                },
                removeHooks: function() {
                    s.DomEvent.off(this._map._container, "touchstart", this._onDown, this)
                },
                _onDown: function(e) {
                    if (e.touches) {
                        if (s.DomEvent.preventDefault(e), this._fireClick = !0, e.touches.length > 1) return this._fireClick = !1, void clearTimeout(this._holdTimeout);
                        var i = e.touches[0],
                            n = i.target;
                        this._startPos = this._newPos = new s.Point(i.clientX, i.clientY), n.tagName && "a" === n.tagName.toLowerCase() && s.DomUtil.addClass(n, "leaflet-active"), this._holdTimeout = setTimeout(s.bind(function() {
                            this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent("contextmenu", i))
                        }, this), 1e3), s.DomEvent.on(t, "touchmove", this._onMove, this).on(t, "touchend", this._onUp, this)
                    }
                },
                _onUp: function(e) {
                    if (clearTimeout(this._holdTimeout), s.DomEvent.off(t, "touchmove", this._onMove, this).off(t, "touchend", this._onUp, this), this._fireClick && e && e.changedTouches) {
                        var i = e.changedTouches[0],
                            n = i.target;
                        n && n.tagName && "a" === n.tagName.toLowerCase() && s.DomUtil.removeClass(n, "leaflet-active"), this._isTapValid() && this._simulateEvent("click", i)
                    }
                },
                _isTapValid: function() {
                    return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance
                },
                _onMove: function(e) {
                    var t = e.touches[0];
                    this._newPos = new s.Point(t.clientX, t.clientY)
                },
                _simulateEvent: function(i, n) {
                    var a = t.createEvent("MouseEvents");
                    a._simulated = !0, n.target._simulatedClick = !0, a.initMouseEvent(i, !0, !0, e, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), n.target.dispatchEvent(a)
                }
            }), s.Browser.touch && !s.Browser.pointer && s.Map.addInitHook("addHandler", "tap", s.Map.Tap), s.Map.mergeOptions({
                boxZoom: !0
            }), s.Map.BoxZoom = s.Handler.extend({
                initialize: function(e) {
                    this._map = e, this._container = e._container, this._pane = e._panes.overlayPane, this._moved = !1
                },
                addHooks: function() {
                    s.DomEvent.on(this._container, "mousedown", this._onMouseDown, this)
                },
                removeHooks: function() {
                    s.DomEvent.off(this._container, "mousedown", this._onMouseDown), this._moved = !1
                },
                moved: function() {
                    return this._moved
                },
                _onMouseDown: function(e) {
                    return this._moved = !1, !e.shiftKey || 1 !== e.which && 1 !== e.button ? !1 : (s.DomUtil.disableTextSelection(), s.DomUtil.disableImageDrag(), this._startLayerPoint = this._map.mouseEventToLayerPoint(e), void s.DomEvent.on(t, "mousemove", this._onMouseMove, this).on(t, "mouseup", this._onMouseUp, this).on(t, "keydown", this._onKeyDown, this))
                },
                _onMouseMove: function(e) {
                    this._moved || (this._box = s.DomUtil.create("div", "leaflet-zoom-box", this._pane), s.DomUtil.setPosition(this._box, this._startLayerPoint), this._container.style.cursor = "crosshair", this._map.fire("boxzoomstart"));
                    var t = this._startLayerPoint,
                        i = this._box,
                        n = this._map.mouseEventToLayerPoint(e),
                        a = n.subtract(t),
                        o = new s.Point(Math.min(n.x, t.x), Math.min(n.y, t.y));
                    s.DomUtil.setPosition(i, o), this._moved = !0, i.style.width = Math.max(0, Math.abs(a.x) - 4) + "px", i.style.height = Math.max(0, Math.abs(a.y) - 4) + "px"
                },
                _finish: function() {
                    this._moved && (this._pane.removeChild(this._box), this._container.style.cursor = ""), s.DomUtil.enableTextSelection(), s.DomUtil.enableImageDrag(), s.DomEvent.off(t, "mousemove", this._onMouseMove).off(t, "mouseup", this._onMouseUp).off(t, "keydown", this._onKeyDown)
                },
                _onMouseUp: function(e) {
                    this._finish();
                    var t = this._map,
                        i = t.mouseEventToLayerPoint(e);
                    if (!this._startLayerPoint.equals(i)) {
                        var n = new s.LatLngBounds(t.layerPointToLatLng(this._startLayerPoint), t.layerPointToLatLng(i));
                        t.fitBounds(n), t.fire("boxzoomend", {
                            boxZoomBounds: n
                        })
                    }
                },
                _onKeyDown: function(e) {
                    27 === e.keyCode && this._finish()
                }
            }), s.Map.addInitHook("addHandler", "boxZoom", s.Map.BoxZoom), s.Map.mergeOptions({
                keyboard: !0,
                keyboardPanOffset: 80,
                keyboardZoomOffset: 1
            }), s.Map.Keyboard = s.Handler.extend({
                keyCodes: {
                    left: [37],
                    right: [39],
                    down: [40],
                    up: [38],
                    zoomIn: [187, 107, 61, 171],
                    zoomOut: [189, 109, 173]
                },
                initialize: function(e) {
                    this._map = e, this._setPanOffset(e.options.keyboardPanOffset), this._setZoomOffset(e.options.keyboardZoomOffset)
                },
                addHooks: function() {
                    var e = this._map._container; - 1 === e.tabIndex && (e.tabIndex = "0"), s.DomEvent.on(e, "focus", this._onFocus, this).on(e, "blur", this._onBlur, this).on(e, "mousedown", this._onMouseDown, this), this._map.on("focus", this._addHooks, this).on("blur", this._removeHooks, this)
                },
                removeHooks: function() {
                    this._removeHooks();
                    var e = this._map._container;
                    s.DomEvent.off(e, "focus", this._onFocus, this).off(e, "blur", this._onBlur, this).off(e, "mousedown", this._onMouseDown, this), this._map.off("focus", this._addHooks, this).off("blur", this._removeHooks, this)
                },
                _onMouseDown: function() {
                    if (!this._focused) {
                        var i = t.body,
                            n = t.documentElement,
                            a = i.scrollTop || n.scrollTop,
                            s = i.scrollLeft || n.scrollLeft;
                        this._map._container.focus(), e.scrollTo(s, a)
                    }
                },
                _onFocus: function() {
                    this._focused = !0, this._map.fire("focus")
                },
                _onBlur: function() {
                    this._focused = !1, this._map.fire("blur")
                },
                _setPanOffset: function(e) {
                    var t, i, n = this._panKeys = {},
                        a = this.keyCodes;
                    for (t = 0, i = a.left.length; i > t; t++) n[a.left[t]] = [-1 * e, 0];
                    for (t = 0, i = a.right.length; i > t; t++) n[a.right[t]] = [e, 0];
                    for (t = 0, i = a.down.length; i > t; t++) n[a.down[t]] = [0, e];
                    for (t = 0, i = a.up.length; i > t; t++) n[a.up[t]] = [0, -1 * e]
                },
                _setZoomOffset: function(e) {
                    var t, i, n = this._zoomKeys = {},
                        a = this.keyCodes;
                    for (t = 0, i = a.zoomIn.length; i > t; t++) n[a.zoomIn[t]] = e;
                    for (t = 0, i = a.zoomOut.length; i > t; t++) n[a.zoomOut[t]] = -e
                },
                _addHooks: function() {
                    s.DomEvent.on(t, "keydown", this._onKeyDown, this)
                },
                _removeHooks: function() {
                    s.DomEvent.off(t, "keydown", this._onKeyDown, this)
                },
                _onKeyDown: function(e) {
                    var t = e.keyCode,
                        i = this._map;
                    if (t in this._panKeys) {
                        if (i._panAnim && i._panAnim._inProgress) return;
                        i.panBy(this._panKeys[t]), i.options.maxBounds && i.panInsideBounds(i.options.maxBounds)
                    } else {
                        if (!(t in this._zoomKeys)) return;
                        i.setZoom(i.getZoom() + this._zoomKeys[t])
                    }
                    s.DomEvent.stop(e)
                }
            }), s.Map.addInitHook("addHandler", "keyboard", s.Map.Keyboard), s.Handler.MarkerDrag = s.Handler.extend({
                initialize: function(e) {
                    this._marker = e
                },
                addHooks: function() {
                    var e = this._marker._icon;
                    this._draggable || (this._draggable = new s.Draggable(e, e)), this._draggable.on("dragstart", this._onDragStart, this).on("drag", this._onDrag, this).on("dragend", this._onDragEnd, this), this._draggable.enable(), s.DomUtil.addClass(this._marker._icon, "leaflet-marker-draggable")
                },
                removeHooks: function() {
                    this._draggable.off("dragstart", this._onDragStart, this).off("drag", this._onDrag, this).off("dragend", this._onDragEnd, this), this._draggable.disable(), s.DomUtil.removeClass(this._marker._icon, "leaflet-marker-draggable")
                },
                moved: function() {
                    return this._draggable && this._draggable._moved
                },
                _onDragStart: function() {
                    this._marker.closePopup().fire("movestart").fire("dragstart")
                },
                _onDrag: function() {
                    var e = this._marker,
                        t = e._shadow,
                        i = s.DomUtil.getPosition(e._icon),
                        n = e._map.layerPointToLatLng(i);
                    t && s.DomUtil.setPosition(t, i), e._latlng = n, e.fire("move", {
                        latlng: n
                    }).fire("drag")
                },
                _onDragEnd: function(e) {
                    this._marker.fire("moveend").fire("dragend", e)
                }
            }), s.Control = s.Class.extend({
                options: {
                    position: "topright"
                },
                initialize: function(e) {
                    s.setOptions(this, e)
                },
                getPosition: function() {
                    return this.options.position
                },
                setPosition: function(e) {
                    var t = this._map;
                    return t && t.removeControl(this), this.options.position = e, t && t.addControl(this), this
                },
                getContainer: function() {
                    return this._container
                },
                addTo: function(e) {
                    this._map = e;
                    var t = this._container = this.onAdd(e),
                        i = this.getPosition(),
                        n = e._controlCorners[i];
                    return s.DomUtil.addClass(t, "leaflet-control"), -1 !== i.indexOf("bottom") ? n.insertBefore(t, n.firstChild) : n.appendChild(t), this
                },
                removeFrom: function(e) {
                    var t = this.getPosition(),
                        i = e._controlCorners[t];
                    return i.removeChild(this._container), this._map = null, this.onRemove && this.onRemove(e), this
                },
                _refocusOnMap: function() {
                    this._map && this._map.getContainer().focus()
                }
            }), s.control = function(e) {
                return new s.Control(e)
            }, s.Map.include({
                addControl: function(e) {
                    return e.addTo(this), this
                },
                removeControl: function(e) {
                    return e.removeFrom(this), this
                },
                _initControlPos: function() {
                    function e(e, a) {
                        var o = i + e + " " + i + a;
                        t[e + a] = s.DomUtil.create("div", o, n)
                    }
                    var t = this._controlCorners = {},
                        i = "leaflet-",
                        n = this._controlContainer = s.DomUtil.create("div", i + "control-container", this._container);
                    e("top", "left"), e("top", "right"), e("bottom", "left"), e("bottom", "right")
                },
                _clearControlPos: function() {
                    this._container.removeChild(this._controlContainer)
                }
            }), s.Control.Zoom = s.Control.extend({
                options: {
                    position: "topleft",
                    zoomInText: "+",
                    zoomInTitle: "Zoom in",
                    zoomOutText: "-",
                    zoomOutTitle: "Zoom out"
                },
                onAdd: function(e) {
                    var t = "leaflet-control-zoom",
                        i = s.DomUtil.create("div", t + " leaflet-bar");
                    return this._map = e, this._zoomInButton = this._createButton(this.options.zoomInText, this.options.zoomInTitle, t + "-in", i, this._zoomIn, this), this._zoomOutButton = this._createButton(this.options.zoomOutText, this.options.zoomOutTitle, t + "-out", i, this._zoomOut, this), this._updateDisabled(), e.on("zoomend zoomlevelschange", this._updateDisabled, this), i
                },
                onRemove: function(e) {
                    e.off("zoomend zoomlevelschange", this._updateDisabled, this)
                },
                _zoomIn: function(e) {
                    this._map.zoomIn(e.shiftKey ? 3 : 1)
                },
                _zoomOut: function(e) {
                    this._map.zoomOut(e.shiftKey ? 3 : 1)
                },
                _createButton: function(e, t, i, n, a, o) {
                    var r = s.DomUtil.create("a", i, n);
                    r.innerHTML = e, r.href = "#", r.title = t;
                    var l = s.DomEvent.stopPropagation;
                    return s.DomEvent.on(r, "click", l).on(r, "mousedown", l).on(r, "dblclick", l).on(r, "click", s.DomEvent.preventDefault).on(r, "click", a, o).on(r, "click", this._refocusOnMap, o), r
                },
                _updateDisabled: function() {
                    var e = this._map,
                        t = "leaflet-disabled";
                    s.DomUtil.removeClass(this._zoomInButton, t), s.DomUtil.removeClass(this._zoomOutButton, t), e._zoom === e.getMinZoom() && s.DomUtil.addClass(this._zoomOutButton, t), e._zoom === e.getMaxZoom() && s.DomUtil.addClass(this._zoomInButton, t)
                }
            }), s.Map.mergeOptions({
                zoomControl: !0
            }), s.Map.addInitHook(function() {
                this.options.zoomControl && (this.zoomControl = new s.Control.Zoom, this.addControl(this.zoomControl))
            }), s.control.zoom = function(e) {
                return new s.Control.Zoom(e)
            }, s.Control.Attribution = s.Control.extend({
                options: {
                    position: "bottomright",
                    prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
                },
                initialize: function(e) {
                    s.setOptions(this, e), this._attributions = {}
                },
                onAdd: function(e) {
                    this._container = s.DomUtil.create("div", "leaflet-control-attribution"), s.DomEvent.disableClickPropagation(this._container);
                    for (var t in e._layers) e._layers[t].getAttribution && this.addAttribution(e._layers[t].getAttribution());
                    return e.on("layeradd", this._onLayerAdd, this).on("layerremove", this._onLayerRemove, this), this._update(), this._container
                },
                onRemove: function(e) {
                    e.off("layeradd", this._onLayerAdd).off("layerremove", this._onLayerRemove)
                },
                setPrefix: function(e) {
                    return this.options.prefix = e, this._update(), this
                },
                addAttribution: function(e) {
                    return e ? (this._attributions[e] || (this._attributions[e] = 0), this._attributions[e]++, this._update(), this) : void 0
                },
                removeAttribution: function(e) {
                    return e ? (this._attributions[e] && (this._attributions[e]--, this._update()), this) : void 0
                },
                _update: function() {
                    if (this._map) {
                        var e = [];
                        for (var t in this._attributions) this._attributions[t] && e.push(t);
                        var i = [];
                        this.options.prefix && i.push(this.options.prefix), e.length && i.push(e.join(", ")), this._container.innerHTML = i.join(" | ")
                    }
                },
                _onLayerAdd: function(e) {
                    e.layer.getAttribution && this.addAttribution(e.layer.getAttribution())
                },
                _onLayerRemove: function(e) {
                    e.layer.getAttribution && this.removeAttribution(e.layer.getAttribution())
                }
            }), s.Map.mergeOptions({
                attributionControl: !0
            }), s.Map.addInitHook(function() {
                this.options.attributionControl && (this.attributionControl = (new s.Control.Attribution).addTo(this))
            }), s.control.attribution = function(e) {
                return new s.Control.Attribution(e)
            }, s.Control.Scale = s.Control.extend({
                options: {
                    position: "bottomleft",
                    maxWidth: 100,
                    metric: !0,
                    imperial: !0,
                    updateWhenIdle: !1
                },
                onAdd: function(e) {
                    this._map = e;
                    var t = "leaflet-control-scale",
                        i = s.DomUtil.create("div", t),
                        n = this.options;
                    return this._addScales(n, t, i), e.on(n.updateWhenIdle ? "moveend" : "move", this._update, this), e.whenReady(this._update, this), i
                },
                onRemove: function(e) {
                    e.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this)
                },
                _addScales: function(e, t, i) {
                    e.metric && (this._mScale = s.DomUtil.create("div", t + "-line", i)), e.imperial && (this._iScale = s.DomUtil.create("div", t + "-line", i))
                },
                _update: function() {
                    var e = this._map.getBounds(),
                        t = e.getCenter().lat,
                        i = 6378137 * Math.PI * Math.cos(t * Math.PI / 180),
                        n = i * (e.getNorthEast().lng - e.getSouthWest().lng) / 180,
                        a = this._map.getSize(),
                        s = this.options,
                        o = 0;
                    a.x > 0 && (o = n * (s.maxWidth / a.x)), this._updateScales(s, o)
                },
                _updateScales: function(e, t) {
                    e.metric && t && this._updateMetric(t), e.imperial && t && this._updateImperial(t)
                },
                _updateMetric: function(e) {
                    var t = this._getRoundNum(e);
                    this._mScale.style.width = this._getScaleWidth(t / e) + "px", this._mScale.innerHTML = 1e3 > t ? t + " m" : t / 1e3 + " km"
                },
                _updateImperial: function(e) {
                    var t, i, n, a = 3.2808399 * e,
                        s = this._iScale;
                    a > 5280 ? (t = a / 5280, i = this._getRoundNum(t), s.style.width = this._getScaleWidth(i / t) + "px", s.innerHTML = i + " mi") : (n = this._getRoundNum(a), s.style.width = this._getScaleWidth(n / a) + "px", s.innerHTML = n + " ft")
                },
                _getScaleWidth: function(e) {
                    return Math.round(this.options.maxWidth * e) - 10
                },
                _getRoundNum: function(e) {
                    var t = Math.pow(10, (Math.floor(e) + "").length - 1),
                        i = e / t;
                    return i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1, t * i
                }
            }), s.control.scale = function(e) {
                return new s.Control.Scale(e)
            }, s.Control.Layers = s.Control.extend({
                options: {
                    collapsed: !0,
                    position: "topright",
                    autoZIndex: !0
                },
                initialize: function(e, t, i) {
                    s.setOptions(this, i), this._layers = {}, this._lastZIndex = 0, this._handlingClick = !1;
                    for (var n in e) this._addLayer(e[n], n);
                    for (n in t) this._addLayer(t[n], n, !0)
                },
                onAdd: function(e) {
                    return this._initLayout(), this._update(), e.on("layeradd", this._onLayerChange, this).on("layerremove", this._onLayerChange, this), this._container
                },
                onRemove: function(e) {
                    e.off("layeradd", this._onLayerChange, this).off("layerremove", this._onLayerChange, this)
                },
                addBaseLayer: function(e, t) {
                    return this._addLayer(e, t), this._update(), this
                },
                addOverlay: function(e, t) {
                    return this._addLayer(e, t, !0), this._update(), this
                },
                removeLayer: function(e) {
                    var t = s.stamp(e);
                    return delete this._layers[t], this._update(), this
                },
                _initLayout: function() {
                    var e = "leaflet-control-layers",
                        t = this._container = s.DomUtil.create("div", e);
                    t.setAttribute("aria-haspopup", !0), s.Browser.touch ? s.DomEvent.on(t, "click", s.DomEvent.stopPropagation) : s.DomEvent.disableClickPropagation(t).disableScrollPropagation(t);
                    var i = this._form = s.DomUtil.create("form", e + "-list");
                    if (this.options.collapsed) {
                        s.Browser.android || s.DomEvent.on(t, "mouseover", this._expand, this).on(t, "mouseout", this._collapse, this);
                        var n = this._layersLink = s.DomUtil.create("a", e + "-toggle", t);
                        n.href = "#", n.title = "Layers", s.Browser.touch ? s.DomEvent.on(n, "click", s.DomEvent.stop).on(n, "click", this._expand, this) : s.DomEvent.on(n, "focus", this._expand, this), s.DomEvent.on(i, "click", function() {
                            setTimeout(s.bind(this._onInputClick, this), 0)
                        }, this), this._map.on("click", this._collapse, this)
                    } else this._expand();
                    this._baseLayersList = s.DomUtil.create("div", e + "-base", i), this._separator = s.DomUtil.create("div", e + "-separator", i), this._overlaysList = s.DomUtil.create("div", e + "-overlays", i), t.appendChild(i)
                },
                _addLayer: function(e, t, i) {
                    var n = s.stamp(e);
                    this._layers[n] = {
                        layer: e,
                        name: t,
                        overlay: i
                    }, this.options.autoZIndex && e.setZIndex && (this._lastZIndex++, e.setZIndex(this._lastZIndex))
                },
                _update: function() {
                    if (this._container) {
                        this._baseLayersList.innerHTML = "", this._overlaysList.innerHTML = "";
                        var e, t, i = !1,
                            n = !1;
                        for (e in this._layers) t = this._layers[e], this._addItem(t), n = n || t.overlay, i = i || !t.overlay;
                        this._separator.style.display = n && i ? "" : "none"
                    }
                },
                _onLayerChange: function(e) {
                    var t = this._layers[s.stamp(e.layer)];
                    if (t) {
                        this._handlingClick || this._update();
                        var i = t.overlay ? "layeradd" === e.type ? "overlayadd" : "overlayremove" : "layeradd" === e.type ? "baselayerchange" : null;
                        i && this._map.fire(i, t)
                    }
                },
                _createRadioElement: function(e, i) {
                    var n = '<input type="radio" class="leaflet-control-layers-selector" name="' + e + '"';
                    i && (n += ' checked="checked"'), n += "/>";
                    var a = t.createElement("div");
                    return a.innerHTML = n, a.firstChild
                },
                _addItem: function(e) {
                    var i, n = t.createElement("label"),
                        a = this._map.hasLayer(e.layer);
                    e.overlay ? (i = t.createElement("input"), i.type = "checkbox", i.className = "leaflet-control-layers-selector", i.defaultChecked = a) : i = this._createRadioElement("leaflet-base-layers", a), i.layerId = s.stamp(e.layer), s.DomEvent.on(i, "click", this._onInputClick, this);
                    var o = t.createElement("span");
                    o.innerHTML = " " + e.name, n.appendChild(i), n.appendChild(o);
                    var r = e.overlay ? this._overlaysList : this._baseLayersList;
                    return r.appendChild(n), n
                },
                _onInputClick: function() {
                    var e, t, i, n = this._form.getElementsByTagName("input"),
                        a = n.length;
                    for (this._handlingClick = !0, e = 0; a > e; e++) t = n[e], i = this._layers[t.layerId], t.checked && !this._map.hasLayer(i.layer) ? this._map.addLayer(i.layer) : !t.checked && this._map.hasLayer(i.layer) && this._map.removeLayer(i.layer);
                    this._handlingClick = !1, this._refocusOnMap()
                },
                _expand: function() {
                    s.DomUtil.addClass(this._container, "leaflet-control-layers-expanded")
                },
                _collapse: function() {
                    this._container.className = this._container.className.replace(" leaflet-control-layers-expanded", "")
                }
            }), s.control.layers = function(e, t, i) {
                return new s.Control.Layers(e, t, i)
            }, s.PosAnimation = s.Class.extend({
                includes: s.Mixin.Events,
                run: function(e, t, i, n) {
                    this.stop(), this._el = e, this._inProgress = !0, this._newPos = t, this.fire("start"), e.style[s.DomUtil.TRANSITION] = "all " + (i || .25) + "s cubic-bezier(0,0," + (n || .5) + ",1)", s.DomEvent.on(e, s.DomUtil.TRANSITION_END, this._onTransitionEnd, this), s.DomUtil.setPosition(e, t), s.Util.falseFn(e.offsetWidth), this._stepTimer = setInterval(s.bind(this._onStep, this), 50)
                },
                stop: function() {
                    this._inProgress && (s.DomUtil.setPosition(this._el, this._getPos()), this._onTransitionEnd(), s.Util.falseFn(this._el.offsetWidth))
                },
                _onStep: function() {
                    var e = this._getPos();
                    return e ? (this._el._leaflet_pos = e, void this.fire("step")) : void this._onTransitionEnd()
                },
                _transformRe: /([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,
                _getPos: function() {
                    var t, i, n, a = this._el,
                        o = e.getComputedStyle(a);
                    if (s.Browser.any3d) {
                        if (n = o[s.DomUtil.TRANSFORM].match(this._transformRe), !n) return;
                        t = parseFloat(n[1]), i = parseFloat(n[2])
                    } else t = parseFloat(o.left), i = parseFloat(o.top);
                    return new s.Point(t, i, !0)
                },
                _onTransitionEnd: function() {
                    s.DomEvent.off(this._el, s.DomUtil.TRANSITION_END, this._onTransitionEnd, this), this._inProgress && (this._inProgress = !1, this._el.style[s.DomUtil.TRANSITION] = "", this._el._leaflet_pos = this._newPos, clearInterval(this._stepTimer), this.fire("step").fire("end"))
                }
            }), s.Map.include({
                setView: function(e, t, i) {
                    if (t = t === n ? this._zoom : this._limitZoom(t), e = this._limitCenter(s.latLng(e), t, this.options.maxBounds), i = i || {}, this._panAnim && this._panAnim.stop(), this._loaded && !i.reset && i !== !0) {
                        i.animate !== n && (i.zoom = s.extend({
                            animate: i.animate
                        }, i.zoom), i.pan = s.extend({
                            animate: i.animate
                        }, i.pan));
                        var a = this._zoom !== t ? this._tryAnimatedZoom && this._tryAnimatedZoom(e, t, i.zoom) : this._tryAnimatedPan(e, i.pan);
                        if (a) return clearTimeout(this._sizeTimer), this
                    }
                    return this._resetView(e, t), this
                },
                panBy: function(e, t) {
                    if (e = s.point(e).round(), t = t || {}, !e.x && !e.y) return this;
                    if (this._panAnim || (this._panAnim = new s.PosAnimation, this._panAnim.on({
                            step: this._onPanTransitionStep,
                            end: this._onPanTransitionEnd
                        }, this)), t.noMoveStart || this.fire("movestart"), t.animate !== !1) {
                        s.DomUtil.addClass(this._mapPane, "leaflet-pan-anim");
                        var i = this._getMapPanePos().subtract(e);
                        this._panAnim.run(this._mapPane, i, t.duration || .25, t.easeLinearity)
                    } else this._rawPanBy(e), this.fire("move").fire("moveend");
                    return this
                },
                _onPanTransitionStep: function() {
                    this.fire("move")
                },
                _onPanTransitionEnd: function() {
                    s.DomUtil.removeClass(this._mapPane, "leaflet-pan-anim"), this.fire("moveend")
                },
                _tryAnimatedPan: function(e, t) {
                    var i = this._getCenterOffset(e)._floor();
                    return (t && t.animate) === !0 || this.getSize().contains(i) ? (this.panBy(i, t), !0) : !1
                }
            }), s.PosAnimation = s.DomUtil.TRANSITION ? s.PosAnimation : s.PosAnimation.extend({
                run: function(e, t, i, n) {
                    this.stop(), this._el = e, this._inProgress = !0, this._duration = i || .25, this._easeOutPower = 1 / Math.max(n || .5, .2), this._startPos = s.DomUtil.getPosition(e), this._offset = t.subtract(this._startPos), this._startTime = +new Date, this.fire("start"), this._animate()
                },
                stop: function() {
                    this._inProgress && (this._step(), this._complete())
                },
                _animate: function() {
                    this._animId = s.Util.requestAnimFrame(this._animate, this), this._step()
                },
                _step: function() {
                    var e = +new Date - this._startTime,
                        t = 1e3 * this._duration;
                    t > e ? this._runFrame(this._easeOut(e / t)) : (this._runFrame(1), this._complete())
                },
                _runFrame: function(e) {
                    var t = this._startPos.add(this._offset.multiplyBy(e));
                    s.DomUtil.setPosition(this._el, t), this.fire("step")
                },
                _complete: function() {
                    s.Util.cancelAnimFrame(this._animId), this._inProgress = !1, this.fire("end")
                },
                _easeOut: function(e) {
                    return 1 - Math.pow(1 - e, this._easeOutPower)
                }
            }), s.Map.mergeOptions({
                zoomAnimation: !0,
                zoomAnimationThreshold: 4
            }), s.DomUtil.TRANSITION && s.Map.addInitHook(function() {
                this._zoomAnimated = this.options.zoomAnimation && s.DomUtil.TRANSITION && s.Browser.any3d && !s.Browser.android23 && !s.Browser.mobileOpera, this._zoomAnimated && s.DomEvent.on(this._mapPane, s.DomUtil.TRANSITION_END, this._catchTransitionEnd, this)
            }), s.Map.include(s.DomUtil.TRANSITION ? {
                _catchTransitionEnd: function(e) {
                    this._animatingZoom && e.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd()
                },
                _nothingToAnimate: function() {
                    return !this._container.getElementsByClassName("leaflet-zoom-animated").length
                },
                _tryAnimatedZoom: function(e, t, i) {
                    if (this._animatingZoom) return !0;
                    if (i = i || {}, !this._zoomAnimated || i.animate === !1 || this._nothingToAnimate() || Math.abs(t - this._zoom) > this.options.zoomAnimationThreshold) return !1;
                    var n = this.getZoomScale(t),
                        a = this._getCenterOffset(e)._divideBy(1 - 1 / n),
                        s = this._getCenterLayerPoint()._add(a);
                    return i.animate === !0 || this.getSize().contains(a) ? (this.fire("movestart").fire("zoomstart"), this._animateZoom(e, t, s, n, null, !0), !0) : !1
                },
                _animateZoom: function(e, t, i, n, a, o, r) {
                    r || (this._animatingZoom = !0), s.DomUtil.addClass(this._mapPane, "leaflet-zoom-anim"), this._animateToCenter = e, this._animateToZoom = t, s.Draggable && (s.Draggable._disabled = !0), s.Util.requestAnimFrame(function() {
                        this.fire("zoomanim", {
                            center: e,
                            zoom: t,
                            origin: i,
                            scale: n,
                            delta: a,
                            backwards: o
                        })
                    }, this)
                },
                _onZoomTransitionEnd: function() {
                    this._animatingZoom = !1, s.DomUtil.removeClass(this._mapPane, "leaflet-zoom-anim"), this._resetView(this._animateToCenter, this._animateToZoom, !0, !0), s.Draggable && (s.Draggable._disabled = !1)
                }
            } : {}), s.TileLayer.include({
                _animateZoom: function(e) {
                    this._animating || (this._animating = !0, this._prepareBgBuffer());
                    var t = this._bgBuffer,
                        i = s.DomUtil.TRANSFORM,
                        n = e.delta ? s.DomUtil.getTranslateString(e.delta) : t.style[i],
                        a = s.DomUtil.getScaleString(e.scale, e.origin);
                    t.style[i] = e.backwards ? a + " " + n : n + " " + a
                },
                _endZoomAnim: function() {
                    var e = this._tileContainer,
                        t = this._bgBuffer;
                    e.style.visibility = "", e.parentNode.appendChild(e), s.Util.falseFn(t.offsetWidth), this._animating = !1
                },
                _clearBgBuffer: function() {
                    var e = this._map;
                    !e || e._animatingZoom || e.touchZoom._zooming || (this._bgBuffer.innerHTML = "", this._bgBuffer.style[s.DomUtil.TRANSFORM] = "")
                },
                _prepareBgBuffer: function() {
                    var e = this._tileContainer,
                        t = this._bgBuffer,
                        i = this._getLoadedTilesPercentage(t),
                        n = this._getLoadedTilesPercentage(e);
                    return t && i > .5 && .5 > n ? (e.style.visibility = "hidden", void this._stopLoadingImages(e)) : (t.style.visibility = "hidden", t.style[s.DomUtil.TRANSFORM] = "", this._tileContainer = t, t = this._bgBuffer = e, this._stopLoadingImages(t), void clearTimeout(this._clearBgBufferTimer))
                },
                _getLoadedTilesPercentage: function(e) {
                    var t, i, n = e.getElementsByTagName("img"),
                        a = 0;
                    for (t = 0, i = n.length; i > t; t++) n[t].complete && a++;
                    return a / i
                },
                _stopLoadingImages: function(e) {
                    var t, i, n, a = Array.prototype.slice.call(e.getElementsByTagName("img"));
                    for (t = 0, i = a.length; i > t; t++) n = a[t], n.complete || (n.onload = s.Util.falseFn, n.onerror = s.Util.falseFn, n.src = s.Util.emptyImageUrl, n.parentNode.removeChild(n))
                }
            }), s.Map.include({
                _defaultLocateOptions: {
                    watch: !1,
                    setView: !1,
                    maxZoom: 1 / 0,
                    timeout: 1e4,
                    maximumAge: 0,
                    enableHighAccuracy: !1
                },
                locate: function(e) {
                    if (e = this._locateOptions = s.extend(this._defaultLocateOptions, e), !navigator.geolocation) return this._handleGeolocationError({
                        code: 0,
                        message: "Geolocation not supported."
                    }), this;
                    var t = s.bind(this._handleGeolocationResponse, this),
                        i = s.bind(this._handleGeolocationError, this);
                    return e.watch ? this._locationWatchId = navigator.geolocation.watchPosition(t, i, e) : navigator.geolocation.getCurrentPosition(t, i, e), this
                },
                stopLocate: function() {
                    return navigator.geolocation && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this
                },
                _handleGeolocationError: function(e) {
                    var t = e.code,
                        i = e.message || (1 === t ? "permission denied" : 2 === t ? "position unavailable" : "timeout");
                    this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", {
                        code: t,
                        message: "Geolocation error: " + i + "."
                    })
                },
                _handleGeolocationResponse: function(e) {
                    var t = e.coords.latitude,
                        i = e.coords.longitude,
                        n = new s.LatLng(t, i),
                        a = 180 * e.coords.accuracy / 40075017,
                        o = a / Math.cos(s.LatLng.DEG_TO_RAD * t),
                        r = s.latLngBounds([t - a, i - o], [t + a, i + o]),
                        l = this._locateOptions;
                    if (l.setView) {
                        var c = Math.min(this.getBoundsZoom(r), l.maxZoom);
                        this.setView(n, c)
                    }
                    var h = {
                        latlng: n,
                        bounds: r,
                        timestamp: e.timestamp
                    };
                    for (var d in e.coords) "number" == typeof e.coords[d] && (h[d] = e.coords[d]);
                    this.fire("locationfound", h)
                }
            })
    }(window, document)
}), require.register("lib/leaflet.edgemarker", function() {
    ! function(e) {
        "use strict";
        e.EdgeMarker = e.Class.extend({
            options: {
                radius: 12,
                weight: 1,
                color: "green",
                fillColor: "yellow",
                fillOpacity: 1,
                zIndexOffset: 1e3
            },
            initialize: function(t) {
                e.setOptions(this, t)
            },
            addTo: function(t) {
                this._map = t, e.extend(t, {
                    _getFeatures: function() {
                        var e = [];
                        for (var t in this._layers) "undefined" != typeof this._layers[t].getLatLng && e.push(this._layers[t]);
                        return e
                    }
                });
                var i = /android|webos|iphone|ipod|ipad|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());
                return i = i && /mobile/i.test(navigator.userAgent.toLowerCase()), t.on("movestart", i ? this._addEdgeMarkers : this._clearEdgeMarkers, this), t.on("moveend", this._addEdgeMarkers, this), t.on("viewreset", this._addEdgeMarkers, this), this._addEdgeMarkers(), t.addLayer(this), this
            },
            onAdd: function() {},
            _borderMarkerLayer: void 0,
            _clearEdgeMarkers: function() {
                this._markertouchstart || "undefined" == typeof this._borderMarkerLayer || this._borderMarkerLayer.clearLayers()
            },
            _addEdgeMarkers: function() {
                "undefined" == typeof this._borderMarkerLayer && (this._borderMarkerLayer = new e.LayerGroup), this._borderMarkerLayer.clearLayers();
                for (var t = this._map._getFeatures(), i = this.options.offsetX || 0, n = this.options.offsetY || 0, a = this.options.arrowOffset || 0, s = (navigator.userAgent.toLowerCase().indexOf("firefox") > -1, 0); s < t.length; s++) {
                    var o = this._map.latLngToContainerPoint(t[s].getLatLng()),
                        r = this._map.getSize();
                    if ((!$(t[s]._icon).length || $(t[s]._icon).is(":visible") && t[s].options.color) && (o.y < 0 || o.y > r.y || o.x > r.x || o.x < 0)) {
                        var l = o.y;
                        o.y < 0 ? (l = 0 + n + this.options.radius, this.options.ypos = -n - a) : o.y > r.y ? (l = r.y - n - this.options.radius, this.options.ypos = n + a) : o.y < r.y && (this.options.ypos = 0);
                        var c = o.x;
                        o.x > r.x ? (c = r.x - i - this.options.radius, this.options.xpos = i + a) : o.x < 0 ? (c = 0 + i + this.options.radius, this.options.xpos = -i - a) : o.x < r.x && (this.options.xpos = 0);
                        var h = this.options.xpos || 0,
                            d = this.options.ypos || 0,
                            p = Math.atan2(this.options.ypos, this.options.xpos);
                        p *= 180 / Math.PI;
                        var u = "top:" + d + "px;left:" + h + "px;transform-origin: center center;transform: rotate(" + p + "deg) translate(0px, 0px);-webkit-transform-origin: center center;-webkit-transform: rotate(" + p + "deg) translate(0px, 0px);-moz-transform-origin: center center;-moz-transform: rotate(" + p + "deg) translate(0px, 0px);left:" + h + "px;",
                            m = e.divIcon({
                                html: '<div class="edge-marker"><span class="edge-marker-icon-wrapper" style="background: ' + this.options.fillColor + ';"><img style="display: inline-block;" src="' + Chaplin.Application.assetsUrl + "markericon-" + t[s].options.type + '.png" /></span><span class="marker-arrow" style="' + u + '"><span style="border-left-color: ' + t[s].options.color + '"></span></span></div>'
                            }),
                            f = e.marker(this._map.containerPointToLatLng([c, l]), this.options);
                        f.options.type = t[s].options.type, f.options.origmarker = t[s], f.on("click", function() {
                            return this._map.setView(this.options.origmarker._latlng, this._map.getZoom()), this.options.origmarker.openPopup(), !1
                        }), f.on("contextmenu", function() {
                            return this._addEdgeMarkers(), !1
                        }, this), f.setIcon(m), f.addTo(this._borderMarkerLayer), $(f._icon).on("touchstart", function(e) {
                            this._markertouchstart = !0, e.preventDefault(), e.stopPropagation()
                        }, this), $(f._icon).on("touchend", function(e) {
                            this._markertouchstart = !1, this._addEdgeMarkers(), e.preventDefault(), e.stopPropagation()
                        }, this)
                    }
                }
                this._map.hasLayer(this._borderMarkerLayer) || this._borderMarkerLayer.addTo(this._map)
            }
        }), e.edgeMarker = function(t) {
            return new e.EdgeMarker(t)
        }
    }(L)
}), require.register("lib/mapbase", function(e, t, i) {
    var n = t("mediator"),
        a = function(e, t) {
            var i = {
                defaultCoords: [0, 0],
                mapMinZoom: 6,
                mapMaxZoom: 8,
                mapPanDuration: 1,
                miniMapZoomLevel: 2.668,
                filtersCollection: {}
            };
            _.extend(i, t), L.CRS.CustomZoom = L.extend({}, L.CRS.EPSG3857, {
                scale: function(e) {
                    var t;
                    switch (e) {
                        case 6:
                            t = 2;
                            break;
                        case 7:
                            t = 2.09305;
                            break;
                        case 8:
                            t = 2.0565;
                            break;
                        case i.miniMapZoomLevel:
                            t = 2;
                            break;
                        default:
                            t = 2
                    }
                    return 256 * Math.pow(t, e)
                }
            });
            var a = {
                maxZoom: i.mapMaxZoom,
                minZoom: i.mapMinZoom,
                tapTolerance: 20,
                crs: L.CRS.CustomZoom,
                attributionControl: !1
            };
            _.extend(a, i.mapOptions);
            var s = L.map(e, a),
                o = new L.LatLngBounds(s.unproject([0, 1303], 6), s.unproject([2e3, 0], 6));
            s.options.mapBounds = o, s.fitBounds(o), s.setMaxBounds(o), s.off("movestart").on("movestart", function(e) {
                e.target.dragging._draggable && e.target.dragging._draggable.on("predrag", function() {
                    var e = s.latLngToLayerPoint(s.options.maxBounds.getSouthWest()).add(this._newPos),
                        t = s.latLngToLayerPoint(s.options.maxBounds.getNorthEast()).add(this._newPos),
                        i = s.getSize();
                    t.y > 0 && (this._newPos.y -= t.y / 1.2), e.x > 0 && (this._newPos.x -= e.x / 1.2), t.x < i.x && (this._newPos.x -= (t.x - i.x) / 1.2), e.y < i.y && (this._newPos.y -= (e.y - i.y) / 1.2)
                })
            }), s.off("popupopen").on("popupopen", function(e) {
                var t = $(e.popup._container).find(".image-wrapper");
                t.length ? ($(e.target.getContainer()).find(".leaflet-popup-tip-container").hide(), $(".leaflet-popup-content-wrapper").css("margin-bottom", 20).css("background", "none")) : ($(e.target.getContainer()).find(".leaflet-popup-tip-container").show(), $(".leaflet-popup-content-wrapper").removeAttr("style"))
            });
            var r = new L.tileLayer("/mapimages/{z}/y{y}x{x}.png", {
                minZoom: i.mapMinZoom,
                maxZoom: i.mapMaxZoom,
                bounds: o,
                noWrap: !0
            });
            s.addLayer(r), s.popups = [], s.markers = L.layerGroup(), s.miniMarkers = L.layerGroup();
            var l = function(e, t, a, o, r) {
                    if (!e.get("latlng") || !parseFloat(e.get("latlng")[0]) || !parseFloat(e.get("latlng")[1])) return !1;
                    var l;
                    if (a) l = L.marker(e.get("latlng"), {
                        type: e.get("type"),
                        active: !1,
                        majority: e.get("majority"),
                        clickable: !1,
                        location_id: e.get("id")
                    }), f(l), s.miniMarkers.addLayer(l);
                    else {
                        var c = L.popup({
                            id: e.get("id"),
                            keepInView: !1,
                            autoPan: !0,
                            maxWidth: r ? r : 319,
                            closeOnClick: !1,
                            closeButton: s.options.dragging
                        }).setContent(o);
                        l = L.marker(e.get("latlng"), {
                            title: e.get("location_name"),
                            type: e.has("type") ? e.get("type") : 4,
                            active: !1,
                            clickable: s.options.dragging,
                            color: e.get("episode_color"),
                            majority: e.get("majority"),
                            location_id: e.get("id")
                        }), s.options.dragging && l.on("click", function(e) {
                            L.DomEvent.stop(e), l.options.popupopened ? l.openPopup() : (u(this), l.options.popupopened = !0, i.filtersCollection.findWhere({
                                category: this.options.type
                            }).get("icon") ? (n.publish("map:openpanel"), n.publish("map:showcategory", this.options.type)) : n.publish("map:closepanel"))
                        }), m(l), l.options.color = e.get("episode_color"), l.bindPopup(c), c.options.marker = l, s.popups.push(c), s.markers.addLayer(l)
                    }
                    return l
                },
                c = document.createElement("img");
            c.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzRCQ0I5NzA4RkQwMTFFMzhBNUFDOUQ1QzFGODkwM0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzRCQ0I5NzE4RkQwMTFFMzhBNUFDOUQ1QzFGODkwM0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNEJDQjk2RThGRDAxMUUzOEE1QUM5RDVDMUY4OTAzRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDNEJDQjk2RjhGRDAxMUUzOEE1QUM5RDVDMUY4OTAzRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiIeJgwAAAWqSURBVHja7JlPSCNXHMffTCaJ8W+ipoSq7e6h2EtPnpYWapGiqyLCRsWDB3E9KaJgT3rpQaGKeBLao70ICv0D4kEPLtaqCIJQ7SqWIl3QLuq6azT/M9PfG34jz5dMNjOZlF3wwY9JJsmbz3zf79+bCIqikHd9iOQ9GPeQ95D3kCaGxJ/o6+sz8vulq6urx9XV1YnR0dFX09PT0vb2tuDxeAQDc8jn5+dCf39/7PDw0Lu2tkaKi4tb4fyvMzMzqSFlWc54dsixE5Ikbfv9/gC8fdLd3f1NZ2fnG5vNlmcA8iqRSDwtKSn5ZH19/Re4/gOw39Mq6XQ61WM0GlWBBUFfFPjsWSQSeVZWVlYEb790w4DjK7CYAUgbGL2p3wKBwGwqkZIgLy4uCChBCgoK1NfplKU34vV6CShxA29LwRbBIqnmTTPiVBuwXrhZsr+/T+gR5tSHXFxcJKAOaWtrI729veTs7EwXFPyR1NbWEp/PR79wri2Gwbiw4THY09NDLi8vye7uLiksLLzjV3cMfENd8vLyckKdmP88jf2oZDee0HmCwSDZ2NhQQbW5ky4GkanKbbfbb5XNEHImS8hGvblT5km6vEVFRUQURdLa2kqWlpYyWbZAFqmQtmJBw8lcU5WCNjU1ZQJ6nQUkzQYhUxWHKqo5cFdXFxkbG1MjXmfcZAEZSfd7MYOErfooTTdQVUh9fb0agTmADJqG1BSlgVRaWkp2dnZIS0sLWVhYsBIynDUkqyoFhfJF2tvbyfDwsFU+mXa5JcNhiKCxWIxMTU2pgTUxMZFtdEcsU5IFpctP09Tk5CQZGRmhpy9x2cyMKFjC8n6SgkIHREGF8fFxO7RpiXRqZKAkMbPcItZVB5odv0/P0daI1mvB4XCoQQO9oJaQS01Axo1C+sDKcQkKaB+Byygy8AJCCxD59LUYDocTb1PESsgLBKMXpf3hRwilmcLAamoLR0dHUWgO4vn5+WYgg0b3ODH8EVXlJQaEF4yWnnxUl5oL2zKby+USj4+Pg6enp1GTShqG5MdfYP+gYnIKU/Ly8sjJyUkcek/ZJOSNFbvF5+gCjjRdjAgRHzcJGbACkl78AF1BYvySn+s6F0oaqTivEfQz/B2ffGmkvzFDCK5yNT8/n3R+cHDQVFk8BaM7w4eaP3KQpkrj3t5eYGhoSBfSTMX5G+wM8+QdJePxuClICDxLAof3zz+xk9ZA1fwJ1SdkBhL61TAzj2W1O4z+Sf3Sjk+LHSsrKwfoEkbG/urq6h8MZBKowD+Opl24gSbjYzh8Suehm/lrGM3NzZ6BgYG2urq6BiwCeuNgc3PzBxjfz87Ohpn9t6LZLRu/faRPLzI1bNcegtXAfr3G7XZ/DVPWgo896ujoeAr7559gzhC3dX25tbX1bWNj4wOoVLduia5jY3qDW6YkJdM9++FXgYluAZpfCaC9cHSFQiF6oRJ4X+73+6saGhraYIW+gIr08/Ly8ndzc3PPEcaFc8TQdRJs1riVklfSwBCYJkPCOu7Euu4GWB/0m1/B60dgj2tqamhW+BysGIy6SQXYB2Ae7AuS1Ez7cMDgYGEdeLE8yJkipKQXtEGpqqoqrKiokCorKz9ESImBEbkuK+dPegXm6MClC8F2uBj6TTtAe/C8wPqeHpxudBv0Sc1saHbGnHjOCUtfBf7pg83bv6DwC2wDtSY5xpjml1p0K7mAlDhQzWRM/i5UMJbC4nqQUpbLq92hzOx7Epyfas8gXUxTrcHEmYiWmchWstp3vwWYhYzjORvn+zIDmZR2LHk4wEEJzJ3LXCAojBsI3HdZuISOiopVSiqoErvs7EaNVZa/IZn5XGFMcxtLl5tVkH3NqitwN8bDKpyRXPok4RRNlQeVFLBKrnxSDzAVnB5kqiPJpZJ8MOndhN6Nkf8LUu/iQqZAGZXFd3G8F38l/yfAAEsVhd17wyJBAAAAAElFTkSuQmCC";
            var h = [],
                d = [];
            i.filtersCollection.each(function(e) {
                var t = document.createElement("img");
                t.setAttribute("src", e.get("markermask")), h.push(t), t = document.createElement("img"), t.setAttribute("src", e.get("markeractivemask")), d.push(t)
            });
            var p = function(e, t) {
                    if (e.options.color) {
                        var i = $(e._icon).find("img").get(0);
                        if (i) {
                            var n = t ? d[e.options.type] : h[e.options.type],
                                a = document.createElement("canvas"),
                                s = a.getContext("2d");
                            $(i).data("filled", !1);
                            var o = function(t) {
                                if (!$(t).data("filled")) {
                                    var i = 41,
                                        o = 54;
                                    a.width = i, a.height = o, s.drawImage(n, 0, 0, i, o), s.globalCompositeOperation = "source-in", s.fillStyle = e.options.color, s.fillRect(0, 0, i, o), s.globalCompositeOperation = "destination-over", s.drawImage(c, 0, 0), t.setAttribute("src", a.toDataURL()), $(t).data("filled", !0)
                                }
                            };
                            $(i).one("load", function() {
                                o(this)
                            }).each(function() {
                                this.complete && $(this).load()
                            })
                        }
                    }
                },
                u = function(e) {
                    $(e._icon).show(), s.markers.eachLayer(function(e) {
                        e.options.active && (m(e, !1, e.options.color), e.options.active = !1)
                    }), e.options.active = !0, m(e, !0, e.options.color)
                },
                m = function(e, t, n) {
                    if (e) {
                        var a = '<img src="' + Chaplin.Application.assetsUrl + 'marker-icon-0.png" />',
                            o = s.getZoom() - i.mapMinZoom >= e.options.majority,
                            r = L.divIcon({
                                className: "episodic-marker",
                                iconAnchor: [27, 42],
                                popupAnchor: [0, -35],
                                html: a + '<p data-color="' + n + '" data-id="' + e.options.location_id + '">' + e.options.title + "</p>"
                            });
                        e.setIcon(r), $(e._icon).on("touchend", function(t) {
                            s.options.dragging && (e.openPopup(), t.preventDefault(), t.stopPropagation())
                        }), n ? (e.options.color = n, p(e, t)) : e.options.color = null, e.options.active || $(e._icon).toggle(o)
                    }
                },
                f = function(e, t, i) {
                    e.setIcon(L.divIcon({
                        className: "mini-marker",
                        iconAnchor: [0, 0],
                        html: '<span data-id="' + e.options.location_id + '" style="background-color:' + i + "; font-size: " + (1.5 - .25 * e.options.majority) + 'em;"></span>'
                    })), $(e._icon).toggle(i ? !0 : !1)
                };
            return s.addMarker = l, s.setMarkerColor = p, s.setActiveMarker = u, s.setMarkerIcon = m, s.setMiniMarkerIcon = f, s
        };
    i.exports = a
}), require.register("lib/omniture-module", function(e, t, i) {
    var n = t("models/cookie-model"),
        a = function(e) {
            var i = {
                seriesName: "Game of Thrones",
                siteName: "Viewers Guide"
            };
            _.extend(i, e);
            var a = new n,
                o = t("models/languages-collection"),
                r = "en" === o.findWhere({
                    name: a.get("lang")
                }).get("name") ? "english" : "spanish",
                l = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),
                c = "desktop";
            if (l) {
                var h = navigator.userAgent.toLowerCase();
                switch (h.match(/ipad/), h.match(/iphone/), h.match(/android/), h.match(/mobile/)) {
                    case !1:
                        c = "ipad";
                        break;
                    case !1:
                        c = "iphone";
                        break;
                    case !0:
                        c = "android";
                        break;
                    case !1:
                        c = "android tablets";
                        break;
                    default:
                        c = "other"
                }
            }
            s.events = s.prop61 = s.eVar61 = s.eVar47 = s.prop47 = s.eVar46 = s.prop46 = s.eVar45 = s.prop45 = s.eVar10 = s.prop10 = s.eVar22 = s.prop22 = s.eVar30 = s.prop30 = s.eVar42 = s.prop42 = s.prop19 = s.eVar19 = s.prop33 = s.eVar33 = s.prop34 = s.eVar34 = s.prop52 = s.eVar52 = s.prop53 = s.eVar53 = s.prop54 = s.eVar54 = s.prop55 = s.eVar55 = s.eVar1 = s.hier1 = s.pageName = s.prop57 = s.eVar57 = "", s.linkTrackVars = "events,eVar10,prop10,eVar22,prop22,eVar30,prop30,eVar42,prop42,", null != i.contentType && (s.linkTrackVars += ",prop61,eVar61"), null != i.section3 && (s.linkTrackVars += ",prop47,eVar47"), null != i.section2 && (s.linkTrackVars += ",prop46,eVar46"), s.linkTrackVars += ",prop45,eVar45", i.extras && ("video" == i.extras && (s.linkTrackVars += ",prop19,eVar19", s.linkTrackEvents = "event61"), ("facebook" == i.extras || "twitter" == i.extras || "tumblr" == i.extras) && (s.linkTrackVars += ",prop33,eVar33,prop34,eVar34", s.linkTrackEvents = "event17"), "hbo" == i.extras && (s.linkTrackVars += ",prop52,eVar52,prop53,eVar53,prop54,eVar54,prop55,eVar55}")), i.special && ("spoiler-guard-yes" === i.special ? (s.prop69 = s.eVar69 = "yes I'll continue", s.prop57 = s.eVar57 = i.special, s.linkTrackVars += ",prop69,eVar69,eVar57,events", s.linkTrackEvents = "event65", s.events = "event65") : "spoiler-guard-no" === i.special ? (s.prop69 = s.eVar69 = "no Ill choose", s.linkTrackVars += ",prop69,eVar69,eVar57,events", s.linkTrackEvents = "event65", s.events = "event65") : i.special.startsWith("S:") ? (s.prop57 = s.eVar57 = i.special, s.linkTrackVars += ",prop69,eVar69,eVar57,events", s.linkTrackEvents = "event65", s.events = "event65") : "most-recent" === i.special ? (s.prop57 = s.eVar57 = "home: most recent episode", s.linkTrackVars += ",prop69,eVar69,eVar57,events", s.linkTrackEvents = "event65", s.events = "event65") : "link-click" === i.special ? (s.prop57 = s.eVar57 = i.extra, s.linkTrackVars += ",prop69,eVar69,eVar57,events", s.linkTrackEvents = "event65", s.events = "event65") : "episodes-page" === i.special ? (s.prop57 = s.eVar57 = "scrolled!", s.linkTrackVars += ",prop69,eVar69,eVar57,events", s.linkTrackEvents = "event65", s.events = "event65") : "episode-selected" === i.special && (s.prop57 = s.eVar57 = i.extra, s.linkTrackVars += ",prop69,eVar69,eVar57,events", s.linkTrackEvents = "event65", s.events = "event65")), s.pageName = s.hier1 = s.eVar1 = "series: game of thrones: inside: viewers guide: ", s.prop45 = i.siteName, s.eVar45 = i.siteName, null != i.section2 && (s.pageName = s.hier1 = s.eVar1 = "series: game of thrones: inside: viewers guide: " + i.section2.toLowerCase(), s.prop46 = i.siteName + ": " + i.section2, s.eVar46 = i.siteName + ": " + i.section2), null != i.section3 && (s.pageName = s.hier1 = s.eVar1 = "series: game of thrones: inside: viewers guide: " + i.section2.toLowerCase() + ": " + i.section3.toLowerCase(), s.prop47 = i.siteName + ": " + i.section2 + ": " + i.section3, s.eVar47 = i.siteName + ": " + i.section2 + ": " + i.section3), null != i.contentType && (s.pageName = s.hier1 = s.eVar1 = "series: game of thrones: inside: viewers guide: " + i.section2.toLowerCase() + ": " + i.section3.toLowerCase() + ": " + i.contentType.toLowerCase() + ": " + i.contentName.toLowerCase(), s.prop61 = i.siteName + ": " + i.section2 + ": " + i.section3.toLowerCase() + ": " + i.contentType + ": " + i.contentName, s.eVar61 = i.siteName + ": " + i.section2 + ": " + i.section3.toLowerCase() + ": " + i.contentType + ": " + i.contentName), i.extras && ("video" == i.extras && (s.eVar19 = i.contentName, s.prop19 = i.contentName, s.events = "event61"), "facebook" == i.extras && (s.eVar33 = s.prop33 = "Facebook", s.eVar34 = s.prop34 = "Share", s.events = "event17"), "twitter" == i.extras && (s.eVar33 = s.prop33 = "Twitter", s.eVar34 = s.prop34 = "Tweet", s.events = "event17"), "tumblr" == i.extras && (s.eVar33 = s.prop33 = "Tumblr", s.eVar34 = s.prop34 = "Post", s.events = "event17"), "hbo" == i.extras && (s.eVar52 = s.pageName, s.eVar53 = i.seriesName, s.eVar54 = "Watch GO", s.eVar55 = i.siteName, s.prop52 = s.pageName, s.prop53 = i.seriesName, s.prop54 = "Watch GO", s.prop55 = i.siteName, s.events = "event55")), l = l ? "yes" : "no", s.prop10 = i.seriesName, s.prop22 = r, s.prop30 = l + "", s.prop42 = c, s.eVar10 = i.seriesName, s.eVar22 = r, s.eVar30 = l + "", s.eVar42 = c, this.fire = function() {
                s.t()
            }, this.fireEvent = function(e) {
                s.tl(window, "o", e)
            }
        };
    i.exports = a
}), require.register("lib/retina-1.1.0", function(e, t, i) {
    RetinaModule = function() {
        function t() {}

        function i(e, t) {
            this.path = e, "undefined" != typeof t && null !== t ? (this.at_2x_path = t, this.perform_check = !1) : (this.at_2x_path = e.replace(/\.\w+$/, function(e) {
                return "@2x" + e
            }), this.perform_check = !0)
        }

        function n(e) {
            this.el = e, this.path = new i(this.el.getAttribute("src"), this.el.getAttribute("data-at2x"));
            var t = this;
            ~this.el.getAttribute("src").indexOf("@2x") || this.path.check_2x_variant(function(e) {
                e && t.swap()
            })
        }
        var a = "undefined" != typeof e && e.length ? e : window,
            s = {
                check_mime_type: !0
            };
        a.Retina = t, t.configure = function(e) {
            null == e && (e = {});
            for (var t in e) s[t] = e[t]
        }, t.init = function(e) {
            null == e && (e = a);
            var t, i, s = (e.onload || new Function, document.getElementsByTagName("img")),
                o = [];
            for (t = 0; t < s.length; t++) i = s[t], o.push(new n(i))
        }, t.isRetina = function() {
            var e = "(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)";
            return a.devicePixelRatio > 1 ? !0 : a.matchMedia && a.matchMedia(e).matches ? !0 : !1
        }, a.RetinaImagePath = i, i.confirmed_paths = [], i.prototype.is_external = function() {
            return !(!this.path.match(/^https?\:/i) || this.path.match("//" + document.domain))
        }, i.prototype.check_2x_variant = function(e) {
            var t, n = this;
            if (this.is_external()) return e(!1);
            if (!this.perform_check && "undefined" != typeof this.at_2x_path && null !== this.at_2x_path) return e(!0);
            if (this.at_2x_path in i.confirmed_paths) return e(!0);
            t = new XMLHttpRequest, t.open("HEAD", this.at_2x_path, !0), t.onreadystatechange = function() {
                if (4 != t.readyState) return e(!1);
                if (t.status >= 200 && t.status <= 399) {
                    if (s.check_mime_type) {
                        var a = t.getResponseHeader("Content-Type");
                        if (null == a || !a.match(/^image/i)) return e(!1)
                    }
                    return i.confirmed_paths.push(n.at_2x_path), e(!0)
                }
                return e(!1)
            };
            try {
                t.send()
            } catch (a) {
                console.log(a)
            }
        }, a.RetinaImage = n, n.prototype.swap = function(e) {
            function t() {
                i.el.complete ? (i.el.setAttribute("width", i.el.offsetWidth), i.el.setAttribute("height", i.el.offsetHeight), i.el.setAttribute("src", e)) : setTimeout(t, 5)
            }
            "undefined" == typeof e && (e = this.path.at_2x_path);
            var i = this;
            t()
        }, t.isRetina() && t.init(a)
    }, i.exports = RetinaModule
}), require.register("lib/retina-1.4.0", function(e) {
    ! function() {
        function t() {}

        function i(e) {
            return o.retinaImageSuffix + e
        }

        function n(e, t) {
            if (this.path = e || "", "undefined" != typeof t && null !== t) this.at_2x_path = t, this.perform_check = !1;
            else {
                if (void 0 !== document.createElement) {
                    var n = document.createElement("a");
                    n.href = this.path, n.pathname = n.pathname.replace(r, i), this.at_2x_path = n.href
                } else {
                    var a = this.path.split("?");
                    a[0] = a[0].replace(r, i), this.at_2x_path = a.join("?")
                }
                this.perform_check = !0
            }
        }

        function a(e) {
            this.el = e, this.path = new n(this.el.getAttribute("src"), this.el.getAttribute("data-at2x"));
            var t = this;
            this.path.check_2x_variant(function(e) {
                e && t.swap()
            })
        }
        var s = "undefined" == typeof e ? window : e,
            o = {
                retinaImageSuffix: "@2x",
                check_mime_type: !0,
                retinaImgTagSelector: "body img",
                force_original_dimensions: !0
            };
        s.Retina = t, t.configure = function(e) {
            null === e && (e = {});
            for (var t in e) e.hasOwnProperty(t) && (o[t] = e[t])
        }, t.init = function(e) {
            null === e && (e = s), e.addEventListener("load", function() {
                var e, t, i = document.querySelectorAll(o.retinaImgTagSelector),
                    n = [];
                for (e = 0; e < i.length; e += 1) t = i[e], t.getAttributeNode("data-no-retina") || t.src && n.push(new a(t))
            })
        }, t.isRetina = function() {
            var e = "(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";
            return s.devicePixelRatio > 1 ? !0 : s.matchMedia && s.matchMedia(e).matches ? !0 : !1
        };
        var r = /\.[\w\?=]+$/;
        s.RetinaImagePath = n, n.confirmed_paths = [], n.prototype.is_external = function() {
            return !(!this.path.match(/^(https?\:|\/\/)/i) || this.path.match("//" + document.domain))
        }, n.prototype.check_2x_variant = function(e) {
            var t, i = this;
            return this.perform_check || "undefined" == typeof this.at_2x_path || null === this.at_2x_path ? this.at_2x_path in n.confirmed_paths ? e(!0) : this.is_external() ? e(!1) : (t = new XMLHttpRequest, t.open("HEAD", this.at_2x_path), t.onreadystatechange = function() {
                if (4 !== t.readyState) return e(!1);
                if (t.status >= 200 && t.status <= 399) {
                    if (o.check_mime_type) {
                        var a = t.getResponseHeader("Content-Type");
                        if (null === a || !a.match(/^image/i)) return e(!1)
                    }
                    return n.confirmed_paths.push(i.at_2x_path), e(!0)
                }
                return e(!1)
            }, t.send(), void 0) : e(!0)
        }, s.RetinaImage = a, a.prototype.swap = function(e) {
            function t() {
                i.el.complete ? (o.force_original_dimensions && (0 === i.el.offsetWidth && 0 === i.el.offsetHeight ? (i.el.setAttribute("width", i.el.naturalWidth), i.el.setAttribute("height", i.el.naturalHeight)) : (i.el.setAttribute("width", i.el.offsetWidth), i.el.setAttribute("height", i.el.offsetHeight))), i.el.setAttribute("src", e)) : setTimeout(t, 5)
            }
            "undefined" == typeof e && (e = this.path.at_2x_path);
            var i = this;
            t()
        }, t.isRetina() && t.init(s)
    }()
}), require.register("lib/s_code", function() {
    function e(e) {
        e.campaign || (e.campaign = t("camp")), "" != e.getQueryParam("k_clickid") && (e.eVar43 = /[^\#]+/.exec(e.getQueryParam("k_clickid"))), "" != e.getQueryParam("tracking_ID") && (e.eVar41 = /[^\#]+/.exec(e.getQueryParam("tracking_ID")))
    }

    function t(e) {
        var t = "",
            i = location.search.substr(location.search.indexOf("?") + 1);
        i = i.split("&");
        for (var n = 0; n < i.length; n++)
            if (pair = i[n].split("="), [pair[0]] == e) {
                t = pair[1];
                break
            }
        return t
    }

    function i(e, t, i) {
        var n, a, s, o, r = 's.version=\'H.23.3\';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function(\'var e;try{console.log("\'+s.rep(s.rep(m,"\\n","\\\\n"),"\\"","\\\\\\"")+\'");}catch(e){}\');tcf()};s.cls=function(x,c){var i,y=\'\';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return y};s.fl=function(x,l){retur' + "n x?(''+x).substring(0,l):x};s.co=function(o){if(!o)return o;var n=new Object,x;for(x in o)if(x.indexOf('select')<0&&x.indexOf('filter')<0)n[x]=o[x];return n};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3)x=encodeURIComponent(x);else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=escape(''+x);x=s.rep(x,'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this;if(x){x=s.rep(''+x,'+',' ');return s.em==3?decodeURIComponent(x):unescape(x)}return x};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+(un),im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im.src=rs;if((!ta||ta=='_self'||ta=='_top'||(s.wd.name&&ta==s.wd.name))&&rs.indexOf('&pe=')>=0){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v) {if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(k)>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';v=s.fl(v,255)}else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.substring(0,1)!='#'&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=s.co(this);s.t();s.lnk=0;if(b)return this[b](e);return true');s.bc=new Function('e','var s=s_c_il['+s._in+'],f,tcf;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;s.eo=e.srcElement?e.srcElement:e.target;tcf=new Function(\"s\",\"var e;try{if(s.eo&&(s.eo.tagName||s.eo.parentElement||s.eo.parentNode))s.t()}catch(e){}\");tcf(s);s.eo=0');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener)s.b.addEventListener('click',s.bc,false);else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next)j='1.7'}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk;if(!o)return '';var p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(!o)return '';t=s.ot(o);n=s.oid(o);x=o.s_oidt}oc=o.onclick?''+o.onclick:'';if((oc.indexOf(\"s_gs(\")>=0&&oc.indexOf(\".s_oc(\")<0)||oc.indexOf(\".tl(\")>=0)return ''}if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l))q+='&pe=lnk_'+(t=='d'||t=='e'?s.ape(t):'o')+(h?'&pev1='+s.ape(h):'')+(l?'&pev2='+s.ape(l):'');else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}if(!trk&&!qs)return '';s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs);}else{s.dl(vo);}if(vo)s.voa(vb,1);s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo){var s=this;s.lnk=s.co(o);s.linkType=t;s.linkName=n;s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.jsLoaded=function(){var s=this,x;if(s.lmq)for(i=0;i<s.lmq.length;i++){x=s.lmq[i];s.loadModule(x.n,x.u,x.d)}if(s.onLoad)s.onLoad(s);if(s.tq)for(i=0;i<s.tq.length;i++)s.t(s.tq[i])};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='dynamicVariablePrefix,visitorID,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,currencyCode';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){s_gi(\"_\",1,1).co(o)};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",
            l = window,
            c = l.s_c_il,
            h = navigator,
            d = h.userAgent,
            p = h.appVersion,
            u = p.indexOf("MSIE "),
            m = d.indexOf("Netscape6/");
        if (e && (e = e.toLowerCase(), c))
            for (a = 0; a < c.length; a++)
                if (o = c[a], s = o._c, s && "s_c" != s && "s_l" != s || !(o.oun == e || o.fs && o.sa && o.fs(o.oun, e))) o = 0;
                else if (o.sa && o.sa(e), "s_c" == s) return o;
        return l.s_an = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz", l.s_sp = new Function("x", "d", "var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a"), l.s_jn = new Function("a", "d", "var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x"), l.s_rep = new Function("x", "o", "n", "return s_jn(s_sp(x,o),n)"), l.s_d = new Function("x", "var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x"), l.s_fe = new Function("c", "return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")"), l.s_fa = new Function("f", "var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a"), l.s_ft = new Function("c", "c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;"), r = s_d(r), u > 0 ? (n = parseInt(a = p.substring(u + 5)), n > 3 && (n = parseFloat(a))) : n = parseFloat(m > 0 ? d.substring(m + 10) : p), (5 > n || p.indexOf("Opera") >= 0 || d.indexOf("Opera") >= 0) && (r = s_ft(r)), o || (o = new Object, l.s_c_in || (l.s_c_il = new Array, l.s_c_in = 0), o._il = l.s_c_il, o._in = l.s_c_in, o._il[o._in] = o, l.s_c_in++), o._c = "s_c", new Function("s", "un", "pg", "ss", r)(o, e, t, i), o
    }
    var n, a = [];
    a.push([/^uqa.hbogo.com$/, "hbobhbogodev"]), a.push([/^qa.hbogo.com$/, "hbobhbogodev"]), a.push([/^preprd.hbogo.com$/, "hbobhbogodev"]), a.push([/^uprod.hbogo.com$/, "hbobhbogodev"]), a.push([/^www.hbogo.com$/, "hbobhbogoprod,hbobhboglobal"]);
    for (var s = 0; s < a.length; s++) window.location.host.match(a[s][0]) && (n = a[s][1]);
    n = window.location.host.match(/.inhbogo.com$/i) ? "hbobhbogodev" : n;
    var o = i(n);
    o.linkInternalFilters = "javascript:,hbogo.com", o.trackingServer = "metrics.hbogo.com", o.charSet = "ISO-8859-1", o.currencyCode = "USD", o.trackDownloadLinks = !0, o.trackExternalLinks = !0, o.trackInlineStats = !0, o.linkDownloadFileTypes = "exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls", o.linkLeaveQueryString = !1, o.linkTrackVars = "None", o.linkTrackEvents = "None", o.cookieDomainPeriods = 2, o.visitorNamespace = "hbobroadband", o.dc = "122", o.usePlugins = !0, o.doPlugins = e, o.getQueryParam = new Function("p", "d", "u", "var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:''+s.wd.location);u=u=='f'?''+s.gtfs().location:u;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u);if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v"), o.p_gpv = new Function("k", "u", "var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v"), o.p_gvf = new Function("t", "k", "if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return ''"), o.getValOnce = new Function("v", "c", "e", "var s=this,a=new Date,v=v?v:v='',c=c?c:c='s_gvo',e=e?e:0,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v")
}), require.register("lib/snowfall.jquery", function() {
    ! function() {
        for (var e = 0, t = ["webkit", "moz"], i = 0; i < t.length && !window.requestAnimationFrame; ++i) window.requestAnimationFrame = window[t[i] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[i] + "CancelAnimationFrame"] || window[t[i] + "CancelRequestAnimationFrame"];
        window.requestAnimationFrame || (window.requestAnimationFrame = function(t) {
            var i = (new Date).getTime(),
                n = Math.max(0, 16 - (i - e)),
                a = window.setTimeout(function() {
                    t(i + n)
                }, n);
            return e = i + n, a
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
            clearTimeout(e)
        })
    }(),
    function(e) {
        e.snowfall = function(t, i) {
            function n(n, a, s, r, l) {
                this.id = l, this.x = n, this.y = a, this.size = s, this.speed = r, this.step = 0, this.stepSize = o(1, 10) / 100, i.collection && (this.target = f[o(0, f.length - 1)]);
                var c = null;
                i.image ? (c = e(document.createElement("img")), c[0].src = i.image) : (c = e(document.createElement("div")), c.css({
                    background: i.flakeColor,
                    "-webkit-filter": "blur(1px)"
                })), c.attr({
                    "class": "snowfall-flakes",
                    id: "flake-" + this.id
                }).css({
                    width: this.size,
                    height: this.size,
                    position: i.flakePosition,
                    top: this.y,
                    left: this.x,
                    fontSize: 0,
                    zIndex: i.flakeIndex
                }), e(t).get(0).tagName === e(document).get(0).tagName ? (e("body").append(c), t = e("body")) : e(t).append(c), this.element = document.getElementById("flake-" + this.id), this.update = function() {
                    if (this.y += this.speed, this.y > h - (this.size + 6) && this.reset(), this.element.style.top = this.y + "px", this.element.style.left = this.x + "px", this.step += this.stepSize, this.x += x === !1 ? Math.cos(this.step) : x + Math.cos(this.step), i.collection && this.x > this.target.x && this.x < this.target.width + this.target.x && this.y > this.target.y && this.y < this.target.height + this.target.y) {
                        var e = this.target.element.getContext("2d"),
                            t = this.x - this.target.x,
                            n = this.y - this.target.y,
                            a = this.target.colData;
                        if (void 0 !== a[parseInt(t)][parseInt(n + this.speed + this.size)] || n + this.speed + this.size > this.target.height)
                            if (n + this.speed + this.size > this.target.height) {
                                for (; n + this.speed + this.size > this.target.height && this.speed > 0;) this.speed *= .5;
                                e.fillStyle = "#fff", void 0 == a[parseInt(t)][parseInt(n + this.speed + this.size)] ? (a[parseInt(t)][parseInt(n + this.speed + this.size)] = 1, e.fillRect(t, n + this.speed + this.size, this.size, this.size)) : (a[parseInt(t)][parseInt(n + this.speed)] = 1, e.fillRect(t, n + this.speed, this.size, this.size)), this.reset()
                            } else this.speed = 1, this.stepSize = 0, parseInt(t) + 1 < this.target.width && void 0 == a[parseInt(t) + 1][parseInt(n) + 1] ? this.x++ : parseInt(t) - 1 > 0 && void 0 == a[parseInt(t) - 1][parseInt(n) + 1] ? this.x-- : (e.fillStyle = "#fff", e.fillRect(t, n, this.size, this.size), a[parseInt(t)][parseInt(n)] = 1, this.reset())
                    }(this.x > d - p || this.x < p) && this.reset()
                }, this.reset = function() {
                    this.y = 0, this.x = o(p, d - p), this.stepSize = o(1, 10) / 100, this.size = o(100 * i.minSize, 100 * i.maxSize) / 100, this.speed = o(i.minSpeed, i.maxSpeed)
                }
            }

            function a() {
                for (c = 0; c < r.length; c += 1) r[c].update();
                u = requestAnimationFrame(function() {
                    a()
                })
            }
            var s = {
                    flakeCount: 35,
                    flakeColor: "#ffffff",
                    flakePosition: "absolute",
                    flakeIndex: 999999,
                    minSize: 1,
                    maxSize: 2,
                    minSpeed: 1,
                    maxSpeed: 5,
                    round: !1,
                    shadow: !1,
                    collection: !1,
                    collectionHeight: 40,
                    deviceorientation: !1
                },
                i = e.extend(s, i),
                o = function(e, t) {
                    return Math.round(e + Math.random() * (t - e))
                };
            e(t).data("snowfall", this);
            var r = [],
                l = 0,
                c = 0,
                h = e(t).height(),
                d = e(t).width(),
                p = 0,
                u = 0;
            if (i.collection !== !1) {
                var m = document.createElement("canvas");
                if (m.getContext && m.getContext("2d"))
                    for (var f = [], g = e(i.collection), v = i.collectionHeight, c = 0; c < g.length; c++) {
                        var w = g[c].getBoundingClientRect(),
                            b = document.createElement("canvas"),
                            y = [];
                        if (w.top - v > 0) {
                            document.body.appendChild(b), b.style.position = i.flakePosition, b.height = v, b.width = w.width, b.style.left = w.left + "px", b.style.top = w.top - v + "px";
                            for (var _ = 0; _ < w.width; _++) y[_] = [];
                            f.push({
                                element: b,
                                x: w.left,
                                y: w.top - v,
                                width: w.width,
                                height: v,
                                colData: y
                            })
                        }
                    } else i.collection = !1
            }
            for (e(t).get(0).tagName === e(document).get(0).tagName && (p = 25), e(window).bind("resize", function() {
                    h = e(t)[0].clientHeight, d = e(t)[0].offsetWidth
                }), c = 0; c < i.flakeCount; c += 1) l = r.length, r.push(new n(o(p, d - p), o(0, h), o(100 * i.minSize, 100 * i.maxSize) / 100, o(i.minSpeed, i.maxSpeed), l));
            i.round && e(".snowfall-flakes").css({
                "-moz-border-radius": i.maxSize,
                "-webkit-border-radius": i.maxSize,
                "border-radius": i.maxSize
            }), i.shadow && e(".snowfall-flakes").css({
                "-moz-box-shadow": "1px 1px 1px #555",
                "-webkit-box-shadow": "1px 1px 1px #555",
                "box-shadow": "1px 1px 1px #555"
            });
            var x = !1;
            i.deviceorientation && e(window).bind("deviceorientation", function(e) {
                x = .1 * e.originalEvent.gamma
            }), a(), this.clear = function() {
                e(t).children(".snowfall-flakes").remove(), r = [], cancelAnimationFrame(u)
            }
        }, e.fn.snowfall = function(t) {
            return "object" == typeof t || void 0 == t ? this.each(function() {
                new e.snowfall(this, t)
            }) : "string" == typeof t ? this.each(function() {
                var t = e(this).data("snowfall");
                t && t.clear()
            }) : void 0
        }
    }(jQuery)
}), require.register("lib/sprintf", function(e) {
    ! function(e) {
        function t(e) {
            return Object.prototype.toString.call(e).slice(8, -1).toLowerCase()
        }

        function i(e, t) {
            for (var i = []; t > 0; i[--t] = e);
            return i.join("")
        }
        var n = function() {
            return n.cache.hasOwnProperty(arguments[0]) || (n.cache[arguments[0]] = n.parse(arguments[0])), n.format.call(null, n.cache[arguments[0]], arguments)
        };
        n.format = function(e, a) {
            var s, o, r, l, c, h, d, p = 1,
                u = e.length,
                m = "",
                f = [];
            for (o = 0; u > o; o++)
                if (m = t(e[o]), "string" === m) f.push(e[o]);
                else if ("array" === m) {
                if (l = e[o], l[2])
                    for (s = a[p], r = 0; r < l[2].length; r++) {
                        if (!s.hasOwnProperty(l[2][r])) throw n('[sprintf] property "%s" does not exist', l[2][r]);
                        s = s[l[2][r]]
                    } else s = l[1] ? a[l[1]] : a[p++];
                if (/[^s]/.test(l[8]) && "number" != t(s)) throw n("[sprintf] expecting number but found %s", t(s));
                switch (l[8]) {
                    case "b":
                        s = s.toString(2);
                        break;
                    case "c":
                        s = String.fromCharCode(s);
                        break;
                    case "d":
                        s = parseInt(s, 10);
                        break;
                    case "e":
                        s = l[7] ? s.toExponential(l[7]) : s.toExponential();
                        break;
                    case "f":
                        s = l[7] ? parseFloat(s).toFixed(l[7]) : parseFloat(s);
                        break;
                    case "o":
                        s = s.toString(8);
                        break;
                    case "s":
                        s = (s = String(s)) && l[7] ? s.substring(0, l[7]) : s;
                        break;
                    case "u":
                        s >>>= 0;
                        break;
                    case "x":
                        s = s.toString(16);
                        break;
                    case "X":
                        s = s.toString(16).toUpperCase()
                }
                s = /[def]/.test(l[8]) && l[3] && s >= 0 ? "+" + s : s, h = l[4] ? "0" == l[4] ? "0" : l[4].charAt(1) : " ", d = l[6] - String(s).length, c = l[6] ? i(h, d) : "", f.push(l[5] ? s + c : c + s)
            }
            return f.join("")
        }, n.cache = {}, n.parse = function(e) {
            for (var t = e, i = [], n = [], a = 0; t;) {
                if (null !== (i = /^[^\x25]+/.exec(t))) n.push(i[0]);
                else if (null !== (i = /^\x25{2}/.exec(t))) n.push("%");
                else {
                    if (null === (i = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))) throw "[sprintf] huh?";
                    if (i[2]) {
                        a |= 1;
                        var s = [],
                            o = i[2],
                            r = [];
                        if (null === (r = /^([a-z_][a-z_\d]*)/i.exec(o))) throw "[sprintf] huh?";
                        for (s.push(r[1]);
                            "" !== (o = o.substring(r[0].length));)
                            if (null !== (r = /^\.([a-z_][a-z_\d]*)/i.exec(o))) s.push(r[1]);
                            else {
                                if (null === (r = /^\[(\d+)\]/.exec(o))) throw "[sprintf] huh?";
                                s.push(r[1])
                            }
                        i[2] = s
                    } else a |= 2;
                    if (3 === a) throw "[sprintf] mixing positional and named placeholders is not (yet) supported";
                    n.push(i)
                }
                t = t.substring(i[0].length)
            }
            return n
        };
        var a = function(e, t, i) {
            return i = t.slice(0), i.splice(0, 0, e), n.apply(null, i)
        };
        e.sprintf = n, e.vsprintf = a
    }("undefined" != typeof e ? e : window)
}), require.register("lib/trunk8", function() {
    ! function(e) {
        function t(t) {
            this.$element = e(t), this.original_text = this.$element.html(), this.settings = e.extend({}, e.fn.trunk8.defaults)
        }

        function i() {
            var t, i, n, s, r = this.data("trunk8"),
                l = r.settings,
                c = l.width,
                h = l.side,
                d = l.fill,
                p = a.getLineHeight(this) * l.lines,
                u = r.original_text,
                m = u.length,
                f = "";
            if (this.html(u), c === o.auto) {
                if (this.height() <= p) return;
                for (t = 0, i = m - 1; i >= t;) n = t + (i - t >> 1), s = a.eatStr(u, h, m - n, d), this.html(s), this.height() > p ? i = n - 1 : (t = n + 1, f = f.length > s.length ? f : s);
                this.html(""), this.html(f), l.tooltip && this.attr("title", u)
            } else isNaN(c) ? e.error('Invalid width "' + c + '".') : (n = m - c, s = a.eatStr(u, h, n, d), this.html(s), l.tooltip && this.attr("title", u))
        }
        var n, a, s = {
                center: "center",
                left: "left",
                right: "right"
            },
            o = {
                auto: "auto"
            };
        t.prototype.updateSettings = function(t) {
            this.settings = e.extend(this.settings, t)
        }, n = {
            init: function(n) {
                return this.each(function() {
                    var a = e(this),
                        s = a.data("trunk8");
                    s || a.data("trunk8", s = new t(this)), s.updateSettings(n), i.call(a)
                })
            },
            update: function(t) {
                return this.each(function() {
                    var n = e(this);
                    t && (n.data("trunk8").original_text = t), i.call(n)
                })
            },
            revert: function() {
                return this.each(function() {
                    var t = e(this).data("trunk8").original_text;
                    e(this).html(t)
                })
            },
            getSettings: function() {
                return this.get(0).data("trunk8").settings
            }
        }, a = {
            eatStr: function(t, i, n, o) {
                var r, l, c = t.length,
                    h = a.eatStr.generateKey.apply(null, arguments);
                if (a.eatStr.cache[h]) return a.eatStr.cache[h];
                if (("string" != typeof t || 0 === c) && e.error('Invalid source string "' + t + '".'), 0 > n || n > c) e.error('Invalid bite size "' + n + '".');
                else if (0 === n) return t;
                switch ("string" != typeof(o + "") && e.error("Fill unable to be converted to a string."), i) {
                    case s.right:
                        return a.eatStr.cache[h] = e.trim(t.substr(0, c - n)) + o;
                    case s.left:
                        return a.eatStr.cache[h] = o + e.trim(t.substr(n));
                    case s.center:
                        return r = c >> 1, l = n >> 1, a.eatStr.cache[h] = e.trim(a.eatStr(t.substr(0, c - r), s.right, n - l, "")) + o + e.trim(a.eatStr(t.substr(c - r), s.left, l, ""));
                    default:
                        e.error('Invalid side "' + i + '".')
                }
            },
            getLineHeight: function(t) {
                var i, n = e(t),
                    a = n.css("float"),
                    s = n.css("position"),
                    o = n.html(),
                    r = "line-height-test";
                return "none" !== a && n.css("float", "none"), "absolute" === s && n.css("position", "static"), n.html("i").wrap('<div id="' + r + '" />'), i = e("#" + r).innerHeight(), n.html(o).css({
                    "float": a,
                    position: s
                }).unwrap(), i
            }
        }, a.eatStr.cache = {}, a.eatStr.generateKey = function() {
            return Array.prototype.join.call(arguments, "")
        }, e.fn.trunk8 = function(t) {
            return n[t] ? n[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist on jQuery.trunk8") : n.init.apply(this, arguments)
        }, e.fn.trunk8.defaults = {
            fill: "&hellip;",
            lines: 1,
            side: s.right,
            tooltip: !0,
            width: o.auto
        }
    }(jQuery)
}), require.register("lib/utils", function(e, t, i) {
    function n(e) {
        return p === !1 ? !1 : "" === p ? e : p + e.charAt(0).toUpperCase() + e.substr(1)
    }
    var a = Chaplin.utils.beget(Chaplin.utils),
        s = t("./viewport").Viewport,
        o = t("lib/omniture-module"),
        r = t("views/home/templates/pick-view"),
        l = t("./sprintf").sprintf,
        c = t("./sprintf").vsprintf,
        h = {
            article: {
                uri: "appendix#index",
                key: "read backhistory"
            },
            character: {
                uri: "people#index",
                key: "see full bio"
            },
            house: {
                uri: "houses#index",
                key: "explore house"
            },
            map: {
                uri: "map#location",
                key: "explore map"
            },
            location: {
                uri: "map#location",
                key: "explore map"
            },
            synopsis: {
                uri: "",
                key: "read synopsis"
            }
        },
        d = document.createElement("div").style,
        p = function() {
            for (var e, t = ["t", "webkitT", "MozT", "msT", "OT"], i = 0, n = t.length; n > i; i++)
                if (e = t[i] + "ransform", e in d) return t[i].substr(0, t[i].length - 1);
            return !1
        }(),
        u = n("transform"),
        m = {
            easeInOutQuad: function(e, t, i, n) {
                return e /= n / 2, 1 > e ? i / 2 * e * e + t : (e--, -i / 2 * (e * (e - 2) - 1) + t)
            }
        },
        f = function(e, t, i) {
            var n = e.scrollTop,
                a = t - n,
                s = 0,
                o = 15,
                r = function() {
                    s += o;
                    var t = m.easeInOutQuad(s, n, a, i);
                    e.scrollTop = t, i > s && setTimeout(r, o)
                };
            r()
        };
    ! function() {
        for (var e = 0, t = ["ms", "moz", "webkit", "o"], i = 0; i < t.length && !window.requestAnimationFrame; ++i) window.requestAnimationFrame = window[t[i] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[i] + "CancelAnimationFrame"] || window[t[i] + "CancelRequestAnimationFrame"];
        window.requestAnimationFrame || (window.requestAnimationFrame = function(t) {
            var i = (new Date).getTime(),
                n = Math.max(0, 16 - (i - e)),
                a = window.setTimeout(function() {
                    t(i + n)
                }, n);
            return e = i + n, a
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
            clearTimeout(e)
        })
    }(), _.extend(a, {
        getViewportInstance: function() {
            return new s
        },
        hasTransform: u !== !1,
        hasPerspective: n("perspective") in d,
        hasTouch: "ontouchstart" in window,
        hasPointer: navigator.msPointerEnabled,
        hasTransition: n("transition") in d,
        transform: u,
        prefixStyle: n,
        math: m,
        scrollTo: function(e, t) {
            var i = window.document,
                n = /webkit/i.test(navigator.userAgent) || "BackCompat" == i.compatMode ? i.body : i.documentElement;
            f(n, e, t)
        },
        pushParallaxView: function(e, t) {
            if (navigator.userAgent.indexOf("MSIE") > 0) var i = !0;
            else var i = !1;
            "ios" != window.mobile && -1 == window.device.indexOf("mobile") && e.add({
                el: t,
                enter: function() {
                    a.hasTransform && this.find(".parallax-element:visible").each(function() {
                        this.style[a.transform] = i ? "translate(0, 0)" : "translate3d(0, 0, 0)",
                            function(e) {
                                var t = setInterval(function() {
                                    var i = $(e).data("offset-height");
                                    i && ($(e).data("offset", i - e.parentNode.offsetHeight), clearInterval(t))
                                }.bind(e), 0)
                            }(this)
                    })
                },
                scroll: function(e, t) {
                    var n, s = 0;
                    switch (window.device) {
                        case "mobile":
                            n = -40;
                            break;
                        case "tablet":
                            n = -200;
                            break;
                        case "desktop":
                            n = -200;
                            break;
                        case "large-desktop":
                            n = -200;
                            break;
                        default:
                            n = -250
                    }
                    a.hasTransform ? navigator.userAgent.indexOf("MSIE") > 0 ? (n = -100, this.find(".parallax-element:visible").each(function() {
                        s = $(this).data("offset"), s > Math.abs(n / 2) ? s = s / 2 + n / 3 : s /= 2, this.style[a.transform] = i ? "translate(0, " + (n * t - s) + "px)" : "translate3d(0, " + (n * t - s) + "px, 0)"
                    })) : this.find(".parallax-element").each(function() {
                        s = $(this).data("offset"), s > Math.abs(n / 2) ? s = s / 2 + n / 3 : s /= 2, this.style[a.transform] = i ? "translate(0, " + (n * t - s) + "px)" : "translate3d(0, " + (n * t - s) + "px, 0)"
                    }) : this.find(".parallax-element:visible").css("margin-top", n * t)
                },
                leave: function() {}
            })
        },
        parseBody: function(e, t, i) {
            e.each(function() {
                this.innerHTML && (this.innerHTML = this.innerHTML.replace(/&nbsp;/g, " "))
            });
            var n = e.find("a");
            n.each(function() {
                var e = $(this),
                    n = i ? e.html() : e.text().replace(/([^\s]+)/, '<span class="first">$1</span>'),
                    a = e.data("id"),
                    s = e.data("type"),
                    o = e.data("img") ? e.data("img").trim() : null,
                    l = null;
                if (h[s]) {
                    var c = e.get(0).nextSibling.nodeValue,
                        d = c ? c[0] : " ";
                    " " !== d ? (d = c.substring(0, c.indexOf(" ")), l = d, e.get(0).nextSibling.nodeValue = c.substring(d.length)) : l = null, e.replaceWith($.trim(r({
                        text: n,
                        type: s,
                        img: o,
                        extraContent: l,
                        name: e.text(),
                        uri: "synopsis" == s ? e.attr("href") : h[s].uri,
                        id: parseInt(a),
                        inner_text: h[s].key,
                        container: t
                    })))
                }
            })
        },
        sprintf: l,
        vsprintf: c,
        getShare: function(e, t, i, n, a, s) {
            var o = {},
                r = {};
            return r.link = a || "", o.description = e + " " + t + " description", "tw" !== t && (o.caption = e + " " + t + " caption"), o.description && (r.description = _.isArray(i) ? c(Handlebars.helpers.t(o.description), i) : l(Handlebars.helpers.t(o.description), i)), o.caption && (r.caption = _.isArray(n) ? c(Handlebars.helpers.t(o.caption), n) : l(Handlebars.helpers.t(o.caption), n)), s && 3 == s.length && (r.picture = Handlebars.helpers["img-path"](s[0], s[1], s[2])), r
        },
        removeExtraSplashImagesHandler: function() {
            var e = $(".backgrounds div[asset-id] > div"),
                t = e.filter(":visible");
            t.each(function() {
                $(this).data("src") && ($(this).css("background-image", $(this).data("src")), $(this).data("src", ""))
            })
        },
        removeExtraSplashImages: function(e) {
            this.removeExtraSplashImagesHandler(e), Chaplin.mediator.unsubscribe("device:change", this.removeExtraSplashImagesHandler).subscribe("device:change", this.removeExtraSplashImagesHandler)
        },
        removeExtraImagesHandler: function(e) {
            var t = $("img.img-320,img.img-768,img.img-1024,img.img-1200,img.img-2400"),
                i = t.filter(":visible");
            if (i.each(function() {
                    $(this).data("src") ? ($(this).attr("src", $(this).data("src")), $(this).data("src", "")) : $(this).data("loaded", !0)
                }), e === !0) {
                var n = t.not(":visible");
                n.each(function() {
                    $(this).attr("src") && ($(this).data("src", $(this).attr("src")), $(this).attr("src", ""))
                })
            }
        },
        removeExtraImages: function(e) {
            this.removeExtraImagesHandler(e), Chaplin.mediator.unsubscribe("device:change", this.removeExtraImagesHandler).subscribe("device:change", this.removeExtraImagesHandler)
        },
        addPreloader: function(e, t, i) {
            var n, a = i ? [] : $(e).find("img:visible"),
                s = 0;
            i && $(e).find(i + ":visible").each(function() {
                var e = $(this).data("src").match(/url\((.*)\)/) ? $(this).data("src").match(/url\((.*)\)/)[1] : "",
                    t = document.createElement("img");
                t.setAttribute("src", e), a.push(t)
            }), a.length ? $(a).each(function() {
                $(this).on("load error", function() {
                    s++, a.length <= s && (clearTimeout(n), Chaplin.mediator.publish("loader:hide"), _.isFunction(t) && (i && $(a).remove(), t()))
                })
            }) : (Chaplin.mediator.publish("loader:hide"), _.isFunction(t) && t()), n = setTimeout(function() {
                Chaplin.mediator.publish("loader:hide"), _.isFunction(t) && t()
            }, 15e3)
        },
        checkImgLoaded: function(e, t) {
            var i = $(e).find("img:visible"),
                n = 0;
            i.length ? i.each(function() {
                var a = this;
                1 == $(a).data("loaded") ? (n++, i.length <= n && t(e)) : $(this).on("load error", function() {
                    $(a).data("loaded", !0), n++, $(this).off("load error"), i.length <= n && t(e)
                })
            }) : t(e)
        },
        getVideoData: function(e, t) {
            var i = "",
                n = "http://youtu.be/" + e;
            t(i, n)
        },
        printDebug: function(e) {
            var t = $("#debug-window");
            t.length || (t = $('<div id="debug-window"></div>'), $("body").append(t), t.css({
                position: "fixed",
                width: "100%",
                height: "20px",
                left: 0,
                bottom: 0,
                color: "#fff",
                background: "#000",
                "font-size": "2em"
            })), t.html(e)
        },
        addMetaData: function(e) {
            if (e) {
                if (e.meta_title && $("title").text(e.meta_title), e.meta_keywords) {
                    $("meta[name=keywords]").remove();
                    var t = $("<meta>").attr("name", "keywords").attr("content", e.meta_keywords);
                    $("head").prepend(t)
                }
                if (e.meta_description) {
                    $("meta[name=description]").remove();
                    var i = $("<meta>").attr("name", "description").attr("content", e.meta_description);
                    $("head").prepend(i)
                }
            }
        },
        requestMetaData: function(e) {
            var t, i = this;
            t = "houses-list" === e ? "houses_list" : "last_episodes" === e ? "last_episodes" : e, $.when($.ajax({
                type: "GET",
                url: Chaplin.Application.getServiceUrl("metaData"),
                dataType: "jsonp"
            }), $.ajax({
                type: "GET",
                url: Chaplin.Application.getServiceUrl("metaDataDefault"),
                dataType: "jsonp"
            })).then(function(n, a) {
                if (n.length && a.length) {
                    var s = n[0],
                        o = a[0];
                    s[e] ? i.addMetaData(s[t]) : o[e] && i.addMetaData(o[e])
                }
            })
        },
        spoilerGuard: function(e) {
            return function() {
                var i, n = $(e),
                    a = t("models/cookie-model"),
                    s = t("models/lists/season-model"),
                    r = t("views/splash/splash-cards-view"),
                    l = t("models/base/collection"),
                    c = new a,
                    h = new s;
                if (window._showSpoilerGuard || document.referrer.match(/google.com|bing.com|yahoo.com/) && !$.cookie("no-spoiler-guard")) {
                    window._showSpoilerGuard = !1;
                    var d = $("<div>").addClass("spoiler-guard"),
                        p = $("<div>").addClass("spoiler-guard-header"),
                        u = $("<div>").addClass("spoiler-guard-header-close").text("x"),
                        m = $("<div>").addClass("spoiler-guard-content"),
                        f = $("<div>").addClass("spoiler-guard-content-text").text("The Guide evolves with each episode. Do you want the most recent updates?"),
                        g = $("<div>").addClass("spoiler-guard-button").text("Yes, continue."),
                        v = $("<div>").addClass("spoiler-guard-button").text("No, I'll choose."),
                        w = $("<div>").addClass("body-tint-overlay"),
                        b = new Date,
                        y = new Date(b.getFullYear(), b.getMonth(), b.getDate() + 7 - b.getDay(), 21),
                        x = !1;
                    setTimeout(function() {
                        var e = $("html, body"),
                            t = e.scrollTop(),
                            i = function() {
                                x || (e.scrollTop(t), requestAnimationFrame(i))
                            };
                        requestAnimationFrame(i)
                    }, 0);
                    var k = function(e) {
                        d.add(".spoiler-guard").remove(), i && i.remove(), $.cookie("no-spoiler-guard", "true", {
                            expires: y,
                            path: "/"
                        }), n.removeClass("blurred"), $(window).off("mousewheel"), $(document).off(), $(".body-tint-overlay").fadeOut(300, function() {
                            $(this).remove(), e && e()
                        }), $(".scroll-container").remove(), x = !0
                    };
                    u.add(w).on("click", k.bind(this, null)), g.on("click", k.bind(this, function() {
                        var e = new o({
                            special: "spoiler-guard-yes"
                        });
                        e.fireEvent("spoiler-guard-yes");
                        var t = window.location.href.replace(/season-\d\/episode-\d+/, "season-4/episode-10").replace(/\?spoiler-guard=on/, "");
                        window.location.href = t
                    })), p.append(u), m.append(f).append(g).append(v), d.append(p).append(m), $("body").append(w.hide().fadeIn(), $('<div class="scroll-container">').append(d.hide().fadeIn(function() {
                        var e = /\/people|\/houses|\/map|\/histories/.exec(window.location.pathname),
                            t = "";
                        if (_.isArray(e) && e.length > 0) {
                            e = e[0].substring(1);
                            var i = window.location.pathname,
                                n = i.substr(i.indexOf("season-"), 15).match(/\d+/);
                            t = "S" + n + ":";
                            var a = i.substr(i.indexOf("episode-"), 15).match(/\d+/);
                            t += "E" + a, t += " : " + e
                        } else console.error("missing omniture section for url: ", window.location.url), e = null;
                        var s = new o({
                            section2: t,
                            section3: "spoiler guard",
                            contentType: null,
                            contentName: null,
                            extras: null
                        });
                        s.fire()
                    }))), d.prepend($("<img>").attr("src", "http://assets.viewers-guide.hbo.com/original531de918067e7.png").addClass("spoiler-guard-image"), $("<div>").text("Viewer's Guide").addClass("spoiler-guard-image-text")), n.addClass("blurred"), h.fetch({
                        success: function(e) {
                            var t = {
                                    title: e.get("title"),
                                    description: e.get("description")
                                },
                                n = new l(_.filter(e.get("seasons"), function(e) {
                                    return e.episodes.length > 0
                                }));
                            _.each(n.models, function(e) {
                                _.each(e.attributes.episodes, function(e) {
                                    "boolean" != typeof e.locked && (e.locked = parseInt(e.locked)), e.season_id < c.attributes.season_id ? e.spoiler = !1 : e.season_id == c.attributes.season_id ? e.id < c.attributes.id ? e.spoiler = !1 : e.id == c.attributes.id ? e.currently_viewing = !0 : (e.spoiler = !0, e.currently_viewing = !1) : e.spoiler = !0
                                })
                            }), v.one("click", function() {
                                var e = new o({
                                    special: "spoiler-guard-no"
                                });
                                e.fireEvent("spoiler-guard-no"), i = new r({
                                    container: d,
                                    collection: n,
                                    header: t
                                }), i.$el.find(".archived-title").remove(), i.$el.children(":not(.archived-wrapper)").hide(), i.$el.find(".scrollable header").hide();
                                var a = i.$el.find(".archived-content");
                                a.show(), d.addClass("expanded"), a.find(".episode-wrapper").on("click", function() {
                                    $(this).find(".spoiler").is(":hidden") && k()
                                }), i.$el.find(".episodes-wrapper li").attr("spoiler", "true").addClass("spoiler"), i.$el.find(".episodes-wrapper li").find("a").one("click", function() {
                                    return $(this).parents("li.spoiler").removeClass("spoiler").attr("spoiler", ""), !1
                                })
                            })
                        },
                        error: function() {},
                        data: _.merge({
                            id: c.get("id")
                        }, c.requestData()),
                        jsonpCallback: "seasons_splash",
                        url: Chaplin.Application.getServiceUrl("seasons")
                    })
                }
            }
        },
        hodorize: function() {
            var e = $(".nav-container span:not(:has(*)), .nav-container div:not(:has(*)), .nav-container p:not(:has(*)), .nav-container li:not(:has(*)), .nav-container h1:not(:has(*)), .nav-container h2:not(:has(*)), .nav-container h3:not(:has(*)), .nav-container h4:not(:has(*)), .nav-container h5:not(:has(*)), .nav-container h6:not(:has(*)), .nav-container q:not(:has(*)), .nav-container a:not(:has(*)):not([data-lang]), .page-container span:not(:has(*)), .page-container div:not(:has(*)), .page-container p:not(:has(*)), .page-container li:not(:has(*)):not([data-letter]), .page-container h1:not(:has(*)), .page-container h2:not(:has(*)), .page-container h3:not(:has(*)), .page-container h4:not(:has(*)), .page-container h5:not(:has(*)), .page-container q:not(:has(*)), .page-container a:not(:has(*)), .explore-location a, .explore-items.row p, .episode_title, .bio-wrapper p, .featured-cell-wrapper h1, .goto-char figcaption, .intro-cell-wrap h1, .intro-cell-wrap em, .intro-cell-wrap blockquote, .house-name, .goto-house figcaption, .side-layer h1, .side-layer strong, .side-layer p, h1 .cell, h1.heading"),
                t = $(".appendix-page article p"),
                i = $(".side-nav h3, .site-pages li span, .social-links li span, .language-selector span"),
                n = $(".episodic-gallery figcaption h2, .leaflet-popup-content .text-wrapper p, .leaflet-popup-content .text-wrapper strong, #episodic-scroll .pick-call span, h1.takeover-title span, .takeover-text p, .takeover-gallery .houses li span span"),
                a = $(".items-list-panel.list-panel div.filter .title"),
                s = $(".explore .hod"),
                o = $(".side-layer .see-tree span, .info span, .side-layer h1"),
                r = e.add(t).add(i).add(n).add(a).add(s).add(o);
            _.each(r, function(e) {
                var t = $.trim($(e).text());
                t && (t = t.replace(/\d/g, "").replace(/(\w+)/g, "Hodor"), $(e).text(t))
            })
        },
        getImageUrl: function(e, t) {
            e && Chaplin.Application.isRetina && (e = e.replace(/\.\w+$/, function(e) {
                return "@2x" + e
            }));
            var i = Chaplin.Application.imagesUrl;
            return i + (t ? t + "" : "") + e
        }
    }), "function" == typeof Object.seal && Object.seal(a), i.exports = a
}), require.register("lib/view-helper", function(e, t) {
    var i = t("./utils"),
        n = (t("models/base/model"), t("models/base/collection"), t("models/cookie-model")),
        a = this.translations,
        s = function(e, t) {
            return Handlebars.registerHelper(e, t)
        };
    s("with", function(e, t) {
        return !e || Handlebars.Utils.isEmpty(e) ? t.inverse(this) : t.fn(e)
    }), s("without", function(e, t) {
        var i = t.inverse;
        return t.inverse = t.fn, t.fn = i, Handlebars.helpers["with"].call(this, e, t)
    });
    var o = new n;
    Chaplin.mediator.subscribe("navbar:update", function() {
        o = new n
    }), s("url", function(e) {
        if (~e.indexOf("://")) return e;
        ~e.indexOf("#") || (e += "#index");
        var t = [].slice.call(arguments, 1),
            n = (t.pop(), t.slice(1));
        n = n.length ? n.join(" ").toLowerCase().trim().replace(/ /g, "-").replace(/[, '`\""]/g, "") : null, "home#home" == e && 3 == t.length ? (t.unshift(null == t[2] ? "episode-10" : "episode-" + t[2]), t.unshift(null == t[2] ? "season-4" : "season-" + t[2]), t.pop(), t.pop()) : o.get("season_number") && (t.unshift("episode-" + o.get("episode_number")), t.unshift("season-" + o.get("season_number"))), n && (t[3] = n);
        var a = t.length > 1 ? i.reverse(e, t) : "";
        return "appendix#index" == e && (a = a.replace(/appendix/, "histories")), a
    }), s("mobile-url", function(e, t) {
        return t ? Chaplin.Application.isMobile.any ? t : e : e
    }), s("yturl", function(e) {
        return "http://img.youtube.com/vi/" + e + "/maxresdefault.jpg"
    }), s("assetsUrl", function() {
        return Chaplin.Application.assetsUrl
    }), s("format-peek", function(e) {
        e = e.toLowerCase().split(" "); {
            var t = e[0];
            e.shift()
        }
        return e = t + "<br />" + e.join(" ")
    }), s("concat", function() {
        var e = "";
        return _.each(arguments, function(t) {
            _.isString(t) && (e += e ? " " + t : t)
        }), e
    }), s("return-nickname", function(e) {
        var t = e.indexOf('"');
        return -1 == t ? "" : e.substring(t, e.length)
    }), s("return-firstname", function(e) {
        var t = e.indexOf('"');
        return -1 == t ? e : $.trim(e.substring(0, t))
    }), s("break-all", function(e) {
        return new Handlebars.SafeString(e.trim().split(" ").join("<br>"))
    }), s("break-last", function(e, t) {
        var i = e.trim().split(" "),
            n = _.isNumber(t) ? t : 2,
            a = i.slice(0, i.length - n),
            s = i.slice(i.length - n);
        return new Handlebars.SafeString(a.length < 2 ? (1 === a.length ? a + " " : a) + s.join("<br>") : a.join(" ") + " " + s.join("<br>"))
    }), s("break-newlines", function(e) {
        return e = Handlebars.Utils.escapeExpression(e), e = e.replace(/(\r\n|\n|\r)/gm, "<br>"), new Handlebars.SafeString(e)
    });
    var r = [];
    s("t", function(e) {
        var t = e;
        return a.get(e) ? t = a.get(e) : (r.push(e), console.log('Translation is missing for: "' + e + '"')), t
    }), s("scolor", function(e) {
        var t = window.scolor ? window.scolor[e] || "inherit" : "inherit";
        return t
    }), s("insideGrid", function(e, t, i, n) {
        if (_.isArray(e)) {
            var a = "",
                s = 0;
            return _.each(e, function(e, o) {
                var r = "",
                    l = "";
                s++, 1 === t && 4 >= o && s > 3 ? (r = "first-in-row", s = 1) : s > 4 && (r = "first-in-row", s = 1), 0 === t && o > 7 && (l = "hidden"), 1 === t && o > 6 && (l = "hidden"), (2 === t || 3 === t) && o > 3 && (l = "hidden"), i && (l = "hidden"), a += n.fn(e, {
                    data: {
                        index: o,
                        type: t,
                        firstClass: r,
                        hiddenClass: l
                    }
                })
            }), a
        }
        return n.inverse(this)
    }), s("isEqual", function() {
        for (var e = Array.prototype.slice.call(arguments, 0), t = e[e.length - 1], i = e.slice(0, e.length - 1), n = 0; n < i.length; n += 2)
            if (i[n] != i[n + 1]) return t.inverse(this);
        return t.fn(this)
    }), s("compare", function(e, t, i) {
        if (arguments.length < 3) throw new Error("Handlerbars Helper 'compare' needs 2 parameters");
        operator = i.hash.operator || "==";
        var n = {
            "==": function(e, t) {
                return e == t
            },
            "===": function(e, t) {
                return e === t
            },
            "!=": function(e, t) {
                return e != t
            },
            "<": function(e, t) {
                return t > e
            },
            ">": function(e, t) {
                return e > t
            },
            "<=": function(e, t) {
                return t >= e
            },
            ">=": function(e, t) {
                return e >= t
            },
            "typeof": function(e, t) {
                return typeof e == t
            }
        };
        if (!n[operator]) throw new Error("Handlerbars Helper 'compare' doesn't know the operator " + operator);
        var a = n[operator](e, t);
        return a ? i.fn(this) : i.inverse(this)
    }), s("getFullUrl", function(e) {
        return document.location.origin + e
    }), s("darken", function(e, t) {
        e = String(e).replace(/[^0-9a-f]/gi, ""), e.length < 6 && (e = e[0] + e[0] + e[1] + e[1] + e[2] + e[2]), t = t || 0;
        var i, n, a = "#";
        for (n = 0; 3 > n; n++) i = parseInt(e.substr(2 * n, 2), 16), i = Math.round(Math.min(Math.max(0, i + i * t), 255)).toString(16), a += ("00" + i).substr(i.length);
        return a
    }), s("next-season", function(e) {
        return e + 1
    }), s("first-letter", function(e) {
        return e ? e.toLowerCase()[0] : ""
    }), s("img-ui", function(e) {
        return "/images/" + e
    }), s("img-path", function(e, t) {
        e && Chaplin.Application.isRetina && (e = e.replace(/\.\w+$/, function(e) {
            return "@2x" + e
        }));
        var i = Chaplin.Application.imagesUrl;
        return i + (t ? t + "" : "") + e
    }), s("has-both", function(e, t) {
        return e && t
    }), s("count", function(e) {
        return e.length
    }), s("excerpt", function(e) {
        0 !== e.trim().indexOf("<") && (e = "<p>" + e + "</p>");
        var e, t = $(e).filter(function() {
                if (3 === this.nodeType) {
                    if (-1 !== $(this).text().indexOf(". ")) return $(this)
                } else if (-1 !== $(this).html().indexOf(". ")) return $(this)
            }).first(),
            i = "";
        return t.length ? 3 === t[0].nodeType ? (e = t.text(), i = e.substring(0, e.indexOf(". ")) + "&hellip;") : (e = t[0].outerHTML, i = e.substring(0, e.indexOf(". ")), i += "&hellip;" + e.substring(e.lastIndexOf("</"), e.length)) : i = e, new Handlebars.SafeString(i)
    }), s("isspanish", function() {
        return o.get("lang_id") == Chaplin.Application.spanishId
    }), s("placeholder", function() {
        var e = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC";
        return e
    }), s("remove-house", function(e) {
        return e.replace(/House /g, "")
    }), s("break-after-first-word", function(e) {
        var t = "",
            i = e.indexOf(" ");
        return t = e.split(" ").length > 0 ? e.substr(0, i) + "<br>" + e.substr(i + 1) : e
    }), s("log", function(e) {
        console.log(e)
    })
}), require.register("lib/viewport", function(e, t, i) {
    var n = t("mediator"),
        a = $(window),
        s = function(e) {
            _.extend(this, s.options, e, s.settings), this.hasLeaveCallback = _.isFunction(this.leave), this.$el = $(this.el), this.update()
        };
    s.prototype.update = function() {
        this.offset = this.$el.offset(), this.height = this.$el.height(), this.width = this.$el.width()
    }, s.options = {
        delay: 0
    }, s.settings = {
        triggered: !1
    };
    var o = function() {
        this.init()
    };
    o.prototype.init = function() {
        this.list = [], this.lastScrollY = 0, this._lastScrollY = 0, this.windowHeight = a.height(), this.windowWidth = a.width(), this.throttleTime = 100, this.onResize(), this.bindEvents(), this.lastScrollY = a.scrollTop(), this._lastScrollY = a.scrollTop(), this.process()
    }, o.prototype.bindEvents = function() {
        var e, t = this;
        e = function() {
            setTimeout(function() {
                t.refresh()
            }, 0)
        }, n.subscribe("window:resized", _.bind(this.onResize, this)), n.subscribe("window:scrolled", _.bind(this.onScroll, this)), this.hasActiveHandlers = !0
    }, o.prototype.unbindEvents = function() {
        n.unsubscribe("window:resized", this.onResize), n.unsubscribe("window:scrolled", this.onScroll), this.hasActiveHandlers = !1
    }, o.prototype.maybeUnbindEvents = function() {
        this.list.length || this.unbindEvents()
    }, o.prototype.add = function(e) {
        e instanceof s || (e = new s(e));
        var t = e.$el.selector,
            i = _.find(this.list, function(e) {
                return e.$el.selector === t
            });
        this.list = _.without(this.list, i), this.list.push(e), this.hasActiveHandlers || this.bindEvents(), this.process()
    }, o.prototype.createItem = function(e) {
        return new s(e)
    }, o.prototype.saveDimensions = function() {
        _.each(this.list, function(e) {
            e.update()
        }), this.windowHeight = a.height(), this.windowWidth = a.width()
    }, o.prototype.onScroll = function(e) {
        this.list.length && (this.lastScrollY = e, this.process())
    }, o.prototype.onResize = function() {
        this.refresh()
    }, o.prototype.refresh = function() {
        this.list.length && this.saveDimensions()
    }, o.prototype.isInViewport = function(e) {
        var t, i, n = e.offset,
            a = this.lastScrollY;
        return t = this.isTopInView(a, this.windowHeight, n.top, e.height, 0), i = this.isTopInView(a, this.windowHeight, n.top, e.height, e.height), {
            isTopInView: t,
            isBottomInView: i
        }
    }, o.prototype.isTopInView = function(e, t, i, n, a) {
        var s = e + t;
        return i + a >= e && s > i + a
    }, o.prototype.isTopPastPercent = function(e, t, i, n, a) {
        var s = e + t,
            o = s - i,
            r = o / t;
        return r >= a
    }, o.prototype.isOutOfViewport = function(e, t) {
        var i, n = e.offset,
            a = this.lastScrollY;
        return "bottom" === t && (i = !this.isBottomInView(a, this.windowHeight, n.top, e.height)), i
    }, o.prototype.isBottomInView = function(e, t, i, n) {
        var a = e + t,
            s = i + n;
        return s > e && a >= s
    }, o.prototype.triggerEnter = function(e, t) {
        setTimeout(function() {
            e.enter.call(e.$el, e, t)
        }, e.delay), _.isFunction(e.leave) ? e.triggered = !0 : this.list.splice($.inArray(e, this.list), 1), this.maybeUnbindEvents()
    }, o.prototype.triggerScroll = function(e, t) {
        setTimeout(function() {
            e.scroll.call(e.$el, e, t)
        }, e.delay)
    }, o.prototype.triggerLeave = function(e) {
        setTimeout(function() {
            e.leave.call(e.$el, e)
        }, e.delay), e.triggered = !1
    }, o.prototype.process = function() {
        var e = this,
            t = $.extend([], this.list),
            i = 0;
        i = this.lastScrollY - this._lastScrollY, this._lastScrollY = this.lastScrollY, $.each(t, function(t, i) {
            var n = e.isInViewport(i),
                a = n.isTopInView || n.isBottomInView,
                s = i.hasLeaveCallback && e.isOutOfViewport(i, "bottom");
            if (!i.triggered && a && e.triggerEnter(i, n), a) {
                var o = (i.offset.top - e.lastScrollY) / e.windowHeight;
                e.triggerScroll(i, o)
            }!a && s && i.triggered && e.triggerLeave(i)
        })
    }, i.exports = {
        Viewport: o,
        ViewportItem: s
    }
}), require.register("lib/youtube.api", function(e, t, i) {
    var n = document.createElement("script"),
        a = document.getElementsByTagName("script")[0],
        s = $.Deferred();
    n.src = "https://www.youtube.com/iframe_api", a.parentNode.insertBefore(n, a), window.onYouTubeIframeAPIReady = function() {
        s.resolve(YT)
    }, i.exports = s.promise()
}), require.register("mediator", function(e, t, i) {
    i.exports = Chaplin.mediator
}), require.register("models/base/collection", function(e, t, i) {
    var n = t("./model");
    i.exports = Chaplin.Collection.extend({
        model: n,
        addAtomic: function(e, t) {
            var i, n, a;
            if (null == t && (t = {}), 0 !== e.length) {
                for (t.silent = !0, n = "number" == typeof t.at ? "pop" : "shift", i = _.clone(e); a = i[n]();) this.add(a, t);
                return this.trigger("reset")
            }
        },
        sync: function(e, t, i) {
            if (i.timeout = 1e4, i.dataType || (i.dataType = Chaplin.Application.serviceUrl ? "jsonp" : "json"), "jsonp" == i.dataType) {
                if (i.url && !i.jsonpCallback) {
                    var n = i.url.split("/");
                    n = n[n.length - 1].toLowerCase(), i.jsonpCallback = "gotcb_" + n
                }
                i.cache = !0
            }
            return Backbone.sync(e, t, i)
        }
    })
}), require.register("models/base/model", function(e, t, i) {
    i.exports = Chaplin.Model.extend({
        sync: function(e, t, i) {
            if (i.timeout = 1e4, i.dataType || (i.dataType = Chaplin.Application.serviceUrl ? "jsonp" : "json"), "jsonp" == i.dataType) {
                if (i.url && !i.jsonpCallback) {
                    var n = i.url.split("/");
                    n = n[n.length - 1].toLowerCase(), i.data.episode_id && (n += "_" + i.data.episode_id), i.jsonpCallback = "gotcb_" + n
                }
                i.cache = !0
            }
            return Backbone.sync(e, t, i)
        }
    })
}), require.register("models/cookie-model", function(e, t, i) {
    var n = t("models/base/model"),
        a = (t("lib/jquery.cookie"), "got_episode_data"),
        s = $.cookie(a) ? $.parseJSON([$.cookie(a)]) : {};
    i.exports = n.extend({
        defaults: {
            lang: "en",
            lang_id: 1
        },
        initialize: function() {
            s && this.set(s), this.on("change", function() {
                s = this.attributes, $.cookie(a, JSON.stringify(this.attributes), {
                    expires: 7,
                    path: "/"
                })
            })
        },
        requestData: function() {
            return {
                episode_id: this.get("id"),
                lang: this.get("lang_id")
            }
        },
        removeCookie: function() {
            $.removeCookie(a, {
                path: "/"
            })
        }
    })
}), require.register("models/languages-collection", function(e, t, i) {
    var n = t("models/base/collection"),
        a = (t("models/base/model"), new n);
    if (this.languages) a.add(this.languages);
    else {
        var s = this;
        a.fetch({
            success: function(e) {
                s.languages = e
            },
            error: Chaplin.Application.generalErrorHandler,
            url: Chaplin.Application.getServiceUrl("languages")
        })
    }
    i.exports = a
}), require.register("models/lists/character-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {}
    })
}), require.register("models/lists/episode-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {}
    })
}), require.register("models/lists/explore-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {}
    })
}), require.register("models/lists/gallery-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {
            gallery: []
        }
    })
}), require.register("models/lists/house-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {}
    })
}), require.register("models/lists/house-tree", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {},
        initialize: function() {
            _.extend(this, Chaplin.SyncMachine)
        }
    })
}), require.register("models/lists/season-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {}
    })
}), require.register("models/map-filters-collection", function(e, t, i) {
    var n = t("models/base/collection");
    i.exports = new n([{
        category: 0,
        title: "",
        markermask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1NUMxNTI0ODhGRDMxMUUzOTU4RkM0M0FGNzJDNTM4MCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NUMxNTI0NzhGRDMxMUUzOTU4RkM0M0FGNzJDNTM4MCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+fH2rQgAAAd9JREFUeNpi/P//P8NgB0wMQwCMOnJEOZJlsDjENd6SF0h9A+K/uxcep35IAi1wAuL9QEyufjEgdQCIzWgZ3eZArEyBfkMg5gJiOWySjJSUk4mJiVYgj37+/87yy/93gX8Z/ljJMGmQbM6TfzeCmBlY5gOZmZJMKu+B9K358+ffpVaaPAb2KQODIisjh6Qko0wJOYYIMkrIfvr/llOSSXk50MH/0T1KlYzDwyh0modBCBRV3eTo52YUAGOQA2mZJj8AMaX16x8QgS25UMuRH4H4H4Vm/MSVnqnlyO+g8o0KZtC8xvlNof4v9HDkDwr1f6KHI79RIV3TvO7+jF5RoPH/4xBDLiFoHpIfaKWfmo58Ryv9g8mRb+mRJt/jSW/4xGDib+kRkq+o7EmahORbtBxMSu5mpFdIvqGw/n5HL0fSJLoHU+7+QK80yUhm7sZbLVIzJD9So9FLa0d+p0LrnC4jGP+GgiP/0MJz1HbkT1o0mKntyO+08By1HbmMzBZ9Cz0dCRrBAI3pbCEiE4FCvQ00NgDEffR0JMxyXyAGjZStwSIP6vrWAbEoEFcPRO5Gr4FCoY7dChVrhNZyzUD8lViDGEdnH0YdOerIUUeOOnLUkaOOHHXkqCNHHUkBAAgwAAzQfsyoObNrAAAAAElFTkSuQmCC",
        markeractivemask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RDEzNDlDMDhGRDMxMUUzQTM1RkNCNDgwMkVBMzg1NSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RDEzNDlCRjhGRDMxMUUzQTM1RkNCNDgwMkVBMzg1NSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zbgYfwAAAzlJREFUeNrsmV9IFEEcx3f3zvK6604PlE68oIywPwhBJfoo9lBEkVGvcm8l9RAlEULQnxcRIQqMng5fqgdNioKgv74UIZYRaBkFoZhF9/+86/5u3/FGkGXduN2Z5axb+Dju7M3vvvOb3/xmdk6UZVko9UsSVsFVFvlfibSWipB9nS3rUSRA7snga/aexBe0gRdAb/taFC/BXp7D3QwaDLTfBdaBjWoPRSN50ufztZKOxuRgS1wOHskJ2dZ6qbFoO7P5jx0WwerHvyc90pYQymm/3/+FVUy+WuypIGyqECs9HrH+nB4j1eIGb1QO2DxSwx0IlpUdZTJxHKJ7zCG4yVD16WlvF6sWIQJ5xmQYGF1fs+SPWriwEhkBeYM2UivFMyuRSZLfGNjgvuJkDLaPmyHyt8H2UTNEJhjENfe1O6ZcKBT38gp1yzMEd0+GebVnKTLIq30piQyYEZMhjXjTqluqD5jhyZ+MO8nFkwHFDC5mdotmefKXwfU7aJZILsNdSrM7bFZMijpnt+ayyNKTERabXt4ikwx256acYORXg8gsj86xFpnisWFmLTLJo3OsRd7WuaO/qvUBJnky6p6xo/CCW1LOOmKP1faJeUvzX5yQylkyQwuu+Ws0fW0DM86gN87Lk4fBFJjOW7KDsaq5z3HXfE/Omp5SS+iZNYlRfKYHAslr8F3SDkyC4zyHe7fi1fZb3pIZW3D+6EzZIjtx/4g+uwSv1yUdgW5Zyk2QzylehfeoGReN/vpw9Gw7Ke6DQ6AXXAdzRZioA6fABfB4uP/pfmYiIa4aRRu4CFzgBugv1g5ELdk7j6KLbjQug+d4FjI63MTgEGgCFXoEKsT20oncRO12sY5JcpxcYzBsaqgdphNnABwD4/T+LWjUKXArigl6O07tDrCeOGT2HqDL201wD7wRtA+xSIiQXNoBTgAbeIZhb+e16f1ARVaCM+A0eAe+g680ByapkO1gM/AIhQP95Romee7MP6nUOcAOmpqUFzm0T6vUcxU5TGMyTV8h1gInOAjUDvtHwEOhcNyXols1G/U6N5Hky96r1I+CK6CbevSBUDj8jyrzpNYlln/vLossi/xHRf4RYAB+7ACSwmJQqgAAAABJRU5ErkJggg==",
        icon: "all-filter"
    }, {
        category: 1,
        title: "",
        markermask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowRkJCOEE4NDhGRDAxMUUzODJFOUZGNThBRkFBNDM3OCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowRkJCOEE4MzhGRDAxMUUzODJFOUZGNThBRkFBNDM3OCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gmDjlAAAAkpJREFUeNpi/P//P8NgB0wMQwCMOnJEOZJlsDjENd6SF0h9A+K/uxcep35IAi1wAuL9QEyufjEgdQCIzWgZ3eZArEyBfkMg5gJiOWySjJSUk4mJiVYgj37+/87yy/93gX8Z/ljJMGmQbM6TfzeCmBlY5gOZmZJMKu+B9K358+ffpVaaPAb2KQODIisjh6Qko0wJOYYIMkrIfvr/llOSSXk50MH/0T1KlYzDwyh0modBCBRV3eTo52YUAGOQA2mZJj8AMaX16x8QgS25UMuRH4H4H4Vm/MSVnqnlyO+g8o0KZtC8xvlNof5/9HDkDwr1M9LDkd8oTZP0cORnPHJ1QOwPxBWwXEyKI6nZwPiAQ9wbiLdB2ZugFcAhUpILNUPyHRaxl0gOhIHDQPxgMDkSV7H0d6CKoPdYxKSwtGxEcbSYvtHDka9wiGei8dNwqHtDD0e+xVF/g3I0D5TNCsQtA+nIN1hqDVCOn49UG4Hkp0I9hM2TdHEkDJwHYnsgFgfiJKQyEJRhcoBYAohtgPg4vdMkcu6OhJaFv/A0y44CcTiSGCs9CvO3SPUvqACXJUKPNr27tB+R2L1kepLm0f2dwtb5bXqNYFDSOmemlyP/UKD3Jb0c+ZMCvVz0cuR3CmLgJr0cuYzMFn05nvYo1R1ZAo22LURkIlCot4HGBoC4D59CWoxPgiz3BWLQSNkaHG3JOmiTrZoYA2k5iAoqnEOhjt0KFWuEViDNQPyV6G7k6OzDqCNHHTnqyFFHjjpy1JGjjhx15KgjKQAAAQYAnQGRLNUuXPgAAAAASUVORK5CYII=",
        markeractivemask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NDhBODA2MThGRDAxMUUzOUIxOEQyMTc1NTIzMDVENyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0NDhBODA2MDhGRDAxMUUzOUIxOEQyMTc1NTIzMDVENyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ULR8BwAAA5pJREFUeNrsmVtIVEEYx8/ZXcvNzRtormhQRtgFIahECQKxhy4YGRU9iT1ESj1ESYUQVL6ICFFk9LT4Uj1oUlQEXS1KQiwj0C4YhWEa7Zru6rbu5fQfnYVlmbO658wctPbAb+ecmTNz/nP75ptZWVEUab5fJmkBXAmR/5VIy3wRsq2qZCmCSRB82NrFvyXxgTLwFGjNn43gGdgssruLQYGO/BvAErCclSjrsZPV1dWlpKJuxVXiUVx7glKgNM9UGHc530MfKs2SxYHbGrtp1SjCTw6HY4DXmHw1XVNJWpEkJ9vtct5JLYVkyDn544rTajcV3IBgJbqiXCaOTc7stkmZpKuatORPkdOnIQJFjsnfQO/6GiA/rOHCS+QYCOksw6c2nnmJ9BL7xqEM4SuOX2d+jxEi/+jMP26EyEkO41q4SHeMtLNgNzgdnsUqFkK4g6H2kZ3gPr2/QxeA5/GI5NmSLkbcSITA8PUCfJ1jfkNEqpklVrzTCJGjjLhchmeTxfCYFKNE/lSJr4l6PhxHJbmLdKqs32RG2+h9EmhguYxGteQvxvpNZqwjYjUi6VdUBLmMEhm+3oKtYBk4RJyHiAlzFOSALaDL6O6ObImD1BZOxXDLXoIDRhtzJx1bYQOeP4c86+ayLPIUGfmRZq1Or+ju9nLwzg05wQgtBJEBEZXjLdInwmHmLdIronK8RV7X6NE3xHqBiwkazxxMoXbxmilo6UhxZzfJIXPxLI3gC5r9bRNpwxep+VoDBlNd+R5RLUm2Bv3kDCdkDrS604c+e9KG64OWqX7Gu4p/0WQn3qmHQLJM3iT5QB/YL7K7N0Ztbb+FzP7uidSRKp91bD2e79G0c2j1XK/NWaeYgr3kvait8CZW4bLefx/2nignwW1QARrBJTAURxG51Ok4Ax60Nz/azk0kxGUgKKM7wTRwWctyCFHh8k4hqKWOxnnwBGmjerubFNgGiqgz26ynRyCokU7kIlpuLe8xmU33LnqGTRYth+vEaQH7QA99fgMKNQpcjaCXPvbQclt4Txwye3fQ5e0quAVez3KIRYYIsaWV4Aiwgsfo9nJR/uR7KjIZHAfH6BbiB/hCbaCXClkLVgK7NHOgH6mhT6TT+5ERZ6OedwUjbUBlayFUZDsdk1N0C7EYpIJdgHXY3wHuSjPHfT7qqllpqwsTST72jhHfCS6AOtqi5MCqSYo4iwzbyViXnPi/OyEyIfIfFflXgAEAUTMU8jJ8XbQAAAAASUVORK5CYII=",
        icon: "characters-filter"
    }, {
        category: 2,
        title: "",
        markermask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFQjNBQ0NFQzhGRDExMUUzQURCM0U1NEFGRTEwQzk3MiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFQjNBQ0NFQjhGRDExMUUzQURCM0U1NEFGRTEwQzk3MiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+kffBmAAAAn5JREFUeNrsmc1L3EAYhzOrotta1IWKC1YttqBIBUtRtAdF8Kig4kUKsr317kWqQql4qfgvBAttD/WoFNqDPelBvKvgSQ8iu+u3W+m66W+WLLwMCaubmaniBB4TEyZ55p13PpJljuNYt30LWXdgM5L3SrL4toj0jXU+wu4CXP1aWJMfSTygF6yAQstXY/cbtKts7g7QGKB8G3gA6rwusiDjZCwW6+IVPXWSnWdOcvDKSnfVhppufJ+9zOZQkVVs4/BdNPTsEPtt27Z3ZOXkaramlvW0hJVFo6x2vJCbVLGaJydOIhwNNX6DsCNWVErHKWeR9XIrwpvqUyHlH7LKLFxQZU4egaDza5r/8UoXWZLHIBPwHpd++SxLMsXHNwn3UD7j/A1Y/kyH5J+A5U90TIsXwv+8I/Ex7yf4DvbBKzAGWkCpR14rlzwlx7tgA3wBW+T8CuATcy8YAg2gmowQyiXpQ2LgQJzd3OjytPjh8hLY+SRl5mTSR5iR5qfHnLhPeS2SYm56iWYnK3Kc0CF5SI7DeaKYu3ZOzmmRpDn4nOQgE6JHI1zvU0llkgkSpQEi6PjM65VgmERVSyTjZP7uAc0+zZzb3oLXujtOXIjSJKgQcjO37waDoER3c4uReAGm3B5Mm56v5idIBSydg3nCo4P0gRowx18JwCh4AyI+yz3lkl4P4dKt4PN1F72qmzslYXWu5QtG5i5IplVUTrbkpYoFs2zJlIrKyZb8WuCKfkan5Lj7TWfpGp2IR32WfxsA8zolcw/vd18LFj2u81ffafAYvP8fvVucgUZc2WX33Ad3AvlI1pJ5N2Z+fTCSRtJIGkkjaSSNpJE0kgG2fwIMAPl2obVxvpMEAAAAAElFTkSuQmCC",
        markeractivemask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFMjNCQjZCODhGRDExMUUzODlEOEREQzBBQUFFREMxQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFMjNCQjZCNzhGRDExMUUzODlEOEREQzBBQUFFREMxQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZF8rUgAAA85JREFUeNrsmVtIVEEYx8/ZXcvNzcuC4op2s8JuQmGJ9lCIPhRhqNRDBLI9ldRDlERYQZcXMSEKjJ4Wgy6QJkVRdDNfihDLCDSLgjDMwl1zd3Vb93L6j87CcDjr5p4zB6s98Ns5t5nzn2++mflmVpQkSZjrh0H4C46EyP9KpGmuCKmoLVmIZAKEHre+1N6S+EAZ6ATx5s9C8hxs4tncxSBfRf71YAFYpPRQVDNO2u32UlJRj+Qq8UquqpAQLM01FMy6nK/h99VGweTA6QGbYfko0g8Oh+OTVj75YqqmgrA0SUy22cTco/EUkiFm57klp9lmyL8BwZK8opp0HIto7bYIVtJUTfHkTxHTpyACefrkT6B2fg2SHyV30UrkGAirLMMfzZ+1Eukj45sGZXCfcQIq83v1EPlLZX63HtPihOyadCQy5j0Ct8AwKAK1YA2Yr+DX3EV6mPNB0AOugQHmficgE3MZqAZLQBYzQnAXyX7EDn7IZzdqXeIWDygbgCOWSC190hVFsMg0P3tOGImSXxeRct9UEjo1WTHnTj1EjjLn5hhWjDwbZ+7pIpL1wRWMD4oy67EWXhylktxEOhkrVTICpSjzejqoYayqiyVHmPl7K1gVpZkjxz6wWe+OMyKz0gmQJvPNSLoFVIEkvZtbbol14CTtwWzTk2j+OFMBQc/B3KnQQSpANjhPlgRgD9gLrFHCPe4ilT5CRBeCq38a9PJubp8G0bkuOxjhv0FkkEfltBbp5xEway3Sx6NyWou8HmdEf26mFzQZgtzWwRQkeeCKIWTqSPFkNYlhY3EMI/hDxkDbeNrwBTp8kWl0MNWV5+VlyZ2gnwzYYWOw1ZM+9NGbNtwQMk32K0U/gXkTXXinAQLJMvgmHej7wG6ezV0kW9p+CRsD3eOp32v95rG1uL5Pn52G1XN8Fme9ZAj1kvdkS+GNSoWLav99qDlSTpI7NDxrBBfB0CyKyAEH6Xz+sL35yTbNREJcBl31naLBwiXQPNtyICpS3jEkdTTQOAOe4dmo2uYmBbbRuTkpHoEysY20IxfScuu09kmyds5U6TaZzBpcs47TAnbRTQByvAYFcQpciaSXXvbQclu07jik926n09tlcBu8irGJRVykmO5k7KcrzKdo9nJe8eQ7KjIZHAaHwBvwDXymY6CPClkNlgGbML2hz2ro4xn0Dijcs9CNqUqFZ2TTflLhPleR7dQnJ2k0TnbMUsEOoLTZ3wHuCdPbfX4aqpmp1bmJJB97q3C/C5wF9dSid4XpzX+3fJyc6RAT/3cnRCZE/qMifwswAGuhI3uZiKPJAAAAAElFTkSuQmCC",
        icon: "home-filter"
    }, {
        category: 3,
        title: "",
        markermask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNTFDMjFDRjhGRDQxMUUzQTAzNzhENTc3NTJEQTAyQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNTFDMjFDRThGRDQxMUUzQTAzNzhENTc3NTJEQTAyQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+t++lbQAAAhFJREFUeNpi/P//P8NgB0wMQwCMOnJEOZJlsDjENd6SF0h9A+K/uxcep35IAi1wAuL9QEyufjEgdQCIzWgZ3eZArEyBfkMg5gJiOWySjJSUk4mJiVYgj37+/87yy/93gX8Z/ljJMGmQbM6TfzeCmBlY5gOZmZJMKu+B9K358+ffpVaaPAb2KQODIisjh6Qko0wJOYYIMkrIfvr/llOSSXk50MH/0T1KlYzDwyh0modBCBRV3eTo52YUAGOQA2mZJj8AMaX16x8QgS25UMuRH4H4H4Vm/MSVnqnlyO+g8o0KZtC8xvlNof4v9HDkDzT+RCA+CK1F3iFhUNK4DcSdaOo/0aNa/IbGvwPEj4H4AixTIAXMVyA+iyVd09yRn9H4x7E4BBkYYSkhaB7d6JbwEFDPMRCOfEei+v/E6h9IR6KDt/Rw5HsS1TOihSpdHPkKjf+PxIz2nh6OfIuWzn4SUC+HFqpv6VEEvYGGHjOUf5JaaZqJyo6kSZoeTLn7A73SJCOFzT2aO/IjNRq9tHbkdyq0zukygvFvKDjyDy08R21H/iRT3w96OvI7LTxHbUcuI7NF30JPR5ZAx3S2EJGJQKHeBhobAOI+ejoSZrkvEINGytZgkQd1feuAWBSIqwcid6PXQKFQx26FijVCGzXN0M4YcQ3P0dmHUUeOOnLUkaOOHHXkqCNHHTnqyFFHUgAAAgwAm2WKMd5ZTZ4AAAAASUVORK5CYII=",
        markeractivemask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTVDQjEyQTI5OEZFMzExODdGMTlDQzQ3MDM5QTg5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGQjlCMkUxODhGRDMxMUUzQUM2RjkzNkEyNTBGNzVDQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGQjlCMkUxNzhGRDMxMUUzQUM2RjkzNkEyNTBGNzVDQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1NUNCMTJBMjk4RkUzMTE4N0YxOUNDNDcwMzlBODlFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ew/N7QAAA21JREFUeNrsmVtIFFEYx2dm13Lbbb2A0ooKZYRdEIpK9FHsoYgiw15l30rqIUoihKDLi4jQBYqeFl+qB02KgqCrL0lINwKtLEEMs2h3dXd1XXd3pv9xj7AcJm1nzhm1duDn8cyc881/zvnO7VtZ0zRpuV+KtAKurMj/SqR9uQjZ01SzFsk0SD7u7OPfknhBHXgOjNYvRvIC7BbZ3dWgwkT97WANKNd7KJuZJ71eby350LAWqIlogUNJKVFbqlRmbOeb+rHBJtl9+PeYR9kYRPrZ5/N95eWTL+e+VJLW58i5Ho9cetqIkQJ5XVlI8zs8SsVtCNbYD+UycFxyYb9LKiRd1W6kvlPOn4MIFOmTE8Ds+pogf/TchZfISaCatBH7kz/zEhkl8xsHG8JXnLjJ+hErRM4w+Sugl64igTSIawyBNqZ8yIplcZrJfwGj4N38oEhrmCnwWsevhYsMM/k+HSHp1w6dGUJ4d7MvcS1SPncpRAYyLK/9bf2lFMlefitEBjMsLzOtaonIn0xezXCgBa0Q6Wf8LLZI+XKmVf1WTEG/aOvZaP4VL59WOIsU4tPLaXRPWOWTssntnnCRkzw2vaJFRjnszi2JYKgrQWRCxMfxFhkzWG/GSpFRER/HW+Qtgzv6SwsV4LIshgpHnUjKwE0lae9xhovbZdVWvUgjxJK2eNdU3vhlOn1tJscNd6AsIqolD4JBEsNRbYnOcP7YUCRvvDVpnx3U2+zGV033okwrBJJj8B1SDwyAIyK7eydztB1RbfH+KfePpphjchvyD+mz82j1kqjL36IpSXJAG2GOwrt0N55mf304fKqeJPfAAXpMvQrGMjBRAo6Ds+BRd8eTvdxEQlwBkjpwDuSBa6AjUzsQNW/vDJJmutG4AJ7hWdBsdxODXaAK5BgRyIhtowO5itpt5u2TJJxcZNJtiqgdrgPnOmhMCwC8AZUGBW6ikQ6J2muk9rkOHDJ699Hl7Qa4S48PCwWxiIuQubQBHAUO8BTdXi/qjPOBiiRRiZPgBHgLvoNhOgdGqZAtYAPwSKmAfrqGAZEHsU8690iYZSudmtiLBO1nde4LFdlNfXKWHiFWAzfYD/SC/T3ggZQK98XoVs1BW12YSPKy9zr3SXzyImihLXpfSgX/Q+w8uWCoI/t7d1ZkVuQ/KvK3AAMADZAL9z7OcUAAAAAASUVORK5CYII=",
        icon: "appendix-filter"
    }, {
        markermask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEZGRTkxRUNBMzlCMTFFMzhDOTVEMTE5OEZFNTk3NDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEZGRTkxRURBMzlCMTFFMzhDOTVEMTE5OEZFNTk3NDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowRkZFOTFFQUEzOUIxMUUzOEM5NUQxMTk4RkU1OTc0NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowRkZFOTFFQkEzOUIxMUUzOEM5NUQxMTk4RkU1OTc0NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmqgqmwAAAHQSURBVHjaYvz//z/DYAdMDEMAjDpyRDmSZbA4xDXekhdIfQPiv7sXHqd+SAItcALi/UBMrn4xIHUAiM1oGd3mQKxMgX5DIOYCYjlskoyUlJOJiYlWII9+/v/O8sv/d4F/Gf5YyTBpkGzOk383gpgZWOYDmZmSTCrvgfSt+fPn36VWmjwG9ikDgyIrI4ekJKNMCTmGCDJKyH76/5ZTkkl5OdDB/9E9SpWMw8ModJqHQQgUVd3k6OdmFABjkANpmSY/ADGl9esfEIEtuVDLkR+B+B+FZvwEFT3AtEgzR34HlW9UMIPmNc5vCvV/oYcjf1Co/xM9HPmNCuma5o78TIUSguaO/DAUHPmOVvoHkyPf0sOR7ynQ+59ejnxFK09S05FvKai/GekVkm8orL/f0cuRgz66Kc3dH+iVJhkHe7X4kRqNXlo78jsVWud0GcH4NxQc+YcWnqP2MMtPIOYkt8EM7MfTJSS/U+A5ukX3MjJb9C30dCRoBAM0prOFiEwECvU20NgAEPfR05Ewy32BGDRStgaLPKjrWwfEokBcPRC5G70GCoU6ditUrBGaWZuB+CvRTaTR2YdRR446ctSRo44cdeSoI0cdOerIUUdSAAACDADrM3uvZ4ULfwAAAABJRU5ErkJggg==",
        markeractivemask: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAA2CAYAAABa4LC4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjNCNzEyNkFBMzlCMTFFMzlEMEZENEI3RjVCRUZBRTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjNCNzEyNkJBMzlCMTFFMzlEMEZENEI3RjVCRUZBRTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2M0I3MTI2OEEzOUIxMUUzOUQwRkQ0QjdGNUJFRkFFNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2M0I3MTI2OUEzOUIxMUUzOUQwRkQ0QjdGNUJFRkFFNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pkt+dTQAAAMiSURBVHja7JlLaBNBGMd3k1QbE5s20GJKI2hF6oOCoJb2WOpBEcWKXktuWvQgWkQKgo9LKQVRqHgKvaiH1qIoCD57UaRUK0KrFQWp1CrmnSbmtet/mhFkWSPZmVkSzcAvk33Ml//MfPP6IquqKpV6skhlkCoi/yuRtlIRsqunfTWyBMg9GHnOvyXxA53gCTBavgHZU7BTZHe3gWaG8tvAKrBW76HMMk/6fL4OUtGYGmyPq8EDOSnb0WRpKdrOZ+Vtt1Wy+fH1qMeyIYR8zu/3f+Dlk8+WaypJ66rkao9HbjplxEidvMYbVQN2j6X5BgSr2opyGThO2T3plNykqwaNlHfItcsQgSJ9MgxY19cs+dBzF14iI0BhtJH6kz/zEpkk8xsHG8JXnAxj+bgZIn8wlo+aITLBwa+Fi4xxmCGEiwyXg8igqPKlJDJghsgQQ1nVLJHfRFWSp8gAw/otm9WS3xnX76BZIku+u1lHd9gsn5RLfVmM8Nj0ihaZ5LA7NyWCoZSDyKyIyvEWmRKxYeYtMimicrxFXje4o79Y6AUuwYGoe96BzAuuWXK2cUesYVBWrG1/aYRUzpoZXXItXqLT1yYwXxP0xkW15H4wC+YUa3YkVrvwPu5a7M/Z0rN627LMisQE3umHQHIMvknKgRlwWGR3b9ccbT8p1szkUs3XnpQ9shXX9+izc2j1xqQz0KdactPkPc1ReIfuFon134eDJ7tIdhvsAwPgMlgowkQjOAbOgPtjQw93cxMJcXXIOsFZ4AJXwFCxdiDql73TyHrpRuM8eIxnIdbuJgZHQSuoMiJQI3aADuRWareXt0+ScHI9o9vUUztcB84wOASm6PVL0GJQ4EZk0/Ryitod5j1wyOjdQ5e3q+AWeCEVDmIRFyFzaTc4AuzgEbq9S8hkjvSGiqwGJ8Bx8Ap8AR/pHJikQjaD9cAj5QP6v2uYEbbiIL3TuecEW+jUpE0kaJ/WuS9U5Bj1yTQ9QqwENWAv0Av2j4O7Uj7cl6JbNTttdWEiyY+91rk/AS6APtqid6R88D+qnScLHsor/3dXRFZE/qMifwowAHhH+H5v7rYoAAAAAElFTkSuQmCC",
        category: 4
    }])
}), require.register("models/map/episodic-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {},
        hasImg: function() {
            return this.has("img") && this.get("img") !== this.defaults.img
        }
    })
}), require.register("models/map/location-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {
            location: []
        }
    })
}), require.register("models/pick-view-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({
        defaults: {}
    })
}), require.register("models/translations-model", function(e, t, i) {
    var n = t("models/base/model");
    i.exports = n.extend({})
}), require.register("routes", function(e, t, i) {
    Chaplin.Application.baseUrlPart = "game-of-thrones/", Chaplin.Application.baseUrlPartCount = 3;
    var n = Chaplin.Application.baseUrlPart,
        a = {
            sid: /^season-\d$/,
            eid: /^episode-\d+$/
        },
        s = {
            id: /^\d+$/
        },
        o = {
            name: /^[a-z-]+$/
        },
        r = _.merge({}, a, o),
        l = _.merge({}, a, s),
        c = _.merge({}, a, o, o);
    i.exports = function(e) {
        e("", "home#splash"), e(n + "splash", "home#showsplash"), e(n + ":sid/:eid", "home#home", {
            constraints: a
        }), e(n + ":sid/:eid/sections/:section", "home#home", {
            constraints: a
        }), e(n + ":sid/:eid/home/:id", "home#home", {
            constraints: l
        }), e(n + "home/:id", "home#home", {
            constraints: s
        }), e(n + ":sid/:eid/map/location/:id/:name", "map#location", {
            constraints: c
        }), e(n + ":sid/:eid/map/location/:id/", "map#location", {
            constraints: l
        }), e(n + ":sid/:eid/map/location/:name", "map#location", {
            constraints: r
        }), e(n + "map/location/:id", "map#location", {
            constraints: s
        }), e(n + "map/location/:name", "map#location", {
            constraints: o
        }), e(n + ":sid/:eid/map/locations/:id/:name", "map#location", {
            constraints: c
        }), e(n + ":sid/:eid/map/locations/:id/", "map#location", {
            constraints: l
        }), e(n + ":sid/:eid/map/locations/:name", "map#location", {
            constraints: r
        }), e(n + "map/locations/:id", "map#location", {
            constraints: s
        }), e(n + "map/locations/:name", "map#location", {
            constraints: o
        }), e(n + ":sid/:eid/map", "map#index", {
            constraints: a
        }), e(n + "map", "map#index"), e(n + ":sid/:eid/people/:id/:name", "people#index", {
            constraints: c
        }), e(n + ":sid/:eid/people/:id", "people#index", {
            constraints: l
        }), e(n + ":sid/:eid/people/:name", "people#index", {
            constraints: r
        }), e(n + "people/:id", "people#index", {
            constraints: s
        }), e(n + "people/:name", "people#index", {
            constraints: o
        }), e(n + ":sid/:eid/people", "people#index"), e(n + "people", "people#index"), e(n + ":sid/:eid/houses/:id/:name", "houses#index", {
            constraints: c
        }), e(n + ":sid/:eid/houses/:id", "houses#index", {
            constraints: l
        }), e(n + ":sid/:eid/houses/:name", "houses#index", {
            constraints: r
        }), e(n + ":sid/:eid/houses", "houses#index", {
            constraints: a
        }), e(n + "houses/:id", "houses#index", {
            constraints: s
        }), e(n + "houses/:name", "houses#index", {
            constraints: o
        }), e(n + "houses", "houses#index"), e(n + ":sid/:eid/appendix/:id/:name", "appendix#index", {
            constraints: c
        }), e(n + ":sid/:eid/appendix/:id", "appendix#index", {
            constraints: l
        }), e(n + ":sid/:eid/appendix/:name", "appendix#index", {
            constraints: r
        }), e(n + ":sid/:eid/appendix", "appendix#index", {
            constraints: a
        }), e(n + "appendix/:id", "appendix#index", {
            constraints: s
        }), e(n + "appendix/:name", "appendix#index", {
            constraints: o
        }), e(n + "appendix", "appendix#index"), e(n + ":sid/:eid/articles/:id/:name", "appendix#index", {
            constraints: c
        }), e(n + ":sid/:eid/articles/:id", "appendix#index", {
            constraints: l
        }), e(n + ":sid/:eid/articles/:name", "appendix#index", {
            constraints: r
        }), e(n + ":sid/:eid/articles", "appendix#index", {
            constraints: a
        }), e(n + "articles/:id", "appendix#index", {
            constraints: s
        }), e(n + "articles/:name", "appendix#index", {
            constraints: o
        }), e(n + "articles", "appendix#index"), e(n + ":sid/:eid/histories/:id/:name", "appendix#index", {
            constraints: c
        }), e(n + ":sid/:eid/histories/:id", "appendix#index", {
            constraints: l
        }), e(n + ":sid/:eid/histories/:name", "appendix#index", {
            constraints: r
        }), e(n + ":sid/:eid/histories", "appendix#index", {
            constraints: a
        }), e(n + "histories/:id", "appendix#index", {
            constraints: s
        }), e(n + "histories/:name", "appendix#index", {
            constraints: o
        }), e(n + "histories", "appendix#index"), e(":any", "home#error"), e(":any/:any", "home#error"), e(":any/:any/:any", "home#error"), e(":any/:any/:any/:any", "home#error"), e(":any/:any/:any/:any/:any", "home#error"), e(":any/:any/:any/:any/:any/:any", "home#error")
    }
}), require.register("views/appendix/appendix-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = (t("mediator"), t("lib/utils"));
    i.exports = n.extend({
        autoRender: !0,
        className: "appendix-page",
        events: {},
        listen: {},
        regions: {
            landing: ".landing",
            article: "article",
            bumper: ".bumper",
            pushinnav: ".push-in-nav"
        },
        template: t("./templates/appendix"),
        showSpoilerGuard: a.spoilerGuard("#site-container")
    })
}), require.register("views/appendix/bumper-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .to-top": "toTop",
            "click .next": "next",
            "click .list": "callList",
            "click .mask": "hide"
        },
        listen: {
            "all model": "render",
            "appendix:showbumper mediator": "show",
            "appendix:hidebumper mediator": "hide"
        },
        template: t("./templates/bumper"),
        initialize: function() {
            $("body").off(".people-bumper"), $(window).off(".people-bumper")
        },
        toTop: function(e) {
            e.preventDefault(), a.scrollTo($(".appendix-page").find(".landing").height() + $(".global-nav").height(), 250)
        },
        next: function(e) {
            e.preventDefault(), this.hide();
            var t, i = this.model.get("chapters"),
                n = i[0],
                a = this.model.sectionId,
                o = !1;
            "undefined" != typeof a ? (a = a.toString(), t = a.split("."), _.each(i, function(e) {
                return o ? (n = e, !1) : void(e.id === Number(t[0]) && (o = !0))
            })) : i.length > 1 && (n = i[1]), s.publish("appendix:goto", n.id)
        },
        callList: function(e) {
            s.publish("appendix:shownav"), e.preventDefault()
        },
        show: function() {
            if (!this.container.hasClass("open")) {
                this.bumperIsOpening = !0, this.$el.find(".mask").css({
                    height: $(window).height() + "px",
                    top: -$(window).height() + "px"
                }), this.container.show(), setTimeout(_.bind(function() {
                    this.container.addClass("open")
                }, this), 16);
                var e = this;
                $(window).on("DOMMouseScroll.appendix-bumper-stop", function(t) {
                    t.originalEvent.detail < 0 && e.hide(), t.preventDefault()
                }), $(window).on("mousewheel.appendix-bumper-stop", function(t) {
                    t.originalEvent.wheelDelta > 0 && e.hide(), t.preventDefault()
                }), $(window).on("keydown.appendix-bumper-stop", function(t) {
                    38 == t.keyCode && e.hide(), t.preventDefault()
                }), setTimeout(function() {
                    this.bumperIsOpening = !1
                }.bind(this), 750)
            }
        },
        hide: function() {
            this.container.hasClass("open") && !this.bumperIsOpening && (this.container.removeClass("open"), this.container.hide(), $(window).off("DOMMouseScroll.appendix-bumper-stop").off("mousewheel.appendix-bumper-stop").off("keydown.appendix-bumper-stop"))
        }
    })
}), require.register("views/appendix/chapter-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = (t("mediator"), t("models/cookie-model"));
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click hgroup h2": "gotoTop"
        },
        listen: {
            "change model": "render"
        },
        template: t("./templates/chapter"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = this.$el.find("img"),
                t = 0,
                i = this.model;
            self = this, e.length ? e.each(function() {
                $(this).on("load", function() {
                    t++, e.length <= t && i.allowTriggerLoaded && i.trigger("contentloaded")
                })
            }) : i.allowTriggerLoaded && i.trigger("contentloaded"), a.parseBody(this.$el, ".appendix-page"), i.get("text") && self.$el && (self.$el.outerHeight() < $(window).height() && self.$el.css("min-height", $(window).height() + "px"), $(window).on("resize", function() {
                self.$el.outerHeight() < $(window).height() && self.$el.css("min-height", $(window).height() + "px")
            }));
            var n = new s;
            n.get("hodorize") && a.hodorize()
        },
        gotoTop: function() {
            a.scrollTo(0, 250)
        }
    })
}), require.register("views/appendix/items-list-item-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        tagName: "li",
        template: t("./templates/items-list-item")
    })
}), require.register("views/appendix/items-list-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("views/appendix/items-list-item-view"),
        s = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        animationDuration: 1e3,
        className: "appendix-list-panel list-panel",
        template: t("./templates/items-list"),
        itemView: a,
        listSelector: "ul",
        events: {
            "touchstart a": "goLinkStart",
            "touchend a": "gotoChapterTouch",
            "click a": "gotoChapter"
        },
        listen: {
            "appendix:setchapter mediator": "setChapter"
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.$el.find(".nav-title").text(this.model.get("navigation_title"))
        },
        goLinkStart: function(e) {
            this.touchPositionStart = e.originalEvent.touches[0].screenY
        },
        gotoChapterTouch: function(e) {
            Math.abs(this.touchPositionStart - e.originalEvent.changedTouches[0].screenY) < 10 && (null == this.touchPositionStart, this.gotoChapter(e))
        },
        gotoChapter: function(e) {
            if (e.preventDefault(), e.target) {
                var t = "a" == e.target.tagName.toLowerCase() ? $(e.target) : $(e.target).parents("a:first");
                setTimeout(function() {
                    s.publish("appendix:goto", t.data("id"));
                    Chaplin.utils.reverse("appendix#index", {
                        id: t.data("id")
                    }).replace(/appendix/, "articles");
                    history.pushState(Backbone.history.history.state, "", t.data("href"))
                }, 300), s.publish("appendix:hidenav")
            }
            return !1
        },
        gotoArticle: function(e) {
            var t = $(e.currentTarget);
            s.publish("appendix:goto", t.data("id"));
            Chaplin.utils.reverse("appendix#index", {
                id: t.data("id")
            }).replace(/appendix/, "articles");
            history.pushState(Backbone.history.history.state, "", t.attr("href")), s.publish("appendix:hidenav"), e.preventDefault(), e.stopPropagation()
        },
        setChapter: function(e) {
            this.$el.find("li").removeClass("active"), this.$el.find(".chapter-link[data-id=" + e + "]").closest("li").addClass("active")
        }
    })
}), require.register("views/appendix/landing-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("mediator"),
        s = t("lib/utils"),
        o = t("lib/omniture-module"),
        r = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click a": "gotoArticle"
        },
        listen: {
            "all collection": "render"
        },
        template: t("./templates/landing"),
        gotoArticle: function(e) {
            if (e.preventDefault(), e.target) {
                var t = "a" == e.target.tagName.toLowerCase() ? $(e.target) : $(e.target).parents("a:first");
                a.publish("appendix:goto", t.data("id")); {
                    Chaplin.utils.reverse("appendix#index", {
                        id: t.data("id")
                    }).replace(/appendix/, "articles")
                }
                history.pushState(Backbone.history.history.state, "", t.attr("href")), this.omniTrack()
            }
            return !1
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = this.model.sectionId,
                t = function() {
                    var e = $(".appendix-page").find(".landing"),
                        t = $(window).height() - $(".global-nav").height();
                    e.css("min-height", t)
                };
            if ("undefined" != typeof e) {
                e = e.toString();
                var i = e.split("."),
                    n = this.$el.find("img"),
                    a = this.container;
                n.length ? n.each(function() {
                    $(this).on("load", function() {
                        window.scrollTo(0, a.outerHeight())
                    })
                }) : i[1] || window.scrollTo(0, a.outerHeight())
            }
            $(window).off(".appendix-landing").on("resize.appendix-landing", t), t(), s.addPreloader(this.$el)
        },
        omniTrack: function() {
            var e = new r,
                t = (e.get("season_number"), e.get("episode_number"), new o({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: "appendix: " + window.document.location.pathname.split("/").slice(-1)[0]
                }));
            t.fire()
        }
    })
}), require.register("views/appendix/push-in-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/iscroll"),
        s = t("lib/utils"),
        o = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .show-items-list": "toggle",
            "click .push-in-overlay": "toggle",
            "touchend .push-in-overlay": function(e) {
                e.preventDefault(), this.toggle()
            },
            "click .go-top": "goTop"
        },
        listen: {
            "change model": "render",
            "pushnav:updateshare mediator": "updateShare",
            "appendix:shownav mediator": "show",
            "appendix:hidenav mediator": "hide",
            "app:hidenav mediator": "hide"
        },
        template: t("./templates/push-in-nav"),
        regions: {
            itemslist: ".items-list"
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = t("views/appendix/items-list-view");
            this.subview("itemslist", new e({
                collection: this.collection,
                model: this.model,
                region: "itemslist"
            }))
        },
        show: function() {
            this.container.addClass("open"), this.$el.find(".push-in-overlay").one("click", _.bind(this.hide, this));
            var e = this.$el;
            setTimeout(function() {
                e.find(".content").addClass("open")
            }, 300), o.publish("app:hidesidenav")
        },
        hide: function() {
            var e = this.container,
                t = this.$el;
            t.find(".content").removeClass("open"), setTimeout(function() {
                e.removeClass("open")
            }, 300)
        },
        toggle: function(e) {
            this.container.hasClass("open") ? this.hide() : this.show();
            var t = this,
                i = t.$el.find(".scrollable");
            return $(window).off(".appendix-pushnav").on("resize.appendix-pushnav", function() {
                t.scroller && t.scroller.refresh()
            }), this.scroller || (this.scroller = new a(i[0], {
                scrollY: !0,
                mouseWheel: !0
            }), this.subviews[0].scroller = this.scroller), this.scroller.refresh(), e.preventDefault(), !1
        },
        goTop: function(e) {
            s.scrollTo(0, 250), e.target && e.preventDefault()
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption)), e.tw && e.tw.description && t.data("share-description-TW", e.tw.description), t.share({
                orientation: "vertical"
            })
        }
    })
}), require.register("views/appendix/templates/appendix", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<section class="landing"></section>\n<article></article>\n<div class="bumper"></div>\n<section class="push-in-nav"></section>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/appendix/templates/bumper", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<nav>\n	<a href="#" class="to-top"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "read again", o) : l.call(t, "t", "read again", o))) + '</span></a>\n	<a href="#" class="next"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "load next chapter", o) : l.call(t, "t", "load next chapter", o))) + '</span></a>\n	<a href="#" class="list"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "see the list", o) : l.call(t, "t", "see the list", o))) + '</span></a>\n</nav>\n<div class="mask"></div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/appendix/templates/chapter", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s = "";
            return s += "\n		<h2>", (a = i.appendix_title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.appendix_title, n = typeof a === d ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += p(n) + "</h2>\n	"
        }

        function o(e, t) {
            var n, a, s = "";
            return s += '\n	<img src="' + p((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.image, "thumb", "appendix", a) : u.call(e, "img-path", e && e.image, "thumb", "appendix", a))) + '" alt="Article image" class="chapter-image">\n'
        }

        function r(e, t) {
            var n, a, s = "";
            return s += '\n	<h3 class="subchapter-anchor">', (a = i.subtitle) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.subtitle, n = typeof a === d ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (s += n), s += "</h3>\n	<p>", (a = i.text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.text, n = typeof a === d ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (s += n), s += "</p>\n"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var l, c, h = "",
            d = "function",
            p = this.escapeExpression,
            u = i.helperMissing,
            m = this;
        return h += "<hgroup>\n	", l = i["if"].call(t, t && t.appendix_title, {
            hash: {},
            inverse: m.noop,
            fn: m.program(1, s, a),
            data: a
        }), (l || 0 === l) && (h += l), h += "\n	<h1>", (c = i.title) ? l = c.call(t, {
            hash: {},
            data: a
        }) : (c = t && t.title, l = typeof c === d ? c.call(t, {
            hash: {},
            data: a
        }) : c), h += p(l) + "</h1>\n</hgroup>\n", l = i["if"].call(t, t && t.image, {
            hash: {},
            inverse: m.noop,
            fn: m.program(3, o, a),
            data: a
        }), (l || 0 === l) && (h += l), h += "\n<p>", (c = i.text) ? l = c.call(t, {
            hash: {},
            data: a
        }) : (c = t && t.text, l = typeof c === d ? c.call(t, {
            hash: {},
            data: a
        }) : c), (l || 0 === l) && (h += l), h += "</p>\n", l = i.each.call(t, t && t.subchapters, {
            hash: {},
            inverse: m.noop,
            fn: m.program(5, r, a),
            data: a
        }), (l || 0 === l) && (h += l), h
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/appendix/templates/items-list-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, r = "";
            return r += '\n<nav class="subchapters" style="background: ' + p((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : d.call(e, "scolor", "color1", s))) + '">\n	', n = i.each.call(e, e && e.subchapters, {
                hash: {},
                inverse: m.noop,
                fn: m.program(2, o, t),
                data: t
            }), (n || 0 === n) && (r += n), r += "\n</nav>\n"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n	<a data-href="' + p((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "appendix#index", e && e.id, e && e.name, s) : d.call(e, "url", "appendix#index", e && e.id, e && e.name, s))) + '" class="subchapter-link" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '">\n		', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + "\n	</a>\n	"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var r, l, c, h = "",
            d = i.helperMissing,
            p = this.escapeExpression,
            u = "function",
            m = this;
        return h += '<a data-href="' + p((l = i.url || t && t.url, c = {
            hash: {},
            data: a
        }, l ? l.call(t, "appendix#index", t && t.id, t && t.name, c) : d.call(t, "url", "appendix#index", t && t.id, t && t.name, c))) + '" class="chapter-link" data-id="', (l = i.id) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.id, r = typeof l === u ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + '">\n	<span class="active" style="background: ' + p((l = i.scolor || t && t.scolor, c = {
            hash: {},
            data: a
        }, l ? l.call(t, "color2", c) : d.call(t, "scolor", "color2", c))) + '">', (l = i.name) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.name, r = typeof l === u ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + '</span>\n	<span class="inactive">', (l = i.name) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.name, r = typeof l === u ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + "</span>\n</a>\n", r = i["if"].call(t, t && t.subchapters, {
            hash: {},
            inverse: m.noop,
            fn: m.program(1, s, a),
            data: a
        }), (r || 0 === r) && (h += r), h
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/appendix/templates/items-list", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<h1 class="nav-title"></h1>\n<div class="scrollable">\n	<ul></ul>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/appendix/templates/landing", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, o = "";
            return o += '\n	<a href="' + d((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "appendix#index", e && e.id, e && e.name, s) : h.call(e, "url", "appendix#index", e && e.id, e && e.name, s))) + '" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + '">', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + "</a>\n	"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var o, r, l, c = "",
            h = i.helperMissing,
            d = this.escapeExpression,
            p = "function",
            u = this;
        return c += '<img src="' + d((r = i["img-path"] || t && t["img-path"], l = {
            hash: {},
            data: a
        }, r ? r.call(t, t && t.landing_image, "medium", "appendix", l) : h.call(t, "img-path", t && t.landing_image, "medium", "appendix", l))) + '" alt="Article image" id="appendix-landing-image">\n<h1>', (r = i.appendix_title) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.appendix_title, o = typeof r === p ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + "</h1>\n<nav>\n	", o = i.each.call(t, t && t.featured, {
            hash: {},
            inverse: u.noop,
            fn: u.program(1, s, a),
            data: a
        }), (o || 0 === o) && (c += o), c += "\n</nav>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/appendix/templates/push-in-nav", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="push-in-overlay"></div>\n<div class="content">\n	<ul class="side-buttons">\n		<li class="go-top">\n			<span class="side-icon icon-return-nav"></span>\n		</li>\n		<li class="show-items-list">\n			<span class="side-icon icon-list-nav"></span>\n		</li>\n		<li>\n			<span class="side-icon icon-share-nav share-button share"></span>\n		</li>\n	</ul>\n	<section class="items-list"></section>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/base/collection-view", function(e, t, i) {
    var n = t("./view");
    i.exports = Chaplin.CollectionView.extend({
        getTemplateFunction: n.prototype.getTemplateFunction
    })
}), require.register("views/base/snapscroll-view", function(e, t, i) {
    var n = t("views/people/templates/grid-item"),
        a = (t("models/cookie-model"), t("models/lists/season-model"), t("views/splash/splash-cards-view"), t("models/base/collection"), t("lib/utils"));
    t("lib/view-helper"), i.exports = Chaplin.View.extend({
        optionNames: Chaplin.View.prototype.optionNames.concat(["template"]),
        getTemplateFunction: function() {
            return this.template
        },
        updateHeight: function(e, t) {
            var i = e.find("img"),
                n = e.children("div:first"),
                a = 0,
                s = $(".global-nav").height(),
                o = function(e) {
                    e.css("height", "auto"), n.outerHeight() > 0 && n.outerHeight() > $(window).height() - s ? e.css("height", "auto") : e.css("height", $(window).height() - s + "px"), t && t.length && t.css("height", e.height() + "px")
                };
            i.each(function() {
                $(this).on("load", function() {
                    a++, a == i.length && o(e)
                })
            }), $(window).on("resize", function() {
                var t = e.parents(".ss-active");
                o(e), t.length && $(window).width() > 768 && (window.scrollTo(0, t.offset().top), window.scrollTo(0, t.offset().top - s))
            }), $(window).on("orientationchange", function() {
                var t = e.parents(".ss-active");
                t.length && $(window).width() < 768 && (window.scrollTo(0, t.offset().top), window.scrollTo(0, t.offset().top - s))
            }), t && t.length && t.css("height", e.height() + "px")
        },
        updateGrid: function(e, t, i) {
            if (t) {
                var n = t.grid;
                if (n) switch (n.type) {
                    case 1:
                        this.buildGrid(256, e, n, "medium", i);
                        break;
                    case 2:
                        this.buildGrid(512, e, n, "xlarge", i);
                        break;
                    case 3:
                        this.buildGrid(768, e, n, "xlarge", i)
                }
            }
        },
        buildGrid: function(e, t, i, a, s) {
            var o, r = "function" == typeof s ? s : function() {},
                l = Math.ceil($(window).width() / e),
                c = navigator.userAgent.indexOf("MSIE") > -1 || navigator.userAgent.indexOf("Trident/7.0") > -1,
                h = $(window).height(),
                d = this.$el.find(".background-layer ~ .side-layer").height(),
                d = d > 0 ? d : 2 * h,
                p = c && d > h ? d : h,
                u = Math.ceil(p / e),
                m = l * u;
            switch (this.$el.find(".background-layer").css({
                width: function() {
                    return e * l
                }
            }), i.color) {
                case 1:
                    o = ["#1a1615", "#313131"];
                    break;
                case 2:
                    o = ["#b5b5b5", "#efefef"];
                    break;
                case 3:
                    o = [i.hex_2, i.hex_1]
            }
            var f = [];
            for (var g in i.images) i.images[g] && f.push(i.images[g]);
            if (_.isArray(f)) {
                for (var v = "", w = 0, b = 0; m > w; w++, b++) {
                    b >= f.length && (b = 0);
                    var y = Math.ceil((w + 1) / l),
                        x = y * l - l,
                        k = y % 2 === 0 ? (x + w + 1) % 2 === 0 ? 1 : 0 : (x + w + 1) % 2 === 0 ? 0 : 1;
                    v += n({
                        size: a,
                        src: f[b],
                        color: o[k],
                        chessRow: k
                    })
                }
                t.empty().html(v), r(t)
            }
        },
        showSpoilerGuard: a.spoilerGuard("#site-container")
    })
}), require.register("views/base/view", function(e, t, i) {
    t("lib/view-helper");
    var n = t("lib/utils");
    i.exports = Chaplin.View.extend({
        optionNames: Chaplin.View.prototype.optionNames.concat(["template"]),
        getTemplateFunction: function() {
            return this.template
        },
        render: function() {
            Chaplin.View.prototype.render.call(this, arguments);
            var e = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",
                t = $("body").hasClass("tablet") || $("body").hasClass("mobile") ? 1e3 : 100;
            this.$el.find(":not(.locations-content) img:not(.preload)").each(function() {
                var i = $(this).attr("src");
                (void 0 === i || i === !1 || 0 === i.length || i === e) && $(this).lazyload({
                    effect: "fadeIn",
                    effectspeed: 400,
                    threshold: t
                }, function(e) {
                    e[0].style.removeProperty("display"), e[0].style.removeProperty("transform")
                })
            })
        },
        showSpoilerGuard: n.spoilerGuard(".global-nav, .map-index ")
    })
}), require.register("views/home/article-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("models/base/model"),
        s = t("lib/utils"),
        o = (t("mediator"), t("models/cookie-model")),
        r = t("lib/iscroll"),
        l = t("views/appendix/chapter-view");
    i.exports = n.extend({
        autoRender: !0,
        className: "content",
        events: {
            "click .close": "hide",
            touchmove: function(e) {
                e.preventDefault()
            }
        },
        listen: {
            "change model": "render",
            "home:actionsub-title mediator": "showarticle",
            "home:actionarticle mediator": "showarticle",
            "home:actionlinkoff mediator": "linkoff",
            "dispatcher:dispatch mediator": "hide"
        },
        regions: {
            appendix: ".article-page"
        },
        template: t("./templates/article"),
        showarticle: function(e) {
            this.container.addClass("open"), setTimeout(function() {}, 2e3); {
                var i = new o,
                    n = this,
                    s = new a,
                    c = new a;
                e.id
            }
            s.fetch({
                success: function(a) {
                    c.set(a.get("content")), n.model.clear(), n.model.set(e), n.model.set("image", c.get("image")), n.model.set("is_sharable", a.get("is_sharable")), c.set("credit", a.get("credit")), c.set("season", i.get("season_number")), c.set("episode", i.get("episode_number")), n.attachArticle(), n.subview("appendix", new l({
                        region: "appendix",
                        model: c,
                        template: t("./templates/appendix-chapter"),
                        container: ".article-takeover"
                    })), n.scroller = new r(n.$el.find(".scrollable")[0], {
                        scrollY: !0,
                        mouseWheel: !0
                    }), n.$el.find("img").each(function() {
                        $(this).on("load", function() {
                            n.scroller.refresh()
                        }), $(this).on("error", function() {
                            n.scroller.refresh()
                        })
                    }), Chaplin.mediator.publish("loader:hide", {
                        blocked: !1
                    })
                },
                error: function() {
                    Chaplin.mediator.publish("loader:hide", {
                        blocked: !1
                    }), n.hide()
                },
                data: _.merge({
                    id: e.takeover.id
                }, i.requestData()),
                url: Chaplin.Application.getServiceUrl("appendixDetails")
            })
        },
        linkoff: function(e) {
            var t = e.takeover.mobile_url && Chaplin.Application.isMobile.any ? e.takeover.mobile_url : e.takeover.url;
            t = ~t.indexOf("http") ? t : "http://" + t;
            var i = window.open(t, "_blank");
            i && _.isFunction(i.focus) && i.focus()
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments)
        },
        attachArticle: function() {
            var e = this.model.get("headline") || this.model.get("title") || this.model.get("text"),
                t = {},
                i = this.model.get("takeover").custom_share;
            void 0 !== i ? (t.caption = i.title, t.description = i.description, t.link = i.url, this.updateShare({
                fb: t,
                tb: t,
                tw: t
            })) : this.updateShare({
                fb: s.getShare("video", "fb", e, e),
                tb: s.getShare("video", "tb", e, e),
                tw: s.getShare("video", "tw", e)
            });
            var n = this.$el,
                a = this;
            setTimeout(function() {
                n.addClass("open"), a.container.find(".loader").remove()
            }, 300)
        },
        hide: function() {
            var e = this.container,
                t = this.$el;
            return t.removeClass("open"), setTimeout(function() {
                e.removeClass("open")
            }, 300), !1
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption), e.fb.link && t.data("share-link", e.fb.link)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption), e.tb.link && t.data("share-link", e.tb.link)), e.tw && (e.tw.description && t.data("share-description-TW", e.tw.description), e.tw.link && t.data("share-link", e.tw.link)), t.share()
        }
    })
}), require.register("views/home/episode-selection-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("views/splash/splash-cards-seasons-collection-view"),
        s = t("views/splash/splash-cards-episodes-collection-view"),
        o = t("lib/iscroll");
    i.exports = n.extend({
        autoRender: !0,
        template: t("views/splash/templates/splash-cards"),
        regions: {
            seasons: ".seasons-row",
            episodes: ".episodes"
        },
        events: {
            "click .close": function() {
                $(".selector-wrapper").removeClass("opened"), Chaplin.mediator.publish("nav:toggleEpisodes")
            },
            "click .checkbox": function(e) {
                Chaplin.mediator.publish("global-episodes:toggleSpoiler", e)
            },
            "initialize-slider .episodes": "addSlider"
        },
        listen: {
            "nav:toggleEpisodes mediator": "toggle",
            "episodes:chooseCurrent mediator": "closePanel",
            "cards:allSlidersInitialized mediator": "slidersReady",
            "device:change mediator": "fixHeight",
            "global-episodes:toggleSpoiler mediator": function() {
                this.$el.find(".checkbox").toggleClass("on"), this.$el.find(".checkbox").hasClass("on") ? this.$el.find(".checkbox").find("input").attr("checked", "checked") : this.$el.find(".checkbox").find("input").removeAttr("checked"), Chaplin.mediator.publish("episodes:toggleSpoiler", this.$el.find(".checkbox").hasClass("on"), ".episode-selection")
            }
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.header = e.header
        },
        slidersReady: function(e) {
            this.$el.parents(e).length > 0
        },
        getTemplateData: function() {
            return this.header
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.$el.find("header").prepend('<i class="close sprites-close-big-black"></i>')
        },
        attach: function() {
            if (this.constructor.__super__.attach.apply(this, arguments), this.subview("seasons", new a({
                    collection: this.collection,
                    region: "seasons",
                    parentEl: ".episode-selection"
                })), this.subview("episodes", new s({
                    collection: this.collection,
                    region: "episodes",
                    parentEl: ".episode-selection"
                })), this.container.find(".scrollable").length) {
                var e = {
                    scrollY: !0,
                    mouseWheel: !0
                };
                switch (window.mobile) {
                    case "android":
                        _.extend(e, {
                            click: !0
                        });
                        break;
                    case "ios":
                        _.extend(e, {
                            disableTouch: !1
                        })
                }
                this.scroller = new o(this.$el.find(".archived-wrapper")[0], e)
            }
        },
        fixHeight: function() {
            this.$el.parent().hasClass("show") && (this.$el.parent().outerHeight() > $(window).height() ? this.$el.find(".archived-wrapper").css("height", function() {
                return $(window).height() - 50
            }) : this.$el.find(".archived-wrapper").css("height", "auto"))
        },
        toggle: function() {
            var e = this.$el.parent();
            e.hasClass("show") ? (this.$el.find(".archived-wrapper").css("height", ""), e.addClass("close").removeClass("show"), Chaplin.mediator.publish("scroll:show")) : (e.outerHeight() > $(window).height() && this.$el.find(".archived-wrapper").css("height", function() {
                return $(window).height() - 50
            }), this.scroller && setTimeout(_.bind(function() {
                this.scroller.refresh()
            }, this), 500), e.addClass("show").removeClass("close"), Chaplin.mediator.publish("scroll:hide"))
        },
        closePanel: function(e) {
            0 != this.$el.parents(e).length && this.$el.find(".close").trigger("click")
        },
        addSlider: function() {
            if (!this.$el.find(".episode-selector-slider").length) {
                var e = this,
                    t = _.reduce(_.map(this.$el.find(".episodes-wrapper").children(), function(e) {
                        return $(e).width()
                    }), function(e, t) {
                        return e + t
                    });
                if ("414" == document.body.clientWidth) var i = $('<div class="episode-selector-slider iphone6plus">');
                else var i = $('<div class="episode-selector-slider">');
                var n, a = $('<div class="pill"><span class="left"></span><span class="right"></span> </div>'),
                    s = new window.Draggabilly(a.get(0), {
                        containment: !0
                    }),
                    o = !1,
                    r = $(window).width(),
                    l = window.setInterval(function() {
                        if (e.$el || clearInterval(l), !o && e.$el && !e.$el.is(":hidden") && e.$el.parents(".episode-selection").hasClass("show")) {
                            if ("WebKitCSSMatrix" in window) {
                                var s = window.getComputedStyle(e.$el.find(".episodes-wrapper").get(0)),
                                    c = new WebKitCSSMatrix(s.webkitTransform);
                                n = c.m41
                            } else {
                                var h = e.$el.find(".episodes-wrapper").css("transform").replace(/[^0-9\-.,]/g, "").split(","),
                                    d = h[12] || h[4];
                                n = parseInt(d)
                            }
                            var p = -n / t,
                                u = -t + $(window).width() - 190,
                                m = -35;
                            u >= n ? p = 1 : n >= m && (p = 0);
                            var f = i.width() - a.width();
                            e.$el.find(".pill").css("left", parseInt(f * p)), r = $(window).width()
                        }
                    }, 1e3 / 60);
                s.on("dragStart", function() {
                    o = !0, e.$el.find(".episodes-wrapper").css({
                        "transition-duration": "0",
                        "-webkit-transition-duration": "0"
                    })
                }), s.on("dragEnd", function() {
                    o = !1, e.$el.find(".episodes-wrapper").css({
                        "transition-duration": ".5s",
                        "-webkit-transition-duration": ".5s"
                    })
                });
                var c = 0;
                i.on("click", function(n) {
                    if ($(n.target).hasClass("episode-selector-slider")) {
                        var a = (n.pageX - i.offset().left) / i.width(),
                            s = -a * t;
                        160 > -s && (s = -30), -s > t - r - 300 && (s = -(t - r + 200));
                        var o = "-webkit-transform" in window.getComputedStyle(e.$el.find(".episodes-wrapper").get(0)) ? "-webkit-transform" : "transform",
                            l = {};
                        l[o] = "translate3d(" + s + "px, 0, 0)", e.$el.find(".episodes-wrapper").css(l)
                    }
                }), s.on("dragMove", function(n, s, o) {
                    var r = o.x / i.width(),
                        l = e.$el.find(".episodes-wrapper").children().last(),
                        h = e.$el.find(".episodes-wrapper").children().first(),
                        d = h.offset().left,
                        p = l.offset().left + l.width(),
                        u = $(window).width(),
                        m = i.offset().left,
                        f = i.offset().left + i.width();
                    if (r >= -1 && 1 >= r && (0 > d || r >= 0 || s.pageX > c) && (p > u || 0 >= r || s.pageX < c) && s.pageX < f && s.pageX > m) {
                        var g = a.position().left / (i.width() - a.width()),
                            v = -g * t,
                            w = -t + $(window).width() - 190,
                            b = -35;
                        w > v ? v = w : v > b && (v = b);
                        var y = "-webkit-transform" in window.getComputedStyle(e.$el.find(".episodes-wrapper").get(0)) ? "-webkit-transform" : "transform",
                            _ = {};
                        _[y] = "translate3d(" + v + "px, 0, 0)", e.$el.find(".episodes-wrapper").css(_)
                    }
                    s.pageX - c;
                    c = s.pageX
                }), i.append(a), this.$el.find(".archived-wrapper .scrollable").append(i)
            }
        }
    })
}), require.register("views/home/error-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        autoRender: !0,
        className: "error-page",
        template: t("views/home/templates/error_template"),
        regions: {
            seasons: ".seasons-row",
            episodes: ".episodes"
        }
    })
}), require.register("views/home/explore-episodes-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = t("views/splash/splash-cards-seasons-collection-view"),
        o = t("views/splash/splash-cards-episodes-collection-view");
    i.exports = n.extend({
        autoRender: !0,
        template: t("views/splash/templates/splash-cards"),
        regions: {
            seasons: ".seasons-row",
            episodes: ".episodes"
        },
        listen: {
            "episodes:chooseCurrent mediator": "scrollToHero",
            "episodes:pushColors mediator": "paintEpisodes"
        },
        events: {
            "initialize-slider .episodes": "addSlider"
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.header = e.header
        },
        getTemplateData: function() {
            return this.header
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.subview("seasons", new s({
                collection: this.collection,
                region: "seasons",
                parentEl: ".explore-episodes"
            })), this.subview("episodes", new o({
                collection: this.collection,
                region: "episodes",
                parentEl: ".explore-episodes"
            }))
        },
        paintEpisodes: function(e, t) {
            (void 0 == t || this.$el.parents(t).length > 0) && (t = t || ".explore-episodes", e && (e.color1 && ($(t + " .color.color1").css("color", e.color1), $(t + " .bg.color1").css("background", e.color1)), e.color2 && ($(t + " .color.color2").css("color", e.color2), $(t + " .bg.color2").css("background", e.color2)), e.color3 && ($(t + " .color.color3").css("color", e.color3), $(t + " .bg.color3").css("background", e.color4)), e.color4 && ($(t + " .color.color4").css("color", e.color4), $(t + " .bg.color4").css("background", e.color4))))
        },
        scrollToHero: function(e) {
            0 != this.$el.parents(e).length && a.scrollTo(0, 1e3)
        },
        addSlider: function() {
            if (!this.$el.find(".episode-selector-slider").length) {
                var e = this,
                    t = _.reduce(_.map(this.$el.find(".episodes-wrapper").children(), function(e) {
                        return $(e).width()
                    }), function(e, t) {
                        return e + t
                    });
                if ("414" == document.body.clientWidth) var i = $('<div class="episode-selector-slider iphone6plus" style="width:80%;height:25px;background:darkgray;left:50%;margin-left:-40%;position:relative;cursor:pointer;margin-top:9%;">');
                else var i = $('<div class="episode-selector-slider">');
                var n, a = $('<div class="pill"><span class="left"></span><span class="right"></span> </div>'),
                    s = new window.Draggabilly(a.get(0), {
                        containment: !0
                    }),
                    o = !1,
                    r = $(window).width(),
                    l = window.setInterval(function() {
                        if (e.$el || clearInterval(l), !o && e.$el && !e.$el.is(":hidden")) {
                            if ("WebKitCSSMatrix" in window) {
                                var s = window.getComputedStyle(e.$el.find(".episodes-wrapper").get(0)),
                                    c = new WebKitCSSMatrix(s.webkitTransform);
                                n = c.m41
                            } else {
                                var h = e.$el.find(".episodes-wrapper").css("transform").replace(/[^0-9\-.,]/g, "").split(","),
                                    d = h[12] || h[4];
                                n = parseInt(d)
                            }
                            var p = -n / t,
                                u = -t + $(window).width() - 190,
                                m = -35;
                            u >= n ? p = 1 : n >= m && (p = 0);
                            var f = i.width() - a.width();
                            e.$el.find(".pill").css("left", parseInt(f * p)), r = $(window).width()
                        }
                    }, 1e3 / 60);
                s.on("dragStart", function() {
                    o = !0, e.$el.find(".episodes-wrapper").css({
                        "transition-duration": "0",
                        "-webkit-transition-duration": "0"
                    })
                }), s.on("dragEnd", function() {
                    o = !1, e.$el.find(".episodes-wrapper").css({
                        "transition-duration": ".5s",
                        "-webkit-transition-duration": ".5s"
                    })
                });
                var c = 0;
                i.on("click", function(n) {
                    if ($(n.target).hasClass("episode-selector-slider")) {
                        var a = (n.pageX - i.offset().left) / i.width(),
                            s = -a * t;
                        160 > -s && (s = -30), -s > t - r - 300 && (s = -(t - r + 200));
                        var o = "-webkit-transform" in window.getComputedStyle(e.$el.find(".episodes-wrapper").get(0)) ? "-webkit-transform" : "transform",
                            l = {};
                        l[o] = "translate3d(" + s + "px, 0, 0)", e.$el.find(".episodes-wrapper").css(l)
                    }
                }), s.on("dragMove", function(n, s, o) {
                    var r = o.x / i.width(),
                        l = e.$el.find(".episodes-wrapper").children().last(),
                        h = e.$el.find(".episodes-wrapper").children().first(),
                        d = h.offset().left,
                        p = l.offset().left + l.width(),
                        u = $(window).width(),
                        m = i.offset().left,
                        f = i.offset().left + i.width();
                    if (r >= -1 && 1 >= r && (0 > d || r >= 0 || s.pageX > c) && (p > u || 0 >= r || s.pageX < c) && s.pageX < f && s.pageX > m) {
                        var g = a.position().left / (i.width() - a.width()),
                            v = -g * t,
                            w = -t + $(window).width() - 190,
                            b = -35;
                        w > v ? v = w : v > b && (v = b);
                        var y = "-webkit-transform" in window.getComputedStyle(e.$el.find(".episodes-wrapper").get(0)) ? "-webkit-transform" : "transform",
                            _ = {};
                        _[y] = "translate3d(" + v + "px, 0, 0)", e.$el.find(".episodes-wrapper").css(_)
                    }
                    c = s.pageX
                }), i.append(a), this.$el.append(i)
            }
        }
    })
}), require.register("views/home/explore-item-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        autoRender: !0,
        animationDuration: 1e3,
        tagName: "li",
        template: t("./templates/explore-item")
    })
}), require.register("views/home/explore-items-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("views/home/explore-item-view");
    i.exports = n.extend({
        autoRender: !0,
        itemView: a,
        tagName: "ul"
    })
}), require.register("views/home/explore-view", function(e, t, i) {
    var n = (t("views/base/collection-view"), t("views/base/view")),
        a = t("views/home/explore-episodes-view"),
        s = t("views/home/explore-items-view"),
        o = t("models/cookie-model"),
        r = t("lib/omniture-module");
    i.exports = n.extend({
        autoRender: !0,
        template: t("./templates/explore"),
        regions: {
            "explore-items": ".explore-items",
            "explore-episodes": ".explore-episodes"
        },
        events: {
            "click .checkbox": function(e) {
                Chaplin.mediator.publish("global-episodes:toggleSpoiler", e)
            },
            "touchstart .jump-to select": function() {
                this.scrollTopCache = $(window).scrollTop(), this.scrollTopCacheCheck = setInterval(_.bind(function() {
                    this.scrollTopCache !== $(window).scrollTop() && window.scrollTo(0, this.scrollTopCache)
                }, this), 8)
            },
            "touchend .jump-to select": function() {
                setTimeout(_.bind(function() {
                    clearInterval(this.scrollTopCacheCheck)
                }, this), 1024)
            },
            "click .explore-items a": "trackLink"
        },
        listen: {
            "global-episodes:toggleSpoiler mediator": "toggleSpoiler"
        },
        toggleSpoiler: function() {
            this.$el.find(".checkbox").toggleClass("on"), this.$el.find(".checkbox").hasClass("on") ? this.$el.find(".checkbox").find("input").attr("checked", "checked") : this.$el.find(".checkbox").find("input").removeAttr("checked"), Chaplin.mediator.publish("episodes:toggleSpoiler", this.$el.find(".checkbox").hasClass("on"), ".explore-episodes")
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.ExploreEpisodesCollection = e.exploreEpisodes, this.ExploreItemsCollection = e.exploreItems, this.header = e.header
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.subview("explore-items", new s({
                region: "explore-items",
                collection: this.ExploreItemsCollection
            })), this.subview("explore-episodes", new a({
                region: "explore-episodes",
                collection: this.ExploreEpisodesCollection,
                header: this.header
            })), this.$el.find(".episodes").trigger("initialize-slider")
        },
        trackLink: function(e) {
            var t = $(e.target).closest("a"),
                i = t.attr("href").split("/")[t.attr("href").split("/").length - 1],
                n = new o,
                a = n.get("season_number"),
                s = n.get("episode_number"),
                l = "episode: s" + a + "e" + s + ": explore: " + i,
                c = new r({
                    special: "link-click",
                    extra: l
                });
            c.fireEvent(l)
        }
    })
}), require.register("views/home/footer-view", function(e, t, i) {
    {
        var n = t("views/base/view");
        t("models/cookie-model")
    }
    i.exports = n.extend({
        autoRender: !0,
        template: t("./templates/footer"),
        initialize: function() {
            this.constructor.__super__.initialize.apply(this, arguments)
        }
    })
}), require.register("views/home/fullscreen-gallery-view", function(e, t, i) {
    {
        var n = t("views/base/view"),
            a = t("models/base/model"),
            s = t("mediator"),
            o = t("lib/utils");
        t("lib/lazyyt")
    }
    i.exports = n.extend({
        className: "content",
        events: {
            "click .close": "hide",
            "click .share": function() {
                return !1
            },
            touchmove: function(e) {
                e.preventDefault()
            }
        },
        listen: {
            "change model": "render",
            "home:galleryopenfullscreen mediator": "show"
        },
        template: t("./templates/fullscreen-gallery"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.$el.find(".share").share()
        },
        show: function(e, t) {
            var i = this;
            this.model = new a(e), this.render(), this.container.addClass("open");
            var n = function(e) {
                    $(window).width() <= 768 ? e.closest(".fullscreen-gallery").find(".bx-pager").css("bottom", e.find(".slider-text").height() + 12) : e.closest(".fullscreen-gallery").find(".bx-pager").attr("style", "")
                },
                s = function(e, t) {
                    t.find(".slider-text").length && e.html(t.find(".hidden-static").html()).css($(window).width() <= 768 ? {
                        top: t.find(".slider-text").position().top + parseInt(t.find(".slider-text").css("margin-top")),
                        bottom: ""
                    } : {
                        top: "",
                        bottom: 55 + t.find(".slider-text h2").height()
                    })
                },
                o = i.$el.find(".share").height() + i.$el.find(".close").height(),
                r = i.$el.find(".gallery-title");
            this.slider = this.$el.find(".fullscreen-slider").bxSlider({
                adaptiveHeight: !0,
                nextText: '<i class="sprites-arrow-forward-fullscreen" />',
                prevText: '<i class="sprites-arrow-backward-fullscreen" />',
                onSliderLoad: function() {
                    var e = i.$el.find(".fullscreen-slider").find("li:not(.bx-clone)").eq(t);
                    n(e), i.setMaxHeight(), i.$el.find(".lazyyt").each(function() {
                        var e = $(this).parents(".bx-viewport");
                        $(this).data("width", e.width()), $(this).data("height", e.height()), $(this).lazyYT()
                    }), setTimeout(function() {
                        i.slider.goToSlide(t)
                    }, 500), s(r, e)
                },
                onSlideBefore: function(e) {
                    n(e), e.find(".iframe-wrap").length ? i.$el.find(".fullscreen-slider").find(".bx-pager").hide() : i.$el.find(".fullscreen-slider").find(".bx-pager").show(), s(r, e)
                },
                onSlideAfter: function(e, t, n) {
                    i.updateSlide(n)
                }
            }), this.$el.find(".fullscreen-slider li").on("click", function() {
                i.slider && i.slider.goToNextSlide()
            }), $(window).off(".fs-gallery").on("resize.fs-gallery", function() {
                $(window).width() > 768 && i.$el.find(".bx-pager").attr("style", ""), i.$el.find(".bx-viewport").css("max-height", i.$el.height() - o), i.$el.find(".bx-viewport li").css("max-height", i.$el.height() - o), setTimeout(function() {
                    var e = i.slider.find("li:not(.bx-clone)").eq(i.slider.getCurrentSlide());
                    s(r, e), n(e), 90 != window.orientation && -90 != window.orientation && i.slider.reloadSlider()
                }, 256)
            }), this.updateSlide(t)
        },
        hide: function() {
            return this.$el.find(".fullscreen-slider li").off("click"), this.container.removeClass("open"), s.publish("home:galleryclosefullscreen", this.slider.getCurrentSlide()), !1
        },
        setMaxHeight: function() {
            var e = this,
                t = e.$el.find(".bx-viewport"),
                i = $(window).height() - e.$el.find(".close").height() - e.$el.find("a.share").height();
            t.height() > i && (t.height(i), t.find("li").css("max-height", i), e.$el.find(".container").css("max-height", i), e.$el.find(".bx-wrapper").css("max-height", i))
        },
        updateSlide: function(e) {
            var t = this.model.get("slides")[e],
                i = this,
                n = {
                    caption: "",
                    description: "",
                    link: ""
                };
            t.share ? (this.$el.find(".share").show(), void 0 != t.custom_share ? (n.caption = t.custom_share.title, n.description = t.custom_share.description, n.link = t.custom_share.url, this.updateShare({
                fb: n,
                tb: n,
                tw: n
            })) : 1 == t.type ? (n.caption = t.title, n.description = "", n.link = window.location.href, n.type = "image", n.pictureParams = t.img ? [t.img, "original", "gallery"] : null, this.updateShare({
                fb: o.getShare(n.type, "fb", n.caption, n.caption, n.link, n.pictureParams),
                tb: o.getShare(n.type, "tb", n.caption, n.caption, n.link, n.pictureParams),
                tw: o.getShare(n.type, "tw", n.caption, n.caption, n.link)
            })) : 2 == t.type && o.getVideoData(t.video_code, function(e, t) {
                n.caption = e, n.link = t, n.type = "video", i.updateShare({
                    fb: o.getShare(n.type, "fb", n.caption, n.caption, n.link),
                    tb: o.getShare(n.type, "tb", n.caption, n.caption, n.link),
                    tw: o.getShare(n.type, "tw", n.caption, n.caption, n.link)
                })
            })) : this.$el.find(".share").hide()
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption), e.fb.link && t.data("share-link", e.fb.link), e.fb.picture && t.data("share-picture", e.fb.picture)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption), e.tb.link && t.data("share-link", e.tb.link), e.tb.picture && t.data("share-picture", e.tb.picture)), e.tw && (e.tw.description && t.data("share-description-TW", e.tw.description), e.tw.link && t.data("share-link", e.tw.link)), t.share()
        }
    })
}), require.register("views/home/galleries-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("./fullscreen-gallery-view"),
        s = t("mediator"),
        o = (t("lib/lazyyt"), t("lib/utils")),
        r = t("models/cookie-model"),
        l = t("lib/omniture-module");
    window.removeExtra = o.removeExtraImagesHandler, i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .fullscreen": "enterFullscreen",
            "click .additional": "enterFullscreen",
            "click .view-slideshow": "enterFullscreen",
            "click .bx-next": "trackLinkNext",
            "click .bx-prev": "trackLinkPrev"
        },
        listen: {
            "change model": "render",
            "home:galleryclosefullscreen mediator": "updateCurrentSlide",
            "device:change mediator": "updateSliders"
        },
        regions: {
            fullscreen: ".fullscreen-gallery"
        },
        template: t("./templates/galleries"),
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.subview("fullscreen", new a({
                region: "fullscreen"
            }));
            var e = this,
                t = function(e) {
                    var t = e.$el.find(".galleries-slider").find("li:not(.bx-clone)").find("img:visible").filter(function() {
                        return "inline" == $(this).css("display")
                    }).height();
                    e.$el.find(".gallery .slider .bx-prev").css("top", t / 2), e.$el.find(".gallery .slider .bx-next").css("top", t / 2)
                },
                i = function(e) {
                    if ($(window).width() <= 768) {
                        var t = e.closest(".gallery").find("li:first img:visible").height();
                        e.closest(".gallery").css("height", t), e.closest(".gallery").find(".bx-pager").css("top", t + 10)
                    } else {
                        var i = e.closest(".gallery").find(".bx-pager");
                        i.attr("style", "")
                    }
                },
                n = function(t, i) {
                    if (i.find(".wrapper-cell").length)
                        if ($(window).width() <= 768) {
                            var n = e.$el.find(".gallery").height() + 30,
                                n = e.$el.find(".gallery").first().find("li:first img:visible").height();
                            e.$el.find(".gallery:first").css("height", n), t.html(i.find(".hidden-static").html()).css({
                                top: n + 30
                            });
                            var a = i.find(".hidden-static").height() < 50 ? 50 : i.find(".hidden-static").height() + 10,
                                a = e.$el.find(".gallery:first .gallery-title").height();
                            e.$el.find(".gallery:not(.additional)").css("margin-bottom", a + 30)
                        } else t.html(i.find(".hidden-static").html()).css({
                            top: i.find(".wrapper-cell").position().top - 10
                        })
                };
            if (this.el) {
                s.publish("home:updateviewport");
                var e = this;
                this.sliders = [], this.$el.find(".galleries-slider").each(function(a) {
                    var o = $(this).closest(".gallery"),
                        r = e.$el.find(".gallery-title"),
                        l = $(this).bxSlider({
                            adaptiveHeight: !0,
                            infiniteLoop: !1,
                            hideControlOnEnd: !0,
                            oneToOneTouch: !0,
                            velocityTouch: !0,
                            nextText: '<i class="sprites-gallery-slider-right-arrow" />',
                            prevText: '<i class="sprites-gallery-slider-left-arrow" />',
                            slideWidth: o.width(),
                            slideWidth: 0,
                            onSliderLoad: function() {
                                var r = o.find(".galleries-slider").find("li:not(.bx-clone)").first();
                                o.data("bx-slider-index", a), t(e), i(r), e.$el.find(".lazyyt").each(function() {
                                    var e = $(this).parents(".gallery"),
                                        t = e.hasClass("additional") && 0 == $(this).parents(".fullscreen-gallery").length ? e.find(".img").width() : e.width(),
                                        i = e.height();
                                    $(this).data("width", t), $(this).data("height", i), $(this).lazyYT()
                                }), n(o.find(".gallery-title"), r), s.publish("home:updateviewport")
                            },
                            onSlideBefore: function(e) {
                                e.find(".iframe-wrap").length ? e.closest(".gallery").find(".bx-pager").hide() : e.closest(".gallery").find(".bx-pager").show(), i(e), r = e.closest(".gallery").find(".gallery-title"), e.is(":first-child") ? (r.find(".gallery-title h1, .gallery-title span").show(), e.find(".hidden-static h1, .hidden-static span").show()) : (r.find(".gallery-title h1, .gallery-title span").hide(), e.find(".hidden-static h1, .hidden-static span").hide()), n(r, e)
                            },
                            onSlideNext: function() {
                                s.publish("home:galleryinteract")
                            },
                            onSlidePrev: function() {
                                s.publish("home:galleryinteract")
                            }
                        });
                    o.find(".galleries-slider li").on("click", function() {
                        l && l.goToNextSlide()
                    }), e.sliders.push(l)
                }), $(window).off(".galleries").on("resize.galleries", function() {
                    e.$el.find(".gallery").width($(window).width()), e.$el.find(".additional-container").width($(window).width()), setTimeout(function() {
                        i($(".gallery:first .bx-pager")), n($(".gallery:first .gallery-title"), $(".gallery:first li").filter(function() {
                            return 0 === $(this).offset().left
                        })), e.$el.find(".bx-loading").hide(), _.each(e.sliders, function(e) {
                            var t = e.getCurrentSlide();
                            e.goToSlide(t)
                        }), t(e)
                    }, 100), $(window).width() > 768 && (e.$el.find(".gallery:first").css("height", ""), e.$el.find(".bx-pager").attr("style", ""), e.$el.find(".gallery:not(.additional)").css("margin-bottom", ""))
                })
            }
            setTimeout(function() {
                e.$el.find(".gallery:not(:first)").addClass("additional"), e.$el.find(".gallery.additional").each(function() {
                    var e = $(this).find('.galleries-slider li:first img[src!=""]').attr("src");
                    $(this).css({
                        background: "url(" + e + ")",
                        "background-size": "cover"
                    })
                }), e.$el.find(".gallery").each(function() {
                    $(this).find(".galleries-slider li").each(function() {
                        $(this).find("img").each(function() {
                            $(this).attr("src").length || $(this).attr("src", $(this).data("src"))
                        })
                    })
                })
            }, 0)
        },
        updateSliders: function() {
            _.each(this.sliders, function(e) {
                o.checkImgLoaded(e.find("li:not(.bx-clone)").eq(e.getCurrentSlide()), function() {
                    e.reloadSlider()
                })
            })
        },
        enterFullscreen: function(e) {
            var t = this.$el.find(".gallery:not(.additional)");
            t.css("height", "").detach();
            var i = $(e.currentTarget).closest(".gallery"),
                n = i.parent();
            i.css("background", "").detach(), i.removeClass("additional").insertBefore(this.$el.find(".additional-container")), n.append(t.addClass("additional")), this.$el.find(".gallery.additional").each(function() {
                var e = $(this).find('.galleries-slider li:first img[src!=""]').attr("src");
                $(this).css({
                    background: "url(" + e + ")",
                    "background-size": "cover"
                })
            });
            var a = $(e.currentTarget).closest(".gallery").data("bx-slider-index"),
                s = this.sliders[a];
            return s && s.reloadSlider(), this.updateSliders(), !1
        },
        updateCurrentSlide: function(e) {
            this.fullscreenSlider && this.fullscreenSlider.goToSlide(e)
        },
        trackLinkNext: function() {
            var e = new r,
                t = e.get("season_number"),
                i = e.get("episode_number"),
                n = "episode: s" + t + "e" + i + ": gallery right",
                a = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: "home",
                    special: "link-click",
                    extra: n
                });
            a.fireEvent(n)
        },
        trackLinkPrev: function() {
            var e = new r,
                t = e.get("season_number"),
                i = e.get("episode_number"),
                n = "episode: s" + t + "e" + i + ": gallery left",
                a = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: "home",
                    special: "link-click",
                    extra: n
                });
            a.fireEvent(n)
        }
    })
}), require.register("views/home/hero-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("mediator"),
        s = t("lib/utils");
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "change model": "render"
        },
        template: t("./templates/hero"),
        attach: function() {
            if (this.constructor.__super__.attach.apply(this, arguments), this.container) {
                s.addPreloader(this.$el, function() {
                    a.publish("home:heroloaded")
                }), s.removeExtraImages(!0);
                var e = this.$el.find(".span_4_of_8:not(.stub) .wrapper h2"),
                    t = parseFloat(e.css("font-size")),
                    i = e.parents(".col:first"),
                    n = this.$el.find(".span_4_of_8:first");
                if ("none" != n.css("display"))
                    for (; e.width() > i.width() && parseFloat(e.css("font-size")) > t / 2;) e.css("font-size", parseFloat(e.css("font-size")) - 1 + "px");
                a.publish("home:viewportadd", this.container), a.publish("home:updateviewport")
            }
        }
    })
}), require.register("views/home/home-page-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = (t("lib/jquery.scroll"), t("lib/omniture-module")),
        o = t("models/cookie-model"),
        r = ["hero", "inside", "people", "locations", "galleries", "explore"];
    i.exports = n.extend({
        autoRender: !0,
        animationDuration: 1e3,
        className: "home-page",
        events: {
            "click a.exploreSection .iconExplore": "explore",
            "touchend a.exploreSection .iconExplore": "explore",
            "click a.exploreSection": function(e) {
                e.preventDefault()
            },
            "touchend a.exploreSection": function(e) {
                e.preventDefault()
            },
            "click a.to-top": "goToTop"
        },
        listen: {
            "device:change mediator": "pointScrollSwitcher",
            "home:loaded mediator": "pointScrollSwitcher",
            "window:scrolled mediator": "checkIfOmnitureTag"
        },
        template: t("./templates/home"),
        regions: {
            hero: ".hero",
            explore: "section.explore",
            footer: ".footer"
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), $(".side-nav-container").add(".nav-container").show()
        },
        remove: function() {
            this.constructor.__super__.remove.apply(this, arguments), this.$el.pointScroll("disable"), r = ["hero", "inside", "people", "locations", "galleries", "explore"]
        },
        explore: function(e) {
            var t = $(".global-nav").outerHeight(),
                i = $(e.currentTarget).closest("section"),
                n = i.next();
            return scrollHeight = !1, i = n.hasClass("quote") ? n : i, scrollHeight = i[0] ? i.offset().top + i.outerHeight() - t : !1, scrollHeight && a.scrollTo(scrollHeight, 1e3), !1
        },
        goToTop: function(e) {
            a.scrollTo(0, 1e3), e.preventDefault()
        },
        pointScrollSwitcher: function(e) {
            switch (this.$el.pointScroll(), e = e ? e : window.device) {
                case "large-desktop":
                case "desktop":
                    this.$el.pointScroll.scrollOn || this.$el.pointScroll("enable");
                    break;
                case "tablet":
                case "mobile":
                    this.$el.pointScroll.scrollOn && this.$el.pointScroll("disable")
            }
        },
        checkIfOmnitureTag: function() {
            var e = "unknown",
                t = $(".point.active").index(".point");
            switch (t) {
                case 0:
                    e = "hero";
                    break;
                case 1:
                    e = "inside";
                    break;
                case 2:
                    e = "people";
                    break;
                case 3:
                    e = "locations";
                    break;
                case 4:
                    e = "galleries";
                    break;
                case 5:
                    e = "explore"
            }
            if (_.contains(r, e)) {
                var i = new o,
                    n = i.get("season_number"),
                    a = i.get("episode_number"),
                    l = new s({
                        section2: "s" + n + ":e" + a,
                        section3: e,
                        contentType: null,
                        contentName: null,
                        extras: null,
                        special: null
                    });
                l.fire(), r = _.without(r, e)
            }
        }
    })
}), require.register("views/home/inside-view", function(e, t, i) {
    var n = (t("models/base/model"), t("views/base/view")),
        a = t("./video-view"),
        s = (t("./article-view"), t("mediator")),
        o = (t("lib/trunk8"), t("lib/omniture-module")),
        r = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "change model": "render"
        },
        events: {
            "click .see-more": "seeMore",
            "click .action-callout": "callAction"
        },
        regions: {
            video: ".video-takeover"
        },
        template: t("./templates/inside"),
        seeMore: function(e) {
            var t = this.$el.find("figure.hidden"),
                i = this.$el;
            return t.removeClass("hidden").addClass("animate-out"), $(e.currentTarget).addClass("hidden"), t.find("img").each(function() {
                var e = $(this).attr("data-original"),
                    t = $(this).attr("src"),
                    i = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC";
                void 0 !== e && e !== !1 && e.length > 0 && t === i && ($(this).attr("src", e), $(this).attr("data-original", ""))
            }), setTimeout(function() {
                t.addClass("animate-in"), setTimeout(function() {
                    s.publish("home:updateviewport"), i.find(".ellipsis-1").trunk8("update"), i.find(".ellipsis-2").trunk8("update"), i.find(".ellipsis-3").trunk8("update")
                }, 300)
            }, 16), !1
        },
        callAction: function(e) {
            var t = $(e.currentTarget),
                i = t.data("action");
            t.hasClass("cta") ? s.publish("home:action" + i, t.hasClass("featured") ? this.model.get("featured") : this.model.get("marquee").cta[t.data("index")]) : s.publish("home:action" + i, t.hasClass("featured") ? this.model.get("featured") : this.model.get("layouts")[t.data("index")]);
            var n = "unknown";
            switch (i) {
                case "article":
                    n = "read synopsis";
                    break;
                case "linkoff":
                    n = t.attr("href").indexOf("hbogo") >= 0 ? "watch on go" : "interview"
            }
            var a = new r,
                l = a.get("season_number"),
                c = a.get("episode_number");
            n = "episode: s" + l + "e" + c + " " + n;
            var h = new o({
                section2: "s" + a.get("season_id") + "e" + a.get("episode_number"),
                section3: "home",
                special: "link-click",
                extra: n
            });
            return h.fireEvent(n), "link" !== i ? (e.preventDefault(), !1) : void 0
        },
        render: function() {
            if (this.constructor.__super__.render.apply(this, arguments), this.subview("video", new a({
                    region: "video"
                })), this.el) {
                s.publish("home:updateviewport");
                var e = this.$el;
                setTimeout(function() {
                    e.find(".ellipsis-1").trunk8({
                        lines: 1
                    }), e.find(".ellipsis-2").trunk8({
                        lines: 2
                    }), e.find(".ellipsis-3").trunk8({
                        lines: 3
                    })
                }, 1e3)
            }
            if (!this.model.has("layouts") || this.model.has("layouts") && !this.model.get("layouts").length) this.$el.find(".see-more").hide();
            else switch (this.model.get("layout_type")) {
                case 0:
                    this.model.get("layouts").length <= 8 && this.$el.find(".see-more").hide();
                    break;
                case 1:
                    this.model.get("layouts").length <= 7 && this.$el.find(".see-more").hide();
                    break;
                case 2:
                    this.model.get("layouts").length <= 4 && this.$el.find(".see-more").hide()
            }
        }
    })
}), require.register("views/home/locations-item-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        autoRender: !0,
        tagName: "li",
        className: "location-item",
        template: t("./templates/locations-item")
    })
}), require.register("views/home/locations-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("./locations-item-view"),
        s = t("models/cookie-model"),
        o = t("lib/omniture-module");
    i.exports = n.extend({
        autoRender: !0,
        renderItems: !1,
        itemView: a,
        listSelector: ".locations-slider",
        template: t("./templates/locations"),
        events: {
            "click .location-item": "trackEvent",
            "click .explore-map a": "trackEvent"
        },
        renderAllItems: function() {
            var e = this,
                t = $(e.$el).find(".map");
            this.constructor.__super__.renderAllItems.apply(this, arguments); {
                var i, n = 0,
                    a = $(e.listSelector).find("li h1"),
                    s = 0,
                    o = function() {
                        var e = !~window.device.indexOf("mobile"),
                            o = parseInt(t.css("padding-left")),
                            r = e ? t.parents("section:first").width() - t.siblings(".slider").width() : t.parents("section:first").width() - 2 * o;
                        t.css("width", r).css("left", e ? 0 : o);
                        var l = e ? "100%" : Math.round(t.width() / 1.57);
                        t.css("height", l), e ? (t.css("margin-top", 1), a.css("margin-bottom", n), s && i.height(s)) : (a.css("margin-bottom", l + 10), t.css("margin-top", a.outerHeight()), i && i.height(s + (parseInt(a.css("margin-bottom")) - n)))
                    };
                $(this.listSelector).bxSlider({
                    adaptiveHeight: !0,
                    infiniteLoop: !1,
                    hideControlOnEnd: !0,
                    pager: this.collection.models.length > 1,
                    nextText: '<i class="sprites-slider_arrow_right_black" />',
                    prevText: '<i class="sprites-slider_arrow_left_black" />',
                    onSlideBefore: function(t) {
                        Chaplin.mediator.publish("home:locations-slide", t), $(e.$el).find(".bx-controls-direction").fadeOut(100, function() {
                            $(this).find("a").css({
                                top: function() {
                                    var e = t.find("h1"),
                                        i = e.position().top,
                                        n = parseInt(e.css("margin-top").replace("px", ""));
                                    return i + n + (e.outerHeight() - $(this).height()) / 2
                                }
                            })
                        })
                    },
                    onSlideAfter: function() {
                        $(e.$el).find(".bx-controls-direction").fadeIn(100)
                    },
                    onSliderLoad: function(r) {
                        i = $(e.listSelector).parents(".bx-viewport:first"), n = parseInt(a.css("margin-bottom")), s = i.height(), o(), Chaplin.mediator.publish("home:locations-init", {
                            el: t.get(0),
                            latlng: e.collection.length ? e.collection.at(0).get("latlng") : null,
                            locations: e.collection
                        });
                        var l = $(e.listSelector).find("li:not(.bx-clone)").eq(r);
                        $(e.$el).find(".bx-controls-direction a").css({
                            top: function() {
                                var e = l.find("h1"),
                                    t = e.position().top,
                                    i = parseInt(e.css("margin-top").replace("px", ""));
                                return t + i + (e.outerHeight() - $(this).height()) / 2
                            }
                        })
                    }
                })
            }
            $(window).on("resize", o)
        },
        getTemplateData: function() {
            return this.model.attributes
        },
        trackEvent: function(e) {
            var t = $(e.target).closest("a"),
                i = new s,
                n = i.get("season_number"),
                a = i.get("episode_number"),
                r = t.attr("href").split("/")[t.attr("href").split("/").length - 1],
                l = "episode: s" + n + "e" + a + ": locations: " + r;
            "map" === r && (r = "explore the map");
            var c = new o({
                section2: "s" + i.get("season_id") + "e" + i.get("episode_number"),
                section3: "home",
                special: "link-click",
                extra: r
            });
            c.fireEvent(l)
        }
    })
}), require.register("views/home/nav-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("views/home/episode-selection-view"),
        s = t("models/base/collection"),
        o = t("models/cookie-model"),
        r = t("lib/utils"),
        l = t("lib/omniture-module");
    i.exports = n.extend({
        autoRender: !0,
        autoAttach: !0,
        className: "global-nav initial",
        tagName: "header",
        template: t("./templates/nav"),
        regions: {
            episodeSelection: ".episode-selection"
        },
        listen: {
            "navbar:update mediator": "reRender",
            "dispatcher:dispatch mediator": "onDispatch",
            "cards:allSlidersInitialized mediator": "movePanel",
            "nav:closeEpisodeSelector mediator": "closeEpisodeSelector"
        },
        events: {
            "click .episode-selector, .change-episode, .sliderMask": "toggleEpisodeSelection",
            "click nav a": "goTo",
            "click .navbar-item-home": "omniEventHome",
            "click .navbar-item-people": "omniEventPeople",
            "click .navbar-item-houses": "omniEventHouses",
            "click .navbar-item-map": "omniEventMap",
            "click .navbar-item-histories": "omniEventHistories",
            "click .navbar-item-settings": "omniEventSettings"
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.seasonModel = e.seasonModel, this.seasonsUrl = e.url, this.cookie = new o, this.model.set("cookie", this.cookie.attributes)
        },
        getScrollTop: function() {
            return Math.max($("html").scrollTop(), $("body").scrollTop())
        },
        hasExpanded: !1,
        expand: function() {
            if (!this.hasExpanded) {
                var e = this,
                    t = this.getScrollTop();
                window.gotresizeinterval && clearInterval(window.gotresizeinterval), window.gotresizeinterval = setInterval(function() {
                    if (void 0 !== e.$el && e.$el.find(".open-side-menu").is(":visible") && e.$el.find(".change-episode").is(":hidden")) {
                        var i = e.getScrollTop(),
                            n = i - t;
                        t = i, Math.abs(n) > 50 && Math.abs(n) < 700 && (n > 0 ? e.$el.addClass("nav-slide-up") : e.$el.removeClass("nav-slide-up")), 150 > i && e.$el.removeClass("nav-slide-up")
                    }
                }, 250), this.hasExpanded = !0
            }
        },
        reRender: function() {
            this.cookie = new o, this.model.set("cookie", this.cookie.attributes), this.model.set("episode_id", this.cookie.get("id")), this.render()
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = new o;
            e.get("hodorize") && r.hodorize(), this.closeSideNav = function() {
                $("body").hasClass("side-nav-opened") && $("body").removeClass("side-nav-opened")
            }, this.closeEpisodeSelector = function() {
                $(".nav-items .selector-wrapper").hasClass("opened") && ($(".nav-items .selector-wrapper").removeClass("opened"), Chaplin.mediator.publish("nav:toggleEpisodes"))
            }
        },
        goTo: function(e) {
            this.$el.find(".open-side-menu").is(":visible") && $(e.currentTarget).is(this.$el.find("nav").children().first()) ? (this.closeEpisodeSelector(), setTimeout(function() {
                this.$el.find("nav").toggleClass("nav-expanded")
            }.bind(this), 1e3)) : $(e.currentTarget).attr("href").replace("/", "") == this.route.path && (window.location.href = $(e.currentTarget).attr("href") + "/")
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = this.$el.find(".open-side-menu");
            e.on("click", function(e) {
                $("body").toggleClass("side-nav-opened"), Chaplin.mediator.publish("nav:closeEpisodeSelector"), Chaplin.mediator.publish("app:hidenav"), e.preventDefault()
            }), this.route && this.updateNav();
            var i = this,
                n = Chaplin.Application.seasons;
            t("lib/retina-1.1.0")();
            var o = {
                title: n.get("title"),
                description: n.get("description")
            };
            n = new s(_.filter(n.get("seasons"), function(e) {
                return e.episodes.length > 0
            })), _.each(n.models, function(e) {
                _.each(e.attributes.episodes, function(e) {
                    e.currently_viewing = !1, e.spoiler = !1, "boolean" != typeof e.locked && (e.locked = parseInt(e.locked)), e.season_id < i.cookie.attributes.season_id ? e.spoiler = !1 : e.season_id == i.cookie.attributes.season_id ? e.id < i.cookie.attributes.id ? e.spoiler = !1 : e.id == i.cookie.attributes.id ? e.currently_viewing = !0 : e.spoiler = !0 : e.spoiler = !0
                })
            }), i.$el && i.$el.find(".episode-selection").length && i.subview("episodeSelection", new a({
                region: "episodeSelection",
                collection: n,
                header: o
            }));
            var r = ($("body").hasClass("desktop") ? "click" : "touchend", t("./templates/settings-nav")),
                l = $('<div class="nav-language-selector side-nav">').append(r({
                    languages: this.model.get("languages")
                })),
                c = function() {
                    var e = $(this).data("lang");
                    Chaplin.mediator.publish("site:changelanguage", e)
                };
            l.find("a").on("click", c).on("touchend", c);
            var h = function(e) {
                var t = i.$el.find(".checkbox");
                t.toggleClass("on"), t.hasClass("on") ? t.find("input").attr("checked", "checked") : t.find("input").removeAttr("checked"), Chaplin.mediator.publish("global-episodes:toggleSpoiler", e)
            };
            l.find(".checkbox").on("click", h).on("touchend", h), i.$el.append(l.hide()), i.$el.find("nav a").last().on("click", function() {
                l.is(":visible") ? l.slideUp() : l.slideDown()
            }), this.expand();
            var d = $(window).width(),
                p = (new Date).getTime();
            $(window).on("resize", function() {
                if ($(window).width() > 768 && 768 >= d) {
                    if ((new Date).getTime() - p < 500) return;
                    console.log("portrait to landscape"), i.reRender()
                } else if ($(window).width() <= 768 && d > 768) {
                    if ((new Date).getTime() - p < 500) return;
                    i.reRender();
                    var e = function(e) {
                            return !!document.location.pathname.match(e)
                        },
                        t = {
                            people: e(/people/),
                            houses: e(/houses/),
                            map: e(/map/),
                            histories: e(/histories/)
                        },
                        n = $(".global-nav");
                    if (n.find(".open-side-menu").is(":visible"))
                        for (var a in t)
                            if (t[a] === !0) {
                                var s = n.find("nav .navbar-item-" + a);
                                s.is(n.find("nav a").first()) || (s.removeClass("active").detach(), n.find("nav").prepend(s))
                            }
                }
                d = $(window).width(), p = (new Date).getTime()
            })
        },
        closeEpisodeSelector: function() {
            this.closeEpisodeSelector()
        },
        preventScroll: function() {
            return !1
        },
        toggleEpisodeSelection: function() {
            var e = $(".nav-items .selector-wrapper"),
                t = this.$el.find(".sliderMask");
            e.toggleClass("opened"), setTimeout(function() {
                Chaplin.mediator.publish("nav:toggleEpisodes")
            }, 500), this.closeSideNav(), this.$el.find("nav").removeClass("nav-expanded"), e.hasClass("opened") && t.height(document.documentElement.offsetHeight)
        },
        onDispatch: function(e, t, i) {
            this.route = i, this.updateNav()
        },
        updateNav: function() {
            if (this.$el && this.route) {
                var e = this.route,
                    t = this.$el.find("nav").find("a");
                t.removeClass("active").filter(function() {
                    return e.path ? -1 !== $(this).attr("href").indexOf(e.path.split("/")[Chaplin.Application.baseUrlPartCount]) : "/" === $(this).attr("href")
                }).addClass("active")
            }
        },
        movePanel: function() {
            Chaplin.mediator.publish("episodes:pushColors", window.scolor)
        },
        omniEventHome: function() {
            var e = new o,
                t = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: window.location.pathname.split("/").slice(-1)[0],
                    special: "link-click",
                    extra: "top nav: home"
                });
            t.fireEvent("top nav: home")
        },
        omniEventPeople: function() {
            var e = new o,
                t = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: window.location.pathname.split("/").slice(-1)[0],
                    special: "link-click",
                    extra: "top nav: people"
                });
            t.fireEvent("top nav: people")
        },
        omniEventHouses: function() {
            var e = new o,
                t = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: window.location.pathname.split("/").slice(-1)[0],
                    special: "link-click",
                    extra: "top nav: houses"
                });
            t.fireEvent("top nav: houses")
        },
        omniEventMap: function() {
            var e = new o,
                t = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: window.location.pathname.split("/").slice(-1)[0],
                    special: "link-click",
                    extra: "top nav: map"
                });
            t.fireEvent("top nav: map")
        },
        omniEventHistories: function() {
            var e = new o,
                t = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: window.location.pathname.split("/").slice(-1)[0],
                    special: "link-click",
                    extra: "top nav: histories"
                });
            t.fireEvent("top nav: histories")
        },
        omniEventSettings: function() {
            var e = new o,
                t = new l({
                    section2: "s" + e.get("season_id") + "e" + e.get("episode_number"),
                    section3: window.location.pathname.split("/").slice(-1)[0],
                    special: "link-click",
                    extra: "top nav: settings"
                });
            t.fireEvent("top nav: settings")
        }
    })
}), require.register("views/home/people-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = (t("mediator"), t("lib/omniture-module")),
        s = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .forward": "nextSlide",
            "click figure a": "omniTrack",
            'click a[href$="people"]': "omniTrack"
        },
        listen: {
            "change model": "attach"
        },
        regions: {
            takeover: ".takeover"
        },
        template: t("./templates/people"),
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), $(window).off(".home-people").on("resize.home-people", _.bind(this.onResize, this)), this.onResize()
        },
        nextSlide: function() {
            return this.bxSlider && this.bxSlider.goToNextSlide(), !1
        },
        onResize: function() {
            this.bxSlider && this.bxSlider.destroySlider(), $(window).width() <= 480 ? this.bxSlider = this.$el.find(".scroll-wrap").bxSlider({
                infiniteLoop: !0,
                controls: !1,
                responsive: !1,
                slideWidth: 122,
                minSlides: 2,
                maxSlides: 3,
                moveSlides: 1,
                slideMargin: 4,
                oneToOneTouch: !0,
                velocityTouch: !0
            }) : $(window).width() <= 768 && (this.bxSlider = this.$el.find(".scroll-wrap").bxSlider({
                infiniteLoop: !0,
                controls: !1,
                responsive: !1,
                slideWidth: 198,
                minSlides: 3,
                maxSlides: 4,
                moveSlides: 1,
                slideMargin: 10,
                oneToOneTouch: !0,
                velocityTouch: !0
            }))
        },
        omniTrack: function(e) {
            var t = $(e.target);
            t = t.closest("a");
            var i = "";
            if (t.attr("href").match(/\/people$/)) i = ": people: see all";
            else {
                var n = t.attr("href");
                i = n.substring(n.lastIndexOf("/") + 1), i = ": people: " + i
            }
            var o = new s,
                r = o.get("season_number"),
                l = o.get("episode_number");
            i = "episode: s" + r + "e" + l + i;
            var c = new a({
                section2: "s" + o.get("season_id") + "e" + o.get("episode_number"),
                section3: "home",
                special: "link-click",
                extra: i
            });
            c.fireEvent(i)
        }
    })
}), require.register("views/home/quote-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = t("mediator"),
        o = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "change model": "render"
        },
        template: t("./templates/quote"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = this.model.get("text") ? this.model.get("text") : "",
                t = this.model.get("author") ? this.model.get("author") : "";
            this.updateShare({
                fb: a.getShare("quote", "fb", [e, t], t),
                tb: a.getShare("quote", "tb", [e, t], t),
                tw: a.getShare("quote", "tw", [e, t])
            });
            var i = new o;
            i.get("lang_id") == Chaplin.Application.spanishId && this.$el.find("q").each(function() {
                var e = $(this).html().trim();
                "." == e[e.length - 1] && (e = e.substring(0, e.length - 1), $(this).attr("data-ending", "."), $(this).html(e))
            })
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.container && (s.publish("home:viewportadd", this.container), s.publish("home:updateviewport"))
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption)), e.tw && e.tw.description && t.data("share-description-TW", e.tw.description), t.share()
        }
    })
}), require.register("views/home/side-nav-view", function(e, t, i) {
    {
        var n = t("views/base/view"),
            a = t("lib/iscroll"),
            s = t("models/cookie-model");
        t("mediator")
    }
    i.exports = n.extend({
        autoRender: !0,
        autoAttach: !0,
        moved: !1,
        touchY: 0,
        className: "side-nav",
        tagName: "div",
        template: t("./templates/side-nav"),
        listen: {
            "navbar:update mediator": "reRender",
            "dispatcher:dispatch mediator": "onDispatch",
            "global-episodes:toggleSpoiler mediator": function() {
                this.$el.find(".checkbox").toggleClass("on"), this.$el.find(".checkbox").hasClass("on") ? this.$el.find(".checkbox").find("input").attr("checked", "checked") : this.$el.find(".checkbox").find("input").removeAttr("checked")
            },
            "app:hidesidenav mediator": "hideSideNav"
        },
        reRender: function() {
            this.cookie = new s, this.model.set({
                episode_id: this.cookie.get("id"),
                episode_number: this.cookie.get("episode_number"),
                season_number: this.cookie.get("season_number"),
                menu_links_title: this.cookie.get("menu_links_title"),
                menu_links: this.cookie.get("menu_links"),
                social_links_title: this.cookie.get("social_links_title"),
                social_links: this.cookie.get("social_links")
            }), this.render(), this.container.find(".scrollable").length && (this.scroller = new a(this.container.find(".scrollable")[0], {
                scrollY: !0,
                mouseWheel: !0
            }))
        },
        onDispatch: function(e, t, i) {
            if (this.$el) {
                var n = this.$el.find(".site-pages li a");
                n.parent().removeClass("active"), n.filter(function() {
                    return i.path ? -1 !== $(this).attr("href").indexOf(i.path.split("/")[Chaplin.Application.baseUrlPartCount]) : "/" === $(this).attr("href")
                }).parent().addClass("active")
            }
            this.container && this.container.find(".scrollable").length && (this.scroller = new a(this.container.find(".scrollable")[0], {
                scrollY: !0,
                mouseWheel: !0
            }))
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.$el.find(".language-selector").toggleClass("showSelect", "mobile" == window.device), $(window).on("orientationchange", function() {
                $(".side-nav-container").hide(), setTimeout(function() {
                    $(".side-nav-container").show()
                }, 500)
            })
        },
        events: {
            "click .checkbox": function(e) {
                $("body").hasClass("no-touch") && Chaplin.mediator.publish("global-episodes:toggleSpoiler", e)
            },
            "touchend .checkbox": function(e) {
                Chaplin.mediator.publish("global-episodes:toggleSpoiler", e)
            },
            "click .close-icon": "openSideNav",
            "touchend .close-icon": "toggleSideNav",
            "click ul li a": "openSideNav",
            "touchstart .language-selector a": "changeLanguage",
            "touchend .language-selector": "toggleHover",
            "change .language-selector .language": "changeSelect",
            "click .language-selector a": "changeLanguage",
            touchstart: "navTouched",
            touchmove: "navMoved",
            "touchend .site-pages a": "goLink",
            "touchend .links a": "goExternalLink",
            "touchend .social-links a": "goExternalLink"
        },
        navTouched: function(e) {
            this.moved = !1, this.touchY = e.originalEvent.touches[0].pageY
        },
        navMoved: function(e) {
            var t = e.originalEvent.touches[0].pageY - this.touchY;
            !e.originalEvent || 10 > t && t > -10 || (this.moved = !0)
        },
        toggleHover: function(e) {
            "mobile" != window.device && (e.preventDefault(), e.stopPropagation(), this.$el.find(".language-selector").toggleClass("open").hasClass("open") && $("body").one("touchend", _.bind(this.toggleHover, this)))
        },
        changeSelect: function() {
            this.changeLanguage($(event.target).val())
        },
        goLink: function(e) {
            if (!this.moved) {
                var t = $(e.target).attr("href") || $(e.target).parents("a:first").attr("href");
                window.location.href = t, e.preventDefault(), setTimeout(function() {
                    $("body").toggleClass("side-nav-opened")
                }, 128)
            }
        },
        goExternalLink: function(e) {
            if (!this.moved) {
                var t = $(e.target).attr("href") || $(e.target).parents("a:first").attr("href");
                window.location.href = t
            }
        },
        openSideNav: function(e) {
            $("body").hasClass("no-touch") && this.toggleSideNav(e)
        },
        toggleSideNav: function() {
            Chaplin.mediator.publish("nav:closeEpisodeSelector"), $("body").toggleClass("side-nav-opened")
        },
        hideSideNav: function() {
            Chaplin.mediator.publish("nav:closeEpisodeSelector"), $("body").removeClass("side-nav-opened")
        },
        changeLanguage: function(e) {
            var t = "string" == typeof e ? e : $(e.target).data("lang");
            t && Chaplin.mediator.publish("site:changelanguage", t), event.preventDefault()
        }
    })
}), require.register("views/home/templates/appendix-chapter", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, o = "";
            return o += '\n<h2 class="episode">' + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "synopsis", s) : p.call(e, "t", "synopsis", s))) + " " + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "season", s) : p.call(e, "t", "season", s))) + " ", (a = i.season) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.season, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + ", " + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "episode", s) : p.call(e, "t", "episode", s))) + " ", (a = i.episode) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.episode, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + "</h2>\n"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n<h2 class="episode">' + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "season", s) : p.call(e, "t", "season", s))) + " ", (a = i.season) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.season, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + ", " + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "episode", s) : p.call(e, "t", "episode", s))) + " ", (a = i.episode) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.episode, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + " " + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "synopsis", s) : p.call(e, "t", "synopsis", s))) + "</h2>\n"
        }

        function r(e, t) {
            var n, a, s = "";
            return s += "\n<h3>", (a = i.subtitle) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.subtitle, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (s += n), s += '</h3>\n<div class="wrap">', (a = i.text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.text, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (s += n), s += "</div>\n"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var l, c, h, d = "",
            p = i.helperMissing,
            u = this.escapeExpression,
            m = "function",
            f = this;
        return c = i.isspanish || t && t.isspanish, h = {
            hash: {},
            data: a
        }, l = c ? c.call(t, h) : p.call(t, "isspanish", h), l = i["if"].call(t, l, {
            hash: {},
            inverse: f.program(3, o, a),
            fn: f.program(1, s, a),
            data: a
        }), (l || 0 === l) && (d += l), d += '\n<h1 style="color: ' + u((c = i.scolor || t && t.scolor, h = {
            hash: {},
            data: a
        }, c ? c.call(t, "color1", h) : p.call(t, "scolor", "color1", h))) + '">', (c = i.title) ? l = c.call(t, {
            hash: {},
            data: a
        }) : (c = t && t.title, l = typeof c === m ? c.call(t, {
            hash: {},
            data: a
        }) : c), d += u(l) + '</h1>\n<span class="author">', (c = i.credit) ? l = c.call(t, {
            hash: {},
            data: a
        }) : (c = t && t.credit, l = typeof c === m ? c.call(t, {
            hash: {},
            data: a
        }) : c), d += u(l) + '</span>\n<div class="wrap">', (c = i.text) ? l = c.call(t, {
            hash: {},
            data: a
        }) : (c = t && t.text, l = typeof c === m ? c.call(t, {
            hash: {},
            data: a
        }) : c), (l || 0 === l) && (d += l), d += "</div>\n", l = i.each.call(t, t && t.subchapters, {
            hash: {},
            inverse: f.noop,
            fn: f.program(5, r, a),
            data: a
        }), (l || 0 === l) && (d += l), d
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/article", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s = "";
            return s += '\n			<img src="' + h((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.image, "xlarge", "appendix", a) : c.call(e, "img-path", e && e.image, "xlarge", "appendix", a))) + '" alt="Article image" class="chapter-image img-1200">\n			<img src="' + h((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.image, "large", "appendix", a) : c.call(e, "img-path", e && e.image, "large", "appendix", a))) + '" alt="Article image" class="chapter-image img-1024">\n			<img src="' + h((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.image, "medium", "appendix", a) : c.call(e, "img-path", e && e.image, "medium", "appendix", a))) + '" alt="Article image" class="chapter-image img-768">\n			<img src="' + h((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.image, "small", "appendix", a) : c.call(e, "img-path", e && e.image, "small", "appendix", a))) + '" alt="Article image" class="chapter-image img-320">\n		'
        }

        function o(e, t) {
            var n, a, s = "";
            return s += '\n				<a href="#" class="share">\n					<span>\n						' + h((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "share", a) : c.call(e, "t", "share", a))) + '\n						<i class="sprites-share-thin"></i>\n					</span>\n				</a>\n			'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var r, l = "",
            c = i.helperMissing,
            h = this.escapeExpression,
            d = this;
        return l += '<a href="#" class="close">\n	<i class="sprites-close"></i>\n</a>\n<div class="scrollable">\n	<div class="container appendix-page">\n		', r = i["if"].call(t, t && t.image, {
            hash: {},
            inverse: d.noop,
            fn: d.program(1, s, a),
            data: a
        }), (r || 0 === r) && (l += r), l += '\n		<div class="flex-wrapper">\n			<div class="article-page"></div>\n			', r = i["if"].call(t, t && t.is_sharable, {
            hash: {},
            inverse: d.noop,
            fn: d.program(3, o, a),
            data: a
        }), (r || 0 === r) && (l += r), l += "\n		</div>\n	</div>\n</div>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/error_template", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = i.helperMissing,
            h = this.escapeExpression;
        return l += '<img src="/images/blackwater-explosion.gif" class="error-background-image">\n<div class="error-takeover open">\n  <div class="content">\n    <p>', o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, s = o ? o.call(t, "Seven hells! The page you're looking for cannot be found. ", r) : c.call(t, "t", "Seven hells! The page you're looking for cannot be found. ", r), (s || 0 === s) && (l += s), l += '</p>\n    <a href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "home#splash", r) : c.call(t, "url", "home#splash", r))) + '?icid=404viewersguide">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "Explore the Viewer's Guide", r) : c.call(t, "t", "Explore the Viewer's Guide", r))) + '<i class="sprites-arrow-forward-white-big"></i></a>\n  </div>\n</div>\n<div class="bottom-most-holder"> \n  <a href="http://www.facebook.com/GameOfThrones" target="_blank"><i class="sprites-facebook-square"><img src="/images/facebook-square.png"></i></a>\n  <a href="http://twitter.com/GameOfThrones" target="_blank"><i class="sprites-twitter-square"><img src="/images/twitter-square.png"></i></a>\n  <div class="disclaimer">\n    2015 Home Box Office, Inc. All rights reserved. HBO and related channels and service marks are the property of Home Box Office, Inc.   | <a href="http://www.hbo.com/html/privacy-policy/index.html" target="_blank"> Privacy policy </a> | <a href="http://www.hbo.com/html/terms-of-use/index.html" target="_blank"> Terms of use </a>\n  </div>\n  <div class="affiliate-links">\n    <a href="http://www.hbo.com/#/" target="_blank"> HBO.COM | </a><a href="https://order.hbonow.com/" target="_blank">HBO NOW |</a><a href="http://www.hbogo.com/" target="_blank"> HBO GO | </a><a href="http://connect.hbo.com/" target="_blank"> HBO CONNECT | </a> <a href="http://store.hbo.com/" target="_blank"> HBO STORE </a>\n  </div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/explore-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a = "";
            return a += "\n	", n = i["if"].call(e, e && e.link, {
                hash: {},
                inverse: d.noop,
                fn: d.program(2, o, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n		<div>\n			<a href="' + c((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.link, s) : l.call(e, "url", e && e.link, s))) + '">\n				<div class="icon">\n					<i class="sprites-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += c(n) + '"></i>\n				</div>\n				<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += c(n) + '" data-original="' + c((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "explore", s) : l.call(e, "img-path", e && e.img, "xlarge", "explore", s))) + '" alt=""/>\n\n				<p>\n					', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += c(n) + '\n					<i class="next-arr sprites-arrow-forward-white"></i>\n				</p>\n			</a>\n		</div>\n	'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var r, l = i.helperMissing,
            c = this.escapeExpression,
            h = "function",
            d = this;
        return r = i["if"].call(t, t && t.img, {
            hash: {},
            inverse: d.noop,
            fn: d.program(1, s, a),
            data: a
        }), r || 0 === r ? r : ""
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/explore", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = "function",
            h = this.escapeExpression,
            d = i.helperMissing;
        return l += '<div>\n	<hr>\n	<div class="title row">\n		<h1>', (o = i.title) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.title, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + "</h1>\n\n		<h2>", (o = i.description) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.description, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '</h2>\n	</div>\n	<div class="explore-items row">\n	</div>\n	<div class="explore-episodes">\n	</div>\n	<a href="#" class="to-top">\n		<span>\n			<i class="sprites-explore-top"></i>\n			<p>\n				' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "back to top", r) : d.call(t, "t", "back to top", r))) + "\n			</p>\n		</span>\n\n	</a>\n</div>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/footer", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<ul class="top-links">\n  <li class="social-links"><a href="//www.facebook.com/GameOfThrones"><i class="sprites-social-fb"></i></a></li>\n  <li class="social-links"><a href="//twitter.com/GameOfThrones"><i class="sprites-social-tw"></i></a></li>\n  <li class="social-links"><a href="//gameofthrones.tumblr.com"><i class="sprites-social-tu"></i></a></li>\n  <li class="social-links"><a href="//youtube.com/user/GameOfThrones"><i class="sprites-social-yt"></i></a></li>\n</ul>\n<hr>\n<ul class="top-links">\n  <li><a href="http://www.hbo.com" target="_blank">HBO.com</a></li>\n  <li><a href="https://order.hbonow.com/" target="_blank">HBO NOW</a></li>\n  <li><a href="http://www.hbogo.com" target="_blank">HBO GO</a></li>\n  <li><a href="http://connect.hbo.com" target="_blank">HBO Connect</a></li>\n  <li><a href="http://shop.hbo.com/game-of-thrones/index.php?v=hbo_shows_game-of-thrones&ecid=PRF-HBO-803217&pa=PRF-HBO-803217" target="_blank">HBO Shop</a></li>\n  <li><a href="http://www.makinggameofthrones.com" target="_blank">Making Game of Thrones</a></li>\n</ul>\n<img src="' + c((s = i["img-path"] || t && t["img-path"], o = {
            hash: {},
            data: a
        }, s ? s.call(t, "", "original", o) : l.call(t, "img-path", "", "original", o))) + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "hboLogo", o) : l.call(t, "t", "hboLogo", o))) + '" alt="" class="logo"/>\n<p class="copy"> 2015 Home Box Office, Inc. All Rights Reserved. This website may contain adult content.</p>\n<ul class="copy-links">\n	<li><a href="http://www.hbo.com/html/privacy-policy/index.html">' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "privacy policy", o) : l.call(t, "t", "privacy policy", o))) + '</a></li>\n	<li><a href="http://www.hbo.com/html/terms-of-use/index.html">' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "terms of use", o) : l.call(t, "t", "terms of use", o))) + "</a></li>\n</ul>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/fullscreen-gallery", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, l = "";
            return l += "\n			<li>\n				", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: f.noop,
                fn: f.program(2, o, t),
                data: t
            }, n = a ? a.call(e, e && e.type, 1, s) : p.call(e, "isEqual", e && e.type, 1, s), (n || 0 === n) && (l += n), l += "\n				", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: f.noop,
                fn: f.program(4, r, t),
                data: t
            }, n = a ? a.call(e, e && e.type, 2, s) : p.call(e, "isEqual", e && e.type, 2, s), (n || 0 === n) && (l += n), l += "\n			</li>\n		"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n					<img src="' + u((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "gallery", s) : p.call(e, "img-path", e && e.img, "xlarge", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '" class="img-1200">\n					<img src="' + u((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "gallery", s) : p.call(e, "img-path", e && e.img, "large", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '" class="img-1024">\n					<img src="' + u((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "medium", "gallery", s) : p.call(e, "img-path", e && e.img, "medium", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '" class="img-768">\n					<img src="' + u((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "gallery", s) : p.call(e, "img-path", e && e.img, "small", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '" class="img-320">\n\n					<div class="slider-text">\n						<div class="hidden-static">\n							<h1>', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + "</h1>\n						</div>\n						<h2>", (a = i.caption) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.caption, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + "</h2>\n					</div>\n				"
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += '\n					<div class="iframe-wrap">\n						<div class="lazyyt" data-youtube-id="', (a = i.video_code) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.video_code, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '" data-width=""\n							 data-height="">' + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "loading...", s) : p.call(e, "t", "loading...", s))) + "</div>\n					</div>\n				"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var l, c, h, d = "",
            p = i.helperMissing,
            u = this.escapeExpression,
            m = "function",
            f = this;
        return d += '<a href="#" class="close close-hidden"><i class="sprites-close"/></a>\n<a href="#" class="close"><i class="sprites-close"/></a>\n<div class="container">\n	<div class="gallery-title">\n	</div>\n	<ul class="fullscreen-slider">\n		', l = i.each.call(t, t && t.slides, {
            hash: {},
            inverse: f.noop,
            fn: f.program(1, s, a),
            data: a
        }), (l || 0 === l) && (d += l), d += '\n	</ul>\n</div>\n<div class="gallery-share">\n<a href="#" class="share">\n	<span>\n		' + u((c = i.t || t && t.t, h = {
            hash: {},
            data: a
        }, c ? c.call(t, "share", h) : p.call(t, "t", "share", h))) + '\n		<i class="sprites-share-thin"></i>\n	</span>\n</a>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/galleries", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a = "";
            return a += "\n			", n = i["if"].call(e, null == t || t === !1 ? t : t.first, {
                hash: {},
                inverse: _.noop,
                fn: _.program(2, o, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n			</div>\n		"
        }

        function o(e, t) {
            var n, a = "";
            return a += '\n			<div class="gallery">\n				<div class="gallery-title">\n				</div>\n				<div class="slider">\n					<ul class="galleries-slider">\n\n						', n = i.each.call(e, e && e.slides, {
                hash: {},
                inverse: _.noop,
                fn: _.program(3, r, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n					</ul>\n				</div>\n				"
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += "\n							<li>\n								", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: _.noop,
                fn: _.program(4, l, t),
                data: t
            }, n = a ? a.call(e, e && e.type, 1, s) : w.call(e, "isEqual", e && e.type, 1, s), (n || 0 === n) && (o += n), o += "\n								", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: _.noop,
                fn: _.program(6, c, t),
                data: t
            }, n = a ? a.call(e, e && e.type, 2, s) : w.call(e, "isEqual", e && e.type, 2, s), (n || 0 === n) && (o += n), o += "\n							</li>\n						"
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += '\n									<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "gallery", s) : w.call(e, "img-path", e && e.img, "xlarge", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-1200 preload">\n									<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "gallery", s) : w.call(e, "img-path", e && e.img, "large", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-1024 preload">\n									<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "medium", "gallery", s) : w.call(e, "img-path", e && e.img, "medium", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-768 preload">\n									<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "gallery", s) : w.call(e, "img-path", e && e.img, "small", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-320 preload">\n\n									<div class="content-grid grid-section clearfix">\n										<div class="col span_4_of_8">\n											<div class="wrapper">\n												<div class="wrapper-cell">\n													<div class="hidden-static">\n														<span>' + b((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "gallery", s) : w.call(e, "t", "gallery", s))) + "</span>\n														<h1>", (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + "</h1>\n														<h2>", (a = i.caption) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.caption, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '</h2>\n													</div>\n												</div>\n											</div>\n										</div>\n										<div class="col span_4_of_8 stub">\n										</div>\n									</div>\n								'
        }

        function c(e, t) {
            var n, a, s, o = "";
            return o += '\n									<div class="iframe-wrap">\n										<div class="lazyyt" data-youtube-id="', (a = i.video_code) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.video_code, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" data-width=""\n												 data-height="">' + b((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "loading...", s) : w.call(e, "t", "loading...", s))) + "</div>\n									</div>\n								"
        }

        function h(e, t) {
            var n, a = "";
            return a += "\n				", n = i.unless.call(e, null == t || t === !1 ? t : t.first, {
                hash: {},
                inverse: _.noop,
                fn: _.program(9, d, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n			"
        }

        function d(e, t) {
            var n, a = "";
            return a += '\n\n				<div class="gallery-container">\n					<div class="gallery">\n						<div class="gallery-title">\n						</div>\n\n						<div class="slider">\n							<ul class="galleries-slider">\n\n								', n = i.each.call(e, e && e.slides, {
                hash: {},
                inverse: _.noop,
                fn: _.program(10, p, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n							</ul>\n						</div>\n					</div>\n					</div>\n				"
        }

        function p(e, t) {
            var n, a, s, o = "";
            return o += "\n									<li>\n										", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: _.noop,
                fn: _.program(11, u, t),
                data: t
            }, n = a ? a.call(e, e && e.type, 1, s) : w.call(e, "isEqual", e && e.type, 1, s), (n || 0 === n) && (o += n), o += "\n										", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: _.noop,
                fn: _.program(13, m, t),
                data: t
            }, n = a ? a.call(e, e && e.type, 2, s) : w.call(e, "isEqual", e && e.type, 2, s), (n || 0 === n) && (o += n), o += "\n									</li>\n								"
        }

        function u(e, t) {
            var n, a, s, o = "";
            return o += '\n											<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "gallery", s) : w.call(e, "img-path", e && e.img, "xlarge", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-1200 preload">\n											<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "gallery", s) : w.call(e, "img-path", e && e.img, "large", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-1024 preload">\n											<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "medium", "gallery", s) : w.call(e, "img-path", e && e.img, "medium", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-768 preload">\n											<img src="' + b((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "gallery", s) : w.call(e, "img-path", e && e.img, "small", "gallery", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" class="img-320 preload">\n\n											<div class="content-grid grid-section clearfix">\n												<div class="col span_4_of_8">\n													<div class="wrapper">\n														<div class="wrapper-cell">\n															<div class="hidden-static">\n																<span>' + b((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "gallery", s) : w.call(e, "t", "gallery", s))) + "</span>\n																<h1>", (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + "</h1>\n																<h2>", (a = i.caption) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.caption, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '</h2>\n															</div>\n														</div>\n													</div>\n												</div>\n												<div class="col span_4_of_8 stub">\n												</div>\n											</div>\n										'
        }

        function m(e, t) {
            var n, a, s, o = "";
            return o += '\n											<div class="iframe-wrap">\n												<div class="lazyyt" data-youtube-id="', (a = i.video_code) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.video_code, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += b(n) + '" data-width=""\n														 data-height="">' + b((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "loading...", s) : w.call(e, "t", "loading...", s))) + "</div>\n											</div>\n										"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var f, g, v = "",
            w = i.helperMissing,
            b = this.escapeExpression,
            y = "function",
            _ = this;
        return v += '<div>\n	<div>\n		<hr>\n		<h1 class="heading">\n			', (g = i.international) ? f = g.call(t, {
            hash: {},
            data: a
        }) : (g = t && t.international, f = typeof g === y ? g.call(t, {
            hash: {},
            data: a
        }) : g), v += b(f) + "\n			", (g = i.title) ? f = g.call(t, {
            hash: {},
            data: a
        }) : (g = t && t.title, f = typeof g === y ? g.call(t, {
            hash: {},
            data: a
        }) : g), v += b(f) + "\n			<em>", (g = i.description) ? f = g.call(t, {
            hash: {},
            data: a
        }) : (g = t && t.description, f = typeof g === y ? g.call(t, {
            hash: {},
            data: a
        }) : g), v += b(f) + "</em>\n		</h1>\n\n		", f = i.each.call(t, t && t.galleries, {
            hash: {},
            inverse: _.noop,
            fn: _.program(1, s, a),
            data: a
        }), (f || 0 === f) && (v += f), v += '\n\n		<div class="additional-container">\n			', f = i.each.call(t, t && t.galleries, {
            hash: {},
            inverse: _.noop,
            fn: _.program(8, h, a),
            data: a
        }), (f || 0 === f) && (v += f), v += '\n		</div>\n		<div class="fullscreen-gallery"></div>\n	</div>\n	<a href="#" class="explore exploreSection"><span class="iconExplore"><i class="sprites-explore-down-small"></i></span></a>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/hero", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, o = "";
            return o += '\n        <div class="col span_4_of_8">\n            <div class="wrapper">\n                <div class="wrapper-cell">\n                    <hr style="background: ' + p((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : d.call(e, "scolor", "color2", s))) + '">\n                    <h1>' + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "season", s) : d.call(e, "t", "season", s))) + " ", (a = i.season) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.season, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + " " + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "episode", s) : d.call(e, "t", "episode", s))) + " ", (a = i.episode) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.episode, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '</h1>\n                    <h2 class="font-', (a = i.title_size) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title_size, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '">', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '</h2>\n                    <a href="#" class="explore exploreSection"><span class="iconExplore"><i class="sprites-explore-down-small"></i></span><span class="textExplore">', (a = i.cta_text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.cta_text, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '</span></a>\n                </div>\n            </div>\n        </div>\n        <div class="col span_4_of_8 stub">\n        </div>\n    '
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n       <div class="col span_4_of_8 stub">\n        </div>\n        <div class="col span_4_of_8">\n            <div class="wrapper">\n                <div class="wrapper-cell">\n                    <hr style="background: ' + p((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : d.call(e, "scolor", "color2", s))) + '">\n                    <h1>' + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "season", s) : d.call(e, "t", "season", s))) + " ", (a = i.season) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.season, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + " " + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "episode", s) : d.call(e, "t", "episode", s))) + " ", (a = i.episode) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.episode, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '</h1>\n                    <h2 class="font-', (a = i.title_size) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title_size, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '">', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + '</h2>\n                    <a href="#" class="explore exploreSection"><span class="iconExplore"><i class="sprites-explore-down-small"></i></span><span class="textExplore">', (a = i.cta_text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.cta_text, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + "</span></a>\n                </div>\n            </div>\n        </div>\n    "
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var r, l, c, h = "",
            d = i.helperMissing,
            p = this.escapeExpression,
            u = "function",
            m = this;
        return h += '<img src="' + p((l = i["img-path"] || t && t["img-path"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.img_1200, "xlarge", "hero", c) : d.call(t, "img-path", t && t.img_1200, "xlarge", "hero", c))) + '" onload="heroOnLoad.call(this)" alt="', (l = i.title) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.title, r = typeof l === u ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + '" class="img-2400 parallax-element">\n<img src="' + p((l = i["img-path"] || t && t["img-path"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.img_1200, "xlarge", "hero", c) : d.call(t, "img-path", t && t.img_1200, "xlarge", "hero", c))) + '" onload="heroOnLoad.call(this)" alt="', (l = i.title) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.title, r = typeof l === u ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + '" class="img-1200 parallax-element">\n<img src="' + p((l = i["img-path"] || t && t["img-path"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.img_1024, "large", "hero", c) : d.call(t, "img-path", t && t.img_1024, "large", "hero", c))) + '" onload="heroOnLoad.call(this)" class="img-1024 parallax-element">\n<img src="' + p((l = i["img-path"] || t && t["img-path"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.img_768, "medium", "hero", c) : d.call(t, "img-path", t && t.img_768, "medium", "hero", c))) + '" onload="heroOnLoad.call(this)" class="img-768 parallax-element">\n<img src="' + p((l = i["img-path"] || t && t["img-path"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.img_320, "small", "hero", c) : d.call(t, "img-path", t && t.img_320, "small", "hero", c))) + '" onload="heroOnLoad.call(this)" class="img-320 parallax-element">\n<div class="content-grid grid-section clearfix">\n    ', r = i["if"].call(t, t && t.left, {
            hash: {},
            inverse: m.program(3, o, a),
            fn: m.program(1, s, a),
            data: a
        }), (r || 0 === r) && (h += r), h += "\n</div>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/home", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<section id="hero" class="hero scrollAnchor"></section>\n<section id="explore" class="explore scrollAnchor"></section>\n<section id="footer" class="footer"></section>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/inside", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, l = "";
            return l += '\n		<div class="cell">\n			<a href="', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(4, r, t),
                fn: B.program(2, o, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.featured, null == n || n === !1 ? n : n.type), "link", s) : N.call(e, "isEqual", (n = e && e.featured, null == n || n === !1 ? n : n.type), "link", s), (n || 0 === n) && (l += n), l += '"\n			   data-action="' + O((n = e && e.featured, n = null == n || n === !1 ? n : n.type, typeof n === R ? n.apply(e) : n)) + '" class="action-callout featured">\n				<span>' + O((n = e && e.featured, n = null == n || n === !1 ? n : n.text, typeof n === R ? n.apply(e) : n)) + '</span>\n				<i class="sprites-featured_plus" style="background-color: ' + O((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : N.call(e, "scolor", "color2", s))) + '"></i>\n				<em></em>\n			</a>\n		</div>\n		'
        }

        function o(e, t) {
            var n, a, s;
            return O((a = i["mobile-url"] || e && e["mobile-url"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.featured, n = null == n || n === !1 ? n : n.takeover, null == n || n === !1 ? n : n.url), (n = e && e.featured, n = null == n || n === !1 ? n : n.takeover, null == n || n === !1 ? n : n.mobile_url), s) : N.call(e, "mobile-url", (n = e && e.featured, n = null == n || n === !1 ? n : n.takeover, null == n || n === !1 ? n : n.url), (n = e && e.featured, n = null == n || n === !1 ? n : n.takeover, null == n || n === !1 ? n : n.mobile_url), s)))
        }

        function r() {
            return "#"
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += "\n								<li>\n									", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.noop,
                fn: B.program(7, c, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "link", s) : N.call(e, "isEqual", e && e.type, "link", s), (n || 0 === n) && (o += n), o += "\n\n									", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.noop,
                fn: B.program(9, h, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "linkoff", s) : N.call(e, "isEqual", e && e.type, "linkoff", s), (n || 0 === n) && (o += n), o += "\n\n									", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.noop,
                fn: B.program(11, d, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "article", s) : N.call(e, "isEqual", e && e.type, "article", s), (n || 0 === n) && (o += n), o += "\n								</li>\n							"
        }

        function c(e, t) {
            var n, a, s, o = "";
            return o += '\n										<a href="' + O((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.url), s) : N.call(e, "url", (n = e && e.takeover, null == n || n === !1 ? n : n.url), s))) + '">\n											<i class="cta-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"\n											   style="background: ; border-left-color: ' + O((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : N.call(e, "scolor", "color2", s))) + '"></i>\n											<span>', (a = i.text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.text, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + "</span>\n										</a>\n									"
        }

        function h(e, t) {
            var n, a, s, o = "";
            return o += '\n										<a href="' + O((a = i["mobile-url"] || e && e["mobile-url"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.url), (n = e && e.takeover, null == n || n === !1 ? n : n.mobile_url), s) : N.call(e, "mobile-url", (n = e && e.takeover, null == n || n === !1 ? n : n.url), (n = e && e.takeover, null == n || n === !1 ? n : n.mobile_url), s))) + '" class="action-callout cta outline" data-action="', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"\n										   data-index="' + O((n = null == t || t === !1 ? t : t.index, typeof n === R ? n.apply(e) : n)) + '">\n											<i class="cta-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"\n											   style="background: ; border-left-color: ' + O((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : N.call(e, "scolor", "color2", s))) + '"></i>\n											<span>', (a = i.text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.text, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + "</span>\n										</a>\n									"
        }

        function d(e, t) {
            var n, a, s, o = "";
            return o += '\n										<a href="#" class="action-callout cta outline" data-action="', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"\n										   data-index="' + O((n = null == t || t === !1 ? t : t.index, typeof n === R ? n.apply(e) : n)) + '">\n											<i class="cta-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"\n											   style="background: ; border-left-color: ' + O((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : N.call(e, "scolor", "color2", s))) + '"></i>\n											<span>', (a = i.text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.text, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + "</span>\n										</a>\n									"
        }

        function p(e, t) {
            var n, a, s, o = "";
            return o += "\n			", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(34, T, t),
                fn: B.program(14, u, t),
                data: t
            }, n = a ? a.call(e, null == t || t === !1 ? t : t.type, 1, null == t || t === !1 ? t : t.index, 0, s) : N.call(e, "isEqual", null == t || t === !1 ? t : t.type, 1, null == t || t === !1 ? t : t.index, 0, s), (n || 0 === n) && (o += n), o += "\n		"
        }

        function u(e, t) {
            var n, a, s, o = "";
            return o += '\n				<figure class="col span_4_of_8 featured ' + O((n = null == t || t === !1 ? t : t.hiddenClass, typeof n === R ? n.apply(e) : n)) + '">\n					', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(17, f, t),
                fn: B.program(15, m, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "link", s) : N.call(e, "isEqual", e && e.type, "link", s), (n || 0 === n) && (o += n), o += '\n\n					<h3 style="background: ' + O((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : N.call(e, "scolor", "color1", s))) + '">' + O((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "featured", s) : N.call(e, "t", "featured", s))) + "</h3>\n					", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(27, _, t),
                fn: B.program(22, w, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "video", s) : N.call(e, "isEqual", e && e.type, "video", s), (n || 0 === n) && (o += n), o += '\n					<span class="inside-icon inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '">\n						<i class="sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"></i>\n						<i class="mobile sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '-small"></i>\n					</span>\n				</a>\n					<figcaption>\n						<h3 style="background: ' + O((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : N.call(e, "scolor", "color1", s))) + '">' + O((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "featured", s) : N.call(e, "t", "featured", s))) + '</h3>\n\n						<div class="bottom-wrapper">\n							<h1>\n								', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(32, S, t),
                fn: B.program(30, k, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "link", s) : N.call(e, "isEqual", e && e.type, "link", s), (n || 0 === n) && (o += n), o += "\n								", (a = i.headline) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.headline, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + ' <i class="sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"></i>\n							</a>\n								<span>', (a = i.headline) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.headline, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + ' <i class="sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"></i></span>\n							</h1>\n\n							<p>', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + "</p>\n						</div>\n					</figcaption>\n				</figure>\n			"
        }

        function m(e, t) {
            var n, a, s, o = "";
            return o += '\n						<a href="' + O((a = i["mobile-url"] || e && e["mobile-url"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.url), (n = e && e.takeover, null == n || n === !1 ? n : n.mobile_url), s) : N.call(e, "mobile-url", (n = e && e.takeover, null == n || n === !1 ? n : n.url), (n = e && e.takeover, null == n || n === !1 ? n : n.mobile_url), s))) + '" target="' + O((n = e && e.takeover, n = null == n || n === !1 ? n : n.target, typeof n === R ? n.apply(e) : n)) + '" class="inside-thumb">\n					'
        }

        function f(e, t) {
            var n, a, s, o = "";
            return o += "\n						", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(20, v, t),
                fn: B.program(18, g, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "linkoff", s) : N.call(e, "isEqual", e && e.type, "linkoff", s), (n || 0 === n) && (o += n), o += "\n					"
        }

        function g(e, t) {
            var n, a, s, o = "";
            return o += '\n							<a href="' + O((a = i["mobile-url"] || e && e["mobile-url"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.url), (n = e && e.takeover, null == n || n === !1 ? n : n.mobile_url), s) : N.call(e, "mobile-url", (n = e && e.takeover, null == n || n === !1 ? n : n.url), (n = e && e.takeover, null == n || n === !1 ? n : n.mobile_url), s))) + '" class="action-callout" data-action="', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '" data-index="' + O((n = null == t || t === !1 ? t : t.index, typeof n === R ? n.apply(e) : n)) + '">\n						'
        }

        function v(e, t) {
            var n, a, s = "";
            return s += '\n							<a href="#" class="action-callout" data-action="', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '" data-index="' + O((n = null == t || t === !1 ? t : t.index, typeof n === R ? n.apply(e) : n)) + '">\n						'
        }

        function w(e, t) {
            var n, a, s = "";
            return s += '\n						<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '" data-original="', n = i["if"].call(e, e && e.img, {
                hash: {},
                inverse: B.program(25, y, t),
                fn: B.program(23, b, t),
                data: t
            }), (n || 0 === n) && (s += n), s += '" alt="', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '">\n					'
        }

        function b(e, t) {
            var n, a;
            return O((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "xlarge", a) : N.call(e, "img-path", e && e.img, "xlarge", a)))
        }

        function y(e, t) {
            var n, a, s;
            return O((a = i.yturl || e && e.yturl, s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.video_code), s) : N.call(e, "yturl", (n = e && e.takeover, null == n || n === !1 ? n : n.video_code), s)))
        }

        function _(e, t) {
            var n, a, s = "";
            return s += '\n						<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '" data-original="', n = i["if"].call(e, e && e.img, {
                hash: {},
                inverse: B.program(25, y, t),
                fn: B.program(28, x, t),
                data: t
            }), (n || 0 === n) && (s += n), s += '" alt="', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '">\n						<span class="inside-icon inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '">\n							<i class="sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '"></i>\n							<i class="mobile sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '-small"></i>\n						</span>\n					'
        }

        function x(e, t) {
            var n, a;
            return O((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "xlarge", "inside", a) : N.call(e, "img-path", e && e.img, "xlarge", "inside", a)))
        }

        function k(e, t) {
            var n, a, s, o = "";
            return o += '\n								<a href="' + O((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.url), s) : N.call(e, "url", (n = e && e.takeover, null == n || n === !1 ? n : n.url), s))) + '" target="' + O((n = e && e.takeover, n = null == n || n === !1 ? n : n.target, typeof n === R ? n.apply(e) : n)) + '">\n								'
        }

        function S(e, t) {
            var n, a, s = "";
            return s += '\n									<a href="#" class="action-callout" data-action="', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '" data-index="' + O((n = null == t || t === !1 ? t : t.index, typeof n === R ? n.apply(e) : n)) + '">\n								'
        }

        function T(e, t) {
            var n, a, s, o = "";
            return o += '\n				<figure class="col span_2_of_8 ' + O((n = null == t || t === !1 ? t : t.firstClass, typeof n === R ? n.apply(e) : n)) + " " + O((n = null == t || t === !1 ? t : t.hiddenClass, typeof n === R ? n.apply(e) : n)) + '">\n					', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(17, f, t),
                fn: B.program(35, C, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "link", s) : N.call(e, "isEqual", e && e.type, "link", s), (n || 0 === n) && (o += n), o += "\n					", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(40, M, t),
                fn: B.program(37, E, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "video", s) : N.call(e, "isEqual", e && e.type, "video", s), (n || 0 === n) && (o += n), o += '\n					<span class="inside-icon inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '">\n						<i class="sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '"></i>\n						<i class="mobile sprites-inside-', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '-small"></i>\n					</span>\n				</a>\n					<figcaption>\n\n						<h2>', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '</h2>\n\n						<h1 class="ellipsis-2">\n							', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: B.program(44, D, t),
                fn: B.program(42, L, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "link", s) : N.call(e, "isEqual", e && e.type, "link", s), (n || 0 === n) && (o += n), o += "\n							", (a = i.headline) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.headline, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + '\n							</a>\n						</h1>\n\n						<p class="ellipsis-3">', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += O(n) + "</p>\n					</figcaption>\n				</figure>\n			"
        }

        function C(e, t) {
            var n, a, s, o = "";
            return o += '\n						<a href="' + O((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.url), s) : N.call(e, "url", (n = e && e.takeover, null == n || n === !1 ? n : n.url), s))) + '" target="' + O((n = e && e.takeover, n = null == n || n === !1 ? n : n.target, typeof n === R ? n.apply(e) : n)) + '" class="inside-thumb">\n					'
        }

        function E(e, t) {
            var n, a, s = "";
            return s += '\n						<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '" data-original="', n = i["if"].call(e, e && e.custom_thumb, {
                hash: {},
                inverse: B.program(38, A, t),
                fn: B.program(23, b, t),
                data: t
            }), (n || 0 === n) && (s += n), s += '" alt="', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '">\n					'
        }

        function A(e, t) {
            var n, a;
            return (a = i.img) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.img, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), O(n)
        }

        function M(e, t) {
            var n, a, s = "";
            return s += '\n						<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '" data-original="', n = i["if"].call(e, e && e.img, {
                hash: {},
                inverse: B.program(25, y, t),
                fn: B.program(28, x, t),
                data: t
            }), (n || 0 === n) && (s += n), s += '" alt="', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '">\n					'
        }

        function L(e, t) {
            var n, a, s, o = "";
            return o += '\n							<a href="' + O((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.takeover, null == n || n === !1 ? n : n.url), s) : N.call(e, "url", (n = e && e.takeover, null == n || n === !1 ? n : n.url), s))) + '" target="' + O((n = e && e.takeover, n = null == n || n === !1 ? n : n.target, typeof n === R ? n.apply(e) : n)) + '">\n							'
        }

        function D(e, t) {
            var n, a, s = "";
            return s += '\n							<a href="#" class="action-callout" data-action="', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === R ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += O(n) + '" data-index="' + O((n = null == t || t === !1 ? t : t.index, typeof n === R ? n.apply(e) : n)) + '">\n							'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var P, I, $, z = "",
            N = i.helperMissing,
            O = this.escapeExpression,
            B = this,
            R = "function";
        return z += '<hr style="background: #000">\n<div class="inside-wrapper">\n	<h1 class="heading">\n		<div class="cell">\n			', (I = i.title) ? P = I.call(t, {
            hash: {},
            data: a
        }) : (I = t && t.title, P = typeof I === R ? I.call(t, {
            hash: {},
            data: a
        }) : I), z += O(P) + "\n			<em>", (I = i.subhead) ? P = I.call(t, {
            hash: {},
            data: a
        }) : (I = t && t.subhead, P = typeof I === R ? I.call(t, {
            hash: {},
            data: a
        }) : I), z += O(P) + "</em>\n		</div>\n		", P = i["if"].call(t, t && t.featured, {
            hash: {},
            inverse: B.noop,
            fn: B.program(1, s, a),
            data: a
        }), (P || 0 === P) && (z += P), z += '\n	</h1>\n\n	<div class="marquee">\n        <img src="', (I = i.placeholder) ? P = I.call(t, {
            hash: {},
            data: a
        }) : (I = t && t.placeholder, P = typeof I === R ? I.call(t, {
            hash: {},
            data: a
        }) : I), z += O(P) + '" data-original="' + O((I = i["img-path"] || t && t["img-path"], $ = {
            hash: {},
            data: a
        }, I ? I.call(t, (P = t && t.marquee, null == P || P === !1 ? P : P.img_1200), "xlarge", "inside", $) : N.call(t, "img-path", (P = t && t.marquee, null == P || P === !1 ? P : P.img_1200), "xlarge", "inside", $))) + '" alt="' + O((P = t && t.marquee, P = null == P || P === !1 ? P : P.title, typeof P === R ? P.apply(t) : P)) + '"\n             class="img-2400 parallax-element">\n		<img src="', (I = i.placeholder) ? P = I.call(t, {
            hash: {},
            data: a
        }) : (I = t && t.placeholder, P = typeof I === R ? I.call(t, {
            hash: {},
            data: a
        }) : I), z += O(P) + '" data-original="' + O((I = i["img-path"] || t && t["img-path"], $ = {
            hash: {},
            data: a
        }, I ? I.call(t, (P = t && t.marquee, null == P || P === !1 ? P : P.img_1200), "xlarge", "inside", $) : N.call(t, "img-path", (P = t && t.marquee, null == P || P === !1 ? P : P.img_1200), "xlarge", "inside", $))) + '" alt="' + O((P = t && t.marquee, P = null == P || P === !1 ? P : P.title, typeof P === R ? P.apply(t) : P)) + '"\n			 class="img-1200 parallax-element">\n		<img src="', (I = i.placeholder) ? P = I.call(t, {
            hash: {},
            data: a
        }) : (I = t && t.placeholder, P = typeof I === R ? I.call(t, {
            hash: {},
            data: a
        }) : I), z += O(P) + '" data-original="' + O((I = i["img-path"] || t && t["img-path"], $ = {
            hash: {},
            data: a
        }, I ? I.call(t, (P = t && t.marquee, null == P || P === !1 ? P : P.img_1024), "large", "inside", $) : N.call(t, "img-path", (P = t && t.marquee, null == P || P === !1 ? P : P.img_1024), "large", "inside", $))) + '" alt="' + O((P = t && t.marquee, P = null == P || P === !1 ? P : P.title, typeof P === R ? P.apply(t) : P)) + '"\n			 class="img-1024 parallax-element">\n		<img src="', (I = i.placeholder) ? P = I.call(t, {
            hash: {},
            data: a
        }) : (I = t && t.placeholder, P = typeof I === R ? I.call(t, {
            hash: {},
            data: a
        }) : I), z += O(P) + '" data-original="' + O((I = i["img-path"] || t && t["img-path"], $ = {
            hash: {},
            data: a
        }, I ? I.call(t, (P = t && t.marquee, null == P || P === !1 ? P : P.img_768), "medium", "inside", $) : N.call(t, "img-path", (P = t && t.marquee, null == P || P === !1 ? P : P.img_768), "medium", "inside", $))) + '" alt="' + O((P = t && t.marquee, P = null == P || P === !1 ? P : P.title, typeof P === R ? P.apply(t) : P)) + '"\n			 class="img-768 parallax-element">\n		<img src="', (I = i.placeholder) ? P = I.call(t, {
            hash: {},
            data: a
        }) : (I = t && t.placeholder, P = typeof I === R ? I.call(t, {
            hash: {},
            data: a
        }) : I), z += O(P) + '" data-original="' + O((I = i["img-path"] || t && t["img-path"], $ = {
            hash: {},
            data: a
        }, I ? I.call(t, (P = t && t.marquee, null == P || P === !1 ? P : P.img_320), "small", "inside", $) : N.call(t, "img-path", (P = t && t.marquee, null == P || P === !1 ? P : P.img_320), "small", "inside", $))) + '" alt="' + O((P = t && t.marquee, P = null == P || P === !1 ? P : P.title, typeof P === R ? P.apply(t) : P)) + '"\n			 class="img-320 parallax-element">\n\n		<div class="content-grid grid-section clearfix">\n			<div class="col span_4_of_8">\n				<div class="wrapper">\n					<div class="wrapper-cell inside-links">\n						<h1>' + O((P = t && t.marquee, P = null == P || P === !1 ? P : P.title, typeof P === R ? P.apply(t) : P)) + "</h1>\n						<ul>\n							", P = i.each.call(t, (P = t && t.marquee, null == P || P === !1 ? P : P.cta), {
            hash: {},
            inverse: B.noop,
            fn: B.program(6, l, a),
            data: a
        }), (P || 0 === P) && (z += P), z += '\n						</ul>\n					</div>\n				</div>\n			</div>\n			<div class="col span_4_of_8 stub">\n			</div>\n		</div>\n	</div>\n	<article class="content-grid grid-section layout-grid clearfix">\n		', I = i.insideGrid || t && t.insideGrid, $ = {
            hash: {},
            inverse: B.noop,
            fn: B.program(13, p, a),
            data: a
        }, P = I ? I.call(t, t && t.layouts, t && t.layout_type, t && t.international, $) : N.call(t, "insideGrid", t && t.layouts, t && t.layout_type, t && t.international, $), (P || 0 === P) && (z += P), z += '\n	</article>\n	<a href="#" class="see-more"><span class="tb">' + O((I = i.t || t && t.t, $ = {
            hash: {},
            data: a
        }, I ? I.call(t, "more inside", $) : N.call(t, "t", "more inside", $))) + '</span><span class="ds">' + O((I = i.t || t && t.t, $ = {
            hash: {},
            data: a
        }, I ? I.call(t, "see more inside", $) : N.call(t, "t", "see more inside", $))) + '</span> +</a>\n</div>\n<div class="video-takeover"></div>\n<div class="article-takeover"></div>\n<a href="#" class="explore exploreSection"><span class="iconExplore"><i\n		class="sprites-explore-down-small"></i></span></a>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/locations-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, o = "";
            return o += '<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + '" data-original="' + d((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "locations", s) : p.call(e, "img-path", e && e.img, "xlarge", "locations", s))) + '" alt=""/>'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var o, r, l, c = "",
            h = "function",
            d = this.escapeExpression,
            p = i.helperMissing,
            u = this;
        return c += '<div class="img-wrapper tablet-up">\n    <a href="' + d((r = i.url || t && t.url, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "map#location", t && t.id, t && t.title, l) : p.call(t, "url", "map#location", t && t.id, t && t.title, l))) + '">\n        <div class="icon">\n            <i class="sprites-map"></i>\n        </div>\n        ', o = i["if"].call(t, t && t.img, {
            hash: {},
            inverse: u.noop,
            fn: u.program(1, s, a),
            data: a
        }), (o || 0 === o) && (c += o), c += '\n    </a>\n</div>\n<div class="location-description">\n    <h1 data-latlng="', (r = i.latlng) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.latlng, o = typeof r === h ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + '" data-type="', (r = i.type) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.type, o = typeof r === h ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + '" data-id="', (r = i.id) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.id, o = typeof r === h ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + '">', (r = i.title) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.title, o = typeof r === h ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + '</h1>\n    <div class="underline-bottom tablet-up" style="border-color: ' + d((r = i.scolor || t && t.scolor, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "color1", l) : p.call(t, "scolor", "color1", l))) + '"></div>\n    <div class="title-wrapper clearfix">\n        <div class="img-wrapper mobile">\n            <a href="' + d((r = i.url || t && t.url, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "map#location", t && t.id, t && t.title, l) : p.call(t, "url", "map#location", t && t.id, t && t.title, l))) + '">\n                <div class="icon" style="background-color: ' + d((r = i.scolor || t && t.scolor, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "color1", l) : p.call(t, "scolor", "color1", l))) + '">\n                    <i class="sprites-map"></i>\n                </div>\n                <img src="', (r = i.placeholder) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.placeholder, o = typeof r === h ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + '" data-original="' + d((r = i["img-path"] || t && t["img-path"], l = {
            hash: {},
            data: a
        }, r ? r.call(t, t && t.img, "xlarge", "locations", l) : p.call(t, "img-path", t && t.img, "xlarge", "locations", l))) + '" alt=""/>\n            </a>\n        </div>\n        <p>', (r = i.description) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.description, o = typeof r === h ? r.call(t, {
            hash: {},
            data: a
        }) : r), (o || 0 === o) && (c += o), c += '</p>\n    </div>\n    <div class="explore-location">\n        <a href="' + d((r = i.url || t && t.url, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "map#location", t && t.id, t && t.title, l) : p.call(t, "url", "map#location", t && t.id, t && t.title, l))) + '">' + d((r = i.t || t && t.t, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "explore location", l) : p.call(t, "t", "explore location", l))) + '\n            <i class="green-forward sprites-arrow_explore-forward" style="background-color: ' + d((r = i.scolor || t && t.scolor, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "color1", l) : p.call(t, "scolor", "color1", l))) + '"></i>\n    		<i class="green-forward sprites-arrow_explore-forward-gray hover" style="background-color: ' + d((r = i.scolor || t && t.scolor, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "color1", l) : p.call(t, "scolor", "color1", l))) + '"></i>\n        </a>\n    </div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/locations", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = "function",
            h = this.escapeExpression,
            d = i.helperMissing;
        return l += '<div>\n    <hr>\n    <div class="locations-content row">\n        <header class="clearfix">\n            <div class="title">\n                <h1>', (o = i.title) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.title, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '</h1>\n\n                <h3 class="tablet-up">', (o = i.description) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.description, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '</h3>\n            </div>\n            <div class="explore-map tablet-up">\n                <a href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "map#index", r) : d.call(t, "url", "map#index", r))) + '">\n                    <p class="small">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "explore", r) : d.call(t, "t", "explore", r))) + '</p>\n                    <p class="big">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "the map", r) : d.call(t, "t", "the map", r))) + '</p>\n                    <i class="green-forward sprites-arrow_explore-forward" style="background-color: ' + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : d.call(t, "scolor", "color1", r))) + '"></i>\n                    <i class="green-forward sprites-arrow_explore-forward-gray hover" style="background-color: ' + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : d.call(t, "scolor", "color1", r))) + '"></i>\n                </a>\n            </div>\n        </header>\n        <section class="clearfix">\n            <div class="map"></div>\n            <div class="slider">\n                <ul class="locations-slider"></ul>\n            </div>\n        </section>\n        <a href="#" class="explore exploreSection">\n			<span class="iconExplore"><i class="sprites-explore-down-small"></i></span>\n		</a>\n    </div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/nav", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = i.helperMissing,
            h = this.escapeExpression,
            d = "function";
        return l += '<div class="nav-items">\n    <a href="#" class="open-side-menu">\n        <svg class="svg-icon open-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n             viewBox="0 0 25.5 10.4" style="enable-background:new 0 0 25.5 10.4;" xml:space="preserve">\n        <path class="icon-path" d="M0.8,0l23.9,0c0.4,0,0.8,0.4,0.8,0.8v0c0,0.4-0.4,0.8-0.8,0.8l-23.9,0C0.4,1.6,0,1.2,0,0.8v0C0,0.4,0.4,0,0.8,0\n            z"/>\n        <path class="icon-path" d="M0.8,4.4H22c0.4,0,0.8,0.4,0.8,0.8v0C22.7,5.6,22.4,6,22,6H0.8C0.4,6,0,5.6,0,5.2v0C0,4.8,0.4,4.4,0.8,4.4z"/>\n        <path class="icon-path" d="M0.8,8.8h16.7c0.4,0,0.8,0.4,0.8,0.8v0c0,0.4-0.4,0.8-0.8,0.8H0.8C0.4,10.4,0,10,0,9.6v0C0,9.2,0.4,8.8,0.8,8.8\n            z"/>\n        </svg>\n        <svg class="svg-icon close-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n             viewBox="0 0 13.8 13.8" style="enable-background:new 0 0 13.8 13.8;" xml:space="preserve">\n        <path class="icon-path" d="M0.2,12.8L12.8,0.2c0.2-0.2,0.6-0.2,0.8,0v0c0.2,0.2,0.2,0.6,0,0.8L1,13.6c-0.2,0.2-0.6,0.2-0.8,0h0\n            C-0.1,13.4-0.1,13,0.2,12.8z"/>\n        <path class="icon-path" d="M1,0.2l12.6,12.6c0.2,0.2,0.2,0.6,0,0.8l0,0c-0.2,0.2-0.6,0.2-0.8,0L0.2,1c-0.2-0.2-0.2-0.6,0-0.8l0,0\n            C0.4-0.1,0.8-0.1,1,0.2z"/>\n        </svg>\n    </a>\n\n    <a href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "home#showsplash", r) : c.call(t, "url", "home#showsplash", r))) + '" class="logo"><img src="' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, "", "original", r) : c.call(t, "img-path", "", "original", r))) + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "navLogo", r) : c.call(t, "t", "navLogo", r))) + '" alt=""></a>\n\n\n    <nav>\n        <a class="navbar-item-home" href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "home#home", t && t.episode_id, (s = t && t.cookie, null == s || s === !1 ? s : s.season_number), (s = t && t.cookie, null == s || s === !1 ? s : s.episode_number), r) : c.call(t, "url", "home#home", t && t.episode_id, (s = t && t.cookie, null == s || s === !1 ? s : s.season_number), (s = t && t.cookie, null == s || s === !1 ? s : s.episode_number), r))) + '" title="' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "home", r) : c.call(t, "t", "home", r))) + '">\n\n            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n               viewBox="0 0 15.4 15.2" style="enable-background:new 0 0 15.4 15.2;" xml:space="preserve">\n                <g>\n                    <rect class="icon-path" x="0" y="0" class="st0" width="7.2" height="7.2"/>\n                    <rect class="icon-path" x="8.2" y="0" class="st0" width="7.2" height="7.2"/>\n                    <rect class="icon-path" x="0" y="8" class="st0" width="7.2" height="7.2"/>\n                    <rect class="icon-path" x="8.2" y="8" class="st0" width="7.2" height="7.2"/>\n                </g>\n            </svg>\n\n            <span>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "home", r) : c.call(t, "t", "home", r))) + '</span>\n        </a>\n        <a class="navbar-item-people" href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "people#index", r) : c.call(t, "url", "people#index", r))) + '" title="' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "people", r) : c.call(t, "t", "people", r))) + '">\n            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 17 14.7" style="enable-background:new 0 0 17 14.7;" xml:space="preserve">\n            <g>\n                <path class="icon-path" d="M0,7.4c0,0.5,0,1.1,0.3,1.4C0.4,8.9,0.5,9,0.6,9v2.9h2.8V9c0.2-0.1,0.4-0.2,0.5-0.6C4,8.1,4,7.7,4,7.4V5.1H0\n                    V7.4z"/>\n                <path class="icon-path" d="M13,5.1v2.3c0,0.7,0.2,1.2,0.6,1.3v3.2h2.8V8.7C16.8,8.5,17,7.9,17,7.4V5.1H13z"/>\n                <path class="icon-path" d="M5.7,9.1c0,0.9,0.4,1.5,1.1,1.7v4h3.4v-4c0.7-0.1,1.1-0.7,1.1-1.7v-4H5.7V9.1z"/>\n                <circle class="icon-path" cx="15" cy="3.1" r="1.4"/>\n                <circle class="icon-path" cx="2" cy="3.1" r="1.4"/>\n                <circle class="icon-path" cx="8.5" cy="2.3" r="2.3"/>\n            </g>\n            </svg>\n            <span>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "people", r) : c.call(t, "t", "people", r))) + '</span>\n        </a>\n        <a class="navbar-item-houses" href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "houses#index", r) : c.call(t, "url", "houses#index", r))) + '" title="' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "houses", r) : c.call(t, "t", "houses", r))) + '">\n            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 11.3 15.4" style="enable-background:new 0 0 11.3 15.4;" xml:space="preserve">\n            <g>\n                <path class="icon-path" d="M0,2.7V5v1.1v3.2v0.4c0,0,0.3,3.2,5.6,5.8l0.2-0.2l-0.1,0.2c5.3-2.5,5.6-5.8,5.6-5.8V9.3V6.1V5V2.7H0z M10,6.6\n                    V9v0.3c0,0-0.2,2.5-4.3,4.4l0.1-0.2l-0.2,0.2c-4-1.9-4.3-4.4-4.3-4.4V9V6.6V5.8H10V6.6z"/>\n                <g>\n                    <rect x="0" y="0" class="icon-path" width="1.4" height="1.4"/>\n                    <rect x="2.5" y="0" class="icon-path" width="1.4" height="1.4"/>\n                    <rect x="5" y="0" class="icon-path" width="1.3" height="1.3"/>\n                    <rect x="7.5" y="0" class="icon-path" width="1.3" height="1.3"/>\n                    <rect x="10" y="0" class="icon-path" width="1.3" height="1.3"/>\n                </g>\n            </g>\n            </svg>\n            <span>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "houses", r) : c.call(t, "t", "houses", r))) + '</span>\n        </a>\n        <a class="navbar-item-map" href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "map#index", r) : c.call(t, "url", "map#index", r))) + '" title="' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "map", r) : c.call(t, "t", "map", r))) + '">\n            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 11 15.7" style="enable-background:new 0 0 11 15.7;" xml:space="preserve">\n            <path class="icon-path" d="M5.5,0C2.5,0,0,2.5,0,5.5c0,2.9,5.1,9.8,5.3,10.1c0,0.1,0.1,0.1,0.2,0.1s0.2,0,0.2-0.1C5.9,15.3,11,8.4,11,5.5\n                C11,2.5,8.5,0,5.5,0z M5.5,7.8c-1.3,0-2.4-1.1-2.4-2.4s1.1-2.4,2.4-2.4s2.4,1.1,2.4,2.4S6.8,7.8,5.5,7.8z"/>\n            </svg>\n\n            <span>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "map", r) : c.call(t, "t", "map", r))) + '</span>\n        </a>\n        <a class="navbar-item-histories" href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "appendix#index", r) : c.call(t, "url", "appendix#index", r))) + '" title="' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "appendix", r) : c.call(t, "t", "appendix", r))) + '">\n            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 12.2 15.2" style="enable-background:new 0 0 12.2 15.2;" xml:space="preserve">\n            <g>\n                <path class="icon-path" d="M0,0.8v13.7c0,0.4,0.3,0.8,0.8,0.8H2V0H0.8C0.3,0,0,0.3,0,0.8z"/>\n                <path class="icon-path" d="M11.9,0H2.5v15.2h9.4c0.1,0,0.3-0.1,0.3-0.3V0.3C12.2,0.1,12,0,11.9,0z M9.6,5.3c0,0.1-0.1,0.3-0.3,0.3H5.3\n                    c-0.1,0-0.3-0.1-0.3-0.3v-2C5.1,3.2,5.2,3,5.3,3h4.1c0.1,0,0.3,0.1,0.3,0.3V5.3z"/>\n            </g>\n            </svg>\n\n            <span>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "appendix", r) : c.call(t, "t", "appendix", r))) + '</span>\n        </a>\n        <a class="navbar-item-settings" href="#" title="' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "settings", r) : c.call(t, "t", "settings", r))) + '">\n            <svg class="svg-icon"version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 14.7 14.7" style="enable-background:new 0 0 14.7 14.7;" xml:space="preserve" style="width:18px;height:18px">\n            <path class="icon-path" d="M14.4,5.9h-1.8c-0.1-0.4-0.3-0.8-0.5-1.2l1.3-1.3c0,0,0.1-0.1,0.1-0.2c0-0.1,0-0.1-0.1-0.2l-1.7-1.7\n                c-0.1-0.1-0.3-0.1-0.3,0L10,2.6C9.6,2.4,9.1,2.2,8.8,2.1V0.2C8.8,0.1,8.7,0,8.6,0H6.1C6,0,5.9,0.1,5.9,0.2v1.8\n                C5.5,2.2,5,2.3,4.6,2.6L3.4,1.3C3.3,1.2,3.1,1.2,3,1.3L1.3,3c-0.1,0.1-0.1,0.3,0,0.3l1.3,1.3C2.4,5,2.2,5.5,2.1,5.9H0.2\n                C0.1,5.9,0,6,0,6.1v2c0,0.1,0.1,0.2,0.2,0.2H2C2.1,8.9,2.3,9.6,2.6,10l-1.3,1.3c0,0-0.1,0.1-0.1,0.2c0,0.1,0,0.1,0.1,0.2L3,13.4\n                c0.1,0.1,0.3,0.1,0.3,0l1.3-1.3c0.3,0.1,0.6,0.3,0.9,0.4c0.1,0,0.2,0.1,0.3,0.1v1.8c0,0.1,0.1,0.2,0.2,0.2h2.4\n                c0.1,0,0.2-0.1,0.2-0.2v-1.8c0.1,0,0.2-0.1,0.3-0.1c0.3-0.1,0.6-0.2,0.9-0.4l1.3,1.3c0.1,0.1,0.3,0.1,0.3,0l1.7-1.7\n                c0.1-0.1,0.1-0.3,0-0.3L12.1,10c0.2-0.4,0.4-0.8,0.5-1.7h1.8c0.1,0,0.2-0.1,0.2-0.2v-2C14.7,6,14.5,5.9,14.4,5.9z M7.3,9.8\n                C6,9.8,4.9,8.7,4.9,7.3S6,4.9,7.3,4.9S9.8,6,9.8,7.3S8.7,9.8,7.3,9.8z"/>\n            </svg>\n\n            <span>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "settings", r) : c.call(t, "t", "settings", r))) + '</span>\n        </a>\n    </nav>\n    <div class="selector-wrapper clearfix">\n        <a class="episode-selector bg-scolored" style="background: ' + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + '">\n            <strong>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "season short", r) : c.call(t, "t", "season short", r))) + h((s = t && t.cookie, s = null == s || s === !1 ? s : s.season_number, typeof s === d ? s.apply(t) : s)) + '</strong>\n			<span class="label">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "episode", r) : c.call(t, "t", "episode", r))) + '</span>\n			<span class="m-label">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "ep", r) : c.call(t, "t", "ep", r))) + "</span> " + h((s = t && t.cookie, s = null == s || s === !1 ? s : s.episode_number, typeof s === d ? s.apply(t) : s)) + '\n			<i class="sprites-arrow-bottom-fill-white"></i>\n        </a>\n        <a class="change-episode"><span class="full">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "change episode", r) : c.call(t, "t", "change episode", r))) + '</span><span class="short">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "change", r) : c.call(t, "t", "change", r))) + '</span><i class="sprites-arrow-bottom-fill-black"></i></a>\n    </div>\n</div>\n<div class="episode-selection">\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/people", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, l = "";
            return l += '\n		<div class="cell">\n			', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(4, r, t),
                fn: L.program(2, o, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.featured, null == n || n === !1 ? n : n.type), "video", s) : M.call(e, "isEqual", (n = e && e.featured, null == n || n === !1 ? n : n.type), "video", s), (n || 0 === n) && (l += n), l += "\n		</div>\n		"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n				<a href="#" data-action="' + A((n = e && e.featured, n = null == n || n === !1 ? n : n.type, typeof n === E ? n.apply(e) : n)) + '" class="action-callout featured">\n					<span>' + A((n = e && e.featured, n = null == n || n === !1 ? n : n.text, typeof n === E ? n.apply(e) : n)) + '</span>\n					<i class="sprites-featured_plus" style="background-color: ' + A((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : M.call(e, "scolor", "color2", s))) + '"></i>\n					<em></em>\n				</a>\n			'
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += '\n				<a href="', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(7, c, t),
                fn: L.program(5, l, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.featured, null == n || n === !1 ? n : n.type), "link", s) : M.call(e, "isEqual", (n = e && e.featured, null == n || n === !1 ? n : n.type), "link", s), (n || 0 === n) && (o += n), o += '">\n					<span>' + A((n = e && e.featured, n = null == n || n === !1 ? n : n.text, typeof n === E ? n.apply(e) : n)) + '</span>\n					<i class="sprites-featured_plus" style="background-color: ' + A((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : M.call(e, "scolor", "color2", s))) + '"></i>\n					<em></em>\n				</a>\n			'
        }

        function l(e, t) {
            var n, a, s;
            return A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.featured, n = null == n || n === !1 ? n : n.takeover, null == n || n === !1 ? n : n.url), s) : M.call(e, "url", (n = e && e.featured, n = null == n || n === !1 ? n : n.takeover, null == n || n === !1 ? n : n.url), s)))
        }

        function c(e) {
            var t;
            return A((t = e && e.featured, t = null == t || t === !1 ? t : t.takeover, t = null == t || t === !1 ? t : t.url, typeof t === E ? t.apply(e) : t))
        }

        function h(e, t) {
            var n, a, s, o = "";
            return o += "\n			", a = i.compare || e && e.compare, s = {
                hash: {
                    operator: "<="
                },
                inverse: L.noop,
                fn: L.program(10, d, t),
                data: t
            }, n = a ? a.call(e, null == t || t === !1 ? t : t.index, 4, s) : M.call(e, "compare", null == t || t === !1 ? t : t.index, 4, s), (n || 0 === n) && (o += n), o += "\n		"
        }

        function d(e, t) {
            var n, a, s, o = "";
            return o += "\n				", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(16, f, t),
                fn: L.program(11, p, t),
                data: t
            }, n = a ? a.call(e, null == t || t === !1 ? t : t.index, 0, s) : M.call(e, "isEqual", null == t || t === !1 ? t : t.index, 0, s), (n || 0 === n) && (o += n), o += "\n			"
        }

        function p(e, t) {
            var n, a, s, o = "";
            return o += '\n					<figure class="col span_4_of_8 featured">\n						<a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">\n							', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(14, m, t),
                fn: L.program(12, u, t),
                data: t
            }, n = a ? a.call(e, e && e.img, e && e.null, s) : M.call(e, "isEqual", e && e.img, e && e.null, s), (n || 0 === n) && (o += n), o += '\n						</a>\n						<figcaption>\n							<a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">\n								<h2>', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + "</h2>\n\n								<h1>", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '</h1>\n							</a>\n							<a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout explore-link" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">' + A((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "explore", s) : M.call(e, "t", "explore", s))) + "\n								+</a>\n						</figcaption>\n					</figure>\n				"
        }

        function u(e, t) {
            var n, a, s, o = "";
            return o += '\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img_1200, "xlarge", "people", s) : M.call(e, "img-path", e && e.img_1200, "xlarge", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1200 block">\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img_1024, "large", "people", s) : M.call(e, "img-path", e && e.img_1024, "large", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1024 block">\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img_768, "medium", "people", s) : M.call(e, "img-path", e && e.img_768, "medium", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-768 block">\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img_320, "small", "people", s) : M.call(e, "img-path", e && e.img_320, "small", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-320 block">\n							'
        }

        function m(e, t) {
            var n, a, s, o = "";
            return o += '\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "people", s) : M.call(e, "img-path", e && e.img, "xlarge", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1200 block">\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "people", s) : M.call(e, "img-path", e && e.img, "large", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1024 block">\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "medium", "people", s) : M.call(e, "img-path", e && e.img, "medium", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-768 block">\n								<img data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "people", s) : M.call(e, "img-path", e && e.img, "small", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-320 block">\n							'
        }

        function f(e, t) {
            var n, a, s, o = "";
            return o += '\n					<figure class="col span_2_of_8">\n						<a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout name" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">\n							', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(19, v, t),
                fn: L.program(17, g, t),
                data: t
            }, n = a ? a.call(e, e && e.img, e && e.null, s) : M.call(e, "isEqual", e && e.img, e && e.null, s), (n || 0 === n) && (o += n), o += '\n						</a>\n						<figcaption>\n							<a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout name" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">\n								<h2>', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + "</h2>\n\n								<h1>", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '</h1>\n							</a>\n							<a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout block" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">+</a>\n						</figcaption>\n					</figure>\n				'
        }

        function g() {
            return "\n							"
        }

        function v(e, t) {
            var n, a, s, o = "";
            return o += '\n								<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '" data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "people", s) : M.call(e, "img-path", e && e.img, "xlarge", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1200 block">\n								<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '" data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "people", s) : M.call(e, "img-path", e && e.img, "large", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1024 block">\n								<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '" data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "medium", "people", s) : M.call(e, "img-path", e && e.img, "medium", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-768 block">\n								<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '" data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "people", s) : M.call(e, "img-path", e && e.img, "small", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-320 block">\n							'
        }

        function w(e, t) {
            var n, a, s, o = "";
            return o += "\n					", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(24, y, t),
                fn: L.program(22, b, t),
                data: t
            }, n = a ? a.call(e, null == t || t === !1 ? t : t.index, 0, s) : M.call(e, "isEqual", null == t || t === !1 ? t : t.index, 0, s), (n || 0 === n) && (o += n), o += "\n				"
        }

        function b() {
            return "\n					"
        }

        function y(e, t) {
            var n, a, s, o = "";
            return o += '\n						<figure class="col">\n                            <a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout block" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">\n								<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '" data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "people", s) : M.call(e, "img-path", e && e.img, "xlarge", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1200 block">\n								<img src="', (a = i.placeholder) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.placeholder, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '" data-original="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "people", s) : M.call(e, "img-path", e && e.img, "large", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-1024 block">\n								<img src="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "medium", "people", s) : M.call(e, "img-path", e && e.img, "medium", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-768 block preload">\n								<img src="' + A((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "people", s) : M.call(e, "img-path", e && e.img, "small", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '"\n									 class="img-320 block preload">\n							</a>\n								<figcaption>\n                                    <a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">\n									<h2>', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + "</h2>\n\n									<h1>", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === E ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += A(n) + '</h1>\n										</a>\n                                    <a href="' + A((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : M.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" class="action-callout block" data-index="' + A((n = null == t || t === !1 ? t : t.index, typeof n === E ? n.apply(e) : n)) + '">+</a>\n								</figcaption>\n\n						</figure>\n					'
        }

        function _(e, t) {
            var n, a, s, o = "";
            return o += "\n		", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(29, k, t),
                fn: L.program(27, x, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.featured, null == n || n === !1 ? n : n.type), "video", s) : M.call(e, "isEqual", (n = e && e.featured, null == n || n === !1 ? n : n.type), "video", s), (n || 0 === n) && (o += n), o += "\n	"
        }

        function x(e, t) {
            var n, a, s, o = "";
            return o += '\n			<a href="#"\n			   data-action="' + A((n = e && e.featured, n = null == n || n === !1 ? n : n.type, typeof n === E ? n.apply(e) : n)) + '" class="action-callout featured mobile-link">\n				<span>' + A((n = e && e.featured, n = null == n || n === !1 ? n : n.text, typeof n === E ? n.apply(e) : n)) + '</span>\n				<i class="sprites-featured_plus" style="background-color: ' + A((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : M.call(e, "scolor", "color2", s))) + '"></i>\n				<em></em>\n			</a>\n		'
        }

        function k(e, t) {
            var n, a, s, o = "";
            return o += '\n			<a href="', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: L.program(7, c, t),
                fn: L.program(5, l, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.featured, null == n || n === !1 ? n : n.type), "link", s) : M.call(e, "isEqual", (n = e && e.featured, null == n || n === !1 ? n : n.type), "link", s), (n || 0 === n) && (o += n), o += '"\n			   class="mobile-link">\n				<span>' + A((n = e && e.featured, n = null == n || n === !1 ? n : n.text, typeof n === E ? n.apply(e) : n)) + '</span>\n				<i class="sprites-featured_plus" style="background-color: ' + A((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color2", s) : M.call(e, "scolor", "color2", s))) + '"></i>\n				<em></em></a>\n		'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var S, T, C = "",
            E = "function",
            A = this.escapeExpression,
            M = i.helperMissing,
            L = this;
        return C += '<hr style="background: #000">\n<div class="people-wrapper">\n	<h1 class="heading">\n		<div class="cell">\n			', (T = i.title) ? S = T.call(t, {
            hash: {},
            data: a
        }) : (T = t && t.title, S = typeof T === E ? T.call(t, {
            hash: {},
            data: a
        }) : T), C += A(S) + "\n			<em>", (T = i.description) ? S = T.call(t, {
            hash: {},
            data: a
        }) : (T = t && t.description, S = typeof T === E ? T.call(t, {
            hash: {},
            data: a
        }) : T), C += A(S) + "</em>\n		</div>\n		", S = i["if"].call(t, t && t.featured, {
            hash: {},
            inverse: L.noop,
            fn: L.program(1, s, a),
            data: a
        }), (S || 0 === S) && (C += S), C += '\n	</h1>\n	<article class="content-grid grid-section clearfix">\n		', S = i.each.call(t, t && t.people, {
            hash: {},
            inverse: L.noop,
            fn: L.program(9, h, a),
            data: a
        }), (S || 0 === S) && (C += S), C += '\n		<div class="carousel">\n			<div class="scroll-wrap">\n				', S = i.each.call(t, t && t.people, {
            hash: {},
            inverse: L.noop,
            fn: L.program(21, w, a),
            data: a
        }), (S || 0 === S) && (C += S), C += '\n			</div>\n			<a href="#" class="forward"><i class="sprites-slider_arrow_right"></i></a>\n		</div>\n	</article>\n	', S = i["if"].call(t, t && t.featured, {
            hash: {},
            inverse: L.noop,
            fn: L.program(26, _, a),
            data: a
        }), (S || 0 === S) && (C += S), C += '\n</div>\n<div class="takeover"></div>\n<a href="#" class="explore exploreSection"><span class="iconExplore"><i\n		class="sprites-explore-down-small"></i></span></a>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/pick-view", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s = "";
            return s += '<span class="pick-call ', n = i["if"].call(e, e && e.extraContent, {
                hash: {},
                inverse: u.noop,
                fn: u.program(2, o, t),
                data: t
            }), (n || 0 === n) && (s += n), s += '" data-content="', (a = i.extraContent) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.extraContent, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += f(n) + '" data-container="', (a = i.container) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.container, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += f(n) + '">'
        }

        function o() {
            return "addcontent"
        }

        function r() {
            return '<span class="pick-call">'
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += '\n				<div class="img">\n					<span>\n						<img src="' + f((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "", s) : g.call(e, "img-path", e && e.img, "small", "", s))) + '" alt="', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += f(n) + '">\n					</span>\n				</div>\n			'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var c, h, d, p = "",
            u = this,
            m = "function",
            f = this.escapeExpression,
            g = i.helperMissing;
        return c = i["if"].call(t, t && t.container, {
            hash: {},
            inverse: u.program(4, r, a),
            fn: u.program(1, s, a),
            data: a
        }), (c || 0 === c) && (p += c), (h = i.text) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.text, c = typeof h === m ? h.call(t, {
            hash: {},
            data: a
        }) : h), (c || 0 === c) && (p += c), p += '<em class="pick-view ', (h = i.type) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.type, c = typeof h === m ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += f(c) + '" data-type="', (h = i.type) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.type, c = typeof h === m ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += f(c) + '" data-id="', (h = i.id) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.id, c = typeof h === m ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += f(c) + '">\n		<a class="pickview-wrapper" href="' + f((h = i.url || t && t.url, d = {
            hash: {},
            data: a
        }, h ? h.call(t, t && t.uri, t && t.id, t && t.name, d) : g.call(t, "url", t && t.uri, t && t.id, t && t.name, d))) + '" data-url="', (h = i.uri) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.uri, c = typeof h === m ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += f(c) + '">\n			\n			', c = i["if"].call(t, t && t.img, {
            hash: {},
            inverse: u.noop,
            fn: u.program(6, l, a),
            data: a
        }), (c || 0 === c) && (p += c), p += "\n			\n			<p>", h = i.t || t && t.t, d = {
            hash: {},
            data: a
        }, c = h ? h.call(t, t && t.inner_text, d) : g.call(t, "t", t && t.inner_text, d), h = i["format-peek"] || t && t["format-peek"], d = {
            hash: {},
            data: a
        }, c = h ? h.call(t, c, d) : g.call(t, "format-peek", c, d), (c || 0 === c) && (p += c), p += '</p>\n			<i class="pick-icon sprites-pick-', (h = i.type) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.type, c = typeof h === m ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += f(c) + '"></i>\n			<em></em>\n		</a>\n</em></span>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/quote", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s() {
            return " hasQuote"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n	<div class="content-grid grid-section">\n		<div class="col', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: f.noop,
                fn: f.program(4, r, t),
                data: t
            }, n = a ? a.call(e, e && e.full_width, !1, s) : u.call(e, "isEqual", e && e.full_width, !1, s), (n || 0 === n) && (o += n), o += '">\n			<div class="wrapper">\n				<div class="wrapper-cell">\n					<p>\n						<q>' + m((a = i["break-newlines"] || e && e["break-newlines"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.text, s) : u.call(e, "break-newlines", e && e.text, s))) + '</q>\n						<span class="author">', (a = i.author) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.author, n = typeof a === g ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += m(n) + "</span>\n					</p>\n					", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: f.noop,
                fn: f.program(6, l, t),
                data: t
            }, n = a ? a.call(e, e && e.share, !0, s) : u.call(e, "isEqual", e && e.share, !0, s), (n || 0 === n) && (o += n), o += "\n				</div>\n			</div>\n		</div>\n	</div>\n	"
        }

        function r() {
            return " span_3_of_8"
        }

        function l(e, t) {
            var n, a, s = "";
            return s += '<a href="#" class="share outline"><span>' + m((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "share", a) : u.call(e, "t", "share", a))) + '</span><i class="sprites-share"></i></a>'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var c, h, d, p = "",
            u = i.helperMissing,
            m = this.escapeExpression,
            f = this,
            g = "function";
        return p += '<div class="itemWrapper', c = i["if"].call(t, t && t.text, {
            hash: {},
            inverse: f.noop,
            fn: f.program(1, s, a),
            data: a
        }), (c || 0 === c) && (p += c), p += '">\n    <img src="', (h = i.placeholder) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.placeholder, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" data-original="' + m((h = i["img-path"] || t && t["img-path"], d = {
            hash: {},
            data: a
        }, h ? h.call(t, t && t.img, "xlarge", "quote", d) : u.call(t, "img-path", t && t.img, "xlarge", "quote", d))) + '" alt="', (h = i.text) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.text, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" class="img-2400 parallax-element">\n	<img src="', (h = i.placeholder) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.placeholder, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" data-original="' + m((h = i["img-path"] || t && t["img-path"], d = {
            hash: {},
            data: a
        }, h ? h.call(t, t && t.img, "xlarge", "quote", d) : u.call(t, "img-path", t && t.img, "xlarge", "quote", d))) + '" alt="', (h = i.text) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.text, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" class="img-1200 parallax-element">\n	<img src="', (h = i.placeholder) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.placeholder, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" data-original="' + m((h = i["img-path"] || t && t["img-path"], d = {
            hash: {},
            data: a
        }, h ? h.call(t, t && t.img, "large", "quote", d) : u.call(t, "img-path", t && t.img, "large", "quote", d))) + '" alt="', (h = i.text) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.text, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" class="img-1024 parallax-element">\n	<img src="', (h = i.placeholder) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.placeholder, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" data-original="' + m((h = i["img-path"] || t && t["img-path"], d = {
            hash: {},
            data: a
        }, h ? h.call(t, t && t.img, "medium", "quote", d) : u.call(t, "img-path", t && t.img, "medium", "quote", d))) + '" alt="', (h = i.text) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.text, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" class="img-768 parallax-element">\n	<img src="', (h = i.placeholder) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.placeholder, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" data-original="' + m((h = i["img-path"] || t && t["img-path"], d = {
            hash: {},
            data: a
        }, h ? h.call(t, t && t.img, "small", "quote", d) : u.call(t, "img-path", t && t.img, "small", "quote", d))) + '" alt="', (h = i.text) ? c = h.call(t, {
            hash: {},
            data: a
        }) : (h = t && t.text, c = typeof h === g ? h.call(t, {
            hash: {},
            data: a
        }) : h), p += m(c) + '" class="img-320 parallax-element">\n	', c = i["if"].call(t, t && t.text, {
            hash: {},
            inverse: f.noop,
            fn: f.program(3, o, a),
            data: a
        }), (c || 0 === c) && (p += c), p += "\n</div>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/settings-nav", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s = "";
            return s += '\n        <li><a data-lang="', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += d(n) + '" href="#">', (a = i.displayName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.displayName, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += d(n) + "</a></li>\n      "
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var o, r, l, c = "",
            h = "function",
            d = this.escapeExpression,
            p = i.helperMissing,
            u = this;
        return c += "<h3>" + d((r = i.t || t && t.t, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "languages", l) : p.call(t, "t", "languages", l))) + '</h3>\n<ul class="not-selectable">\n  <li class="language-selector">\n    ', (r = i.lang_name) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.lang_name, o = typeof r === h ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + "\n    <span>" + d((r = i.t || t && t.t, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "change", l) : p.call(t, "t", "change", l))) + "</span>\n    <ul>\n      ", o = i.each.call(t, t && t.languages, {
            hash: {},
            inverse: u.noop,
            fn: u.program(1, s, a),
            data: a
        }), (o || 0 === o) && (c += o), c += '\n      <li><a data-lang="hodor" href="#">Hodor</a></li>\n    </ul>\n  </li>\n</ul>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/side-nav", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t, n) {
            var a, s, l, h = "";
            return h += '\n					<li class="language-selector">\n						', (s = i.lang_name) ? a = s.call(e, {
                hash: {},
                data: t
            }) : (s = e && e.lang_name, a = typeof s === m ? s.call(e, {
                hash: {},
                data: t
            }) : s), h += f(a) + "\n						<span>" + f((s = i.t || e && e.t, l = {
                hash: {},
                data: t
            }, s ? s.call(e, "change", l) : v.call(e, "t", "change", l))) + "</span>\n						<ul>\n							", a = i.each.call(e, e && e.languages, {
                hash: {},
                inverse: g.noop,
                fn: g.program(2, o, t),
                data: t
            }), (a || 0 === a) && (h += a), h += '\n							<li><a data-lang="hodor" href="#">Hodor</a></li>\n						</ul>\n						<select class="language">\n							', a = i.each.call(e, e && e.languages, {
                hash: {},
                inverse: g.noop,
                fn: g.programWithDepth(4, r, t, e),
                data: t
            }), (a || 0 === a) && (h += a), h += '\n							<option value="hodor"\n								', s = i.compare || n && n.compare, l = {
                hash: {
                    operator: "=="
                },
                inverse: g.noop,
                fn: g.program(7, c, t),
                data: t
            }, a = s ? s.call(e, n && n.lang_name, "Hodor", l) : v.call(e, "compare", n && n.lang_name, "Hodor", l), (a || 0 === a) && (h += a), h += "\n							>Hodor</option>\n						</select>\n					</li>\n					"
        }

        function o(e, t) {
            var n, a, s = "";
            return s += '\n								<li><a data-lang="', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += f(n) + '" href="#">', (a = i.displayName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.displayName, n = typeof a === m ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += f(n) + "</a></li>\n							"
        }

        function r(e, t, n) {
            var a, s, o, r = "";
            return r += '\n								<option value="', (s = i.name) ? a = s.call(e, {
                hash: {},
                data: t
            }) : (s = e && e.name, a = typeof s === m ? s.call(e, {
                hash: {},
                data: t
            }) : s), r += f(a) + '"\n									', s = i.compare || n && n.compare, o = {
                hash: {
                    operator: "=="
                },
                inverse: g.noop,
                fn: g.program(5, l, t),
                data: t
            }, a = s ? s.call(e, n && n.lang_name, e && e.displayName, o) : v.call(e, "compare", n && n.lang_name, e && e.displayName, o), (a || 0 === a) && (r += a), r += "\n								>\n									", (s = i.displayName) ? a = s.call(e, {
                hash: {},
                data: t
            }) : (s = e && e.displayName, a = typeof s === m ? s.call(e, {
                hash: {},
                data: t
            }) : s), r += f(a) + "\n								</option>\n							"
        }

        function l() {
            return "\n									selected\n									"
        }

        function c() {
            return "\n								selected\n								"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var h, d, p, u = "",
            m = "function",
            f = this.escapeExpression,
            g = this,
            v = i.helperMissing;
        return u += '<div>\n	<nav>\n\n		<div class="scrollable">\n			<div>\n				<h3 class="title">\n					' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "season", p) : v.call(t, "t", "season", p))) + " ", (d = i.season_number) ? h = d.call(t, {
            hash: {},
            data: a
        }) : (d = t && t.season_number, h = typeof d === m ? d.call(t, {
            hash: {},
            data: a
        }) : d), u += f(h) + " " + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "episode", p) : v.call(t, "t", "episode", p))) + " ", (d = i.episode_number) ? h = d.call(t, {
            hash: {},
            data: a
        }) : (d = t && t.episode_number, h = typeof d === m ? d.call(t, {
            hash: {},
            data: a
        }) : d), u += f(h) + '\n				</h3>\n				<ul class="site-pages">\n					<li class="active">\n						<a href="' + f((d = i.url || t && t.url, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "home#home", t && t.episode_id, p) : v.call(t, "url", "home#home", t && t.episode_id, p))) + '">\n	        <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	               viewBox="0 0 15.4 15.2" style="enable-background:new 0 0 15.4 15.2;" xml:space="preserve">\n	                <g>\n	                    <rect class="icon-path" x="0" y="0" class="st0" width="7.2" height="7.2"/>\n	                    <rect class="icon-path" x="8.2" y="0" class="st0" width="7.2" height="7.2"/>\n	                    <rect class="icon-path" x="0" y="8" class="st0" width="7.2" height="7.2"/>\n	                    <rect class="icon-path" x="8.2" y="8" class="st0" width="7.2" height="7.2"/>\n	                </g>\n	            </svg>\n							<span>' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "home", p) : v.call(t, "t", "home", p))) + '</span>\n						</a>\n					</li>\n					<li>\n						<a href="' + f((d = i.url || t && t.url, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "people#index", p) : v.call(t, "url", "people#index", p))) + '">\n            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 17 14.7" style="enable-background:new 0 0 17 14.7;" xml:space="preserve">\n            <g>\n                <path class="icon-path" d="M0,7.4c0,0.5,0,1.1,0.3,1.4C0.4,8.9,0.5,9,0.6,9v2.9h2.8V9c0.2-0.1,0.4-0.2,0.5-0.6C4,8.1,4,7.7,4,7.4V5.1H0\n                    V7.4z"/>\n                <path class="icon-path" d="M13,5.1v2.3c0,0.7,0.2,1.2,0.6,1.3v3.2h2.8V8.7C16.8,8.5,17,7.9,17,7.4V5.1H13z"/>\n                <path class="icon-path" d="M5.7,9.1c0,0.9,0.4,1.5,1.1,1.7v4h3.4v-4c0.7-0.1,1.1-0.7,1.1-1.7v-4H5.7V9.1z"/>\n                <circle class="icon-path" cx="15" cy="3.1" r="1.4"/>\n                <circle class="icon-path" cx="2" cy="3.1" r="1.4"/>\n                <circle class="icon-path" cx="8.5" cy="2.3" r="2.3"/>\n            </g>\n            </svg>\n							<span>' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "people", p) : v.call(t, "t", "people", p))) + '</span>\n						</a>\n					</li>\n					<li>\n						<a href="' + f((d = i.url || t && t.url, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "houses#index", p) : v.call(t, "url", "houses#index", p))) + '">\n	            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	                 viewBox="0 0 11.3 15.4" style="enable-background:new 0 0 11.3 15.4;" xml:space="preserve">\n	            <g>\n	                <path class="icon-path" d="M0,2.7V5v1.1v3.2v0.4c0,0,0.3,3.2,5.6,5.8l0.2-0.2l-0.1,0.2c5.3-2.5,5.6-5.8,5.6-5.8V9.3V6.1V5V2.7H0z M10,6.6\n	                    V9v0.3c0,0-0.2,2.5-4.3,4.4l0.1-0.2l-0.2,0.2c-4-1.9-4.3-4.4-4.3-4.4V9V6.6V5.8H10V6.6z"/>\n	                <g>\n	                    <rect x="0" y="0" class="icon-path" width="1.4" height="1.4"/>\n	                    <rect x="2.5" y="0" class="icon-path" width="1.4" height="1.4"/>\n	                    <rect x="5" y="0" class="icon-path" width="1.3" height="1.3"/>\n	                    <rect x="7.5" y="0" class="icon-path" width="1.3" height="1.3"/>\n	                    <rect x="10" y="0" class="icon-path" width="1.3" height="1.3"/>\n	                </g>\n	            </g>\n	            </svg>\n							<span>' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "houses", p) : v.call(t, "t", "houses", p))) + '</span>\n						</a>\n					</li>\n					<li>\n						<a href="' + f((d = i.url || t && t.url, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "map#index", p) : v.call(t, "url", "map#index", p))) + '">\n	            <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	                 viewBox="0 0 11 15.7" style="enable-background:new 0 0 11 15.7;" xml:space="preserve">\n	            <path class="icon-path" d="M5.5,0C2.5,0,0,2.5,0,5.5c0,2.9,5.1,9.8,5.3,10.1c0,0.1,0.1,0.1,0.2,0.1s0.2,0,0.2-0.1C5.9,15.3,11,8.4,11,5.5\n	                C11,2.5,8.5,0,5.5,0z M5.5,7.8c-1.3,0-2.4-1.1-2.4-2.4s1.1-2.4,2.4-2.4s2.4,1.1,2.4,2.4S6.8,7.8,5.5,7.8z"/>\n	            </svg>\n							<span>' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "map", p) : v.call(t, "t", "map", p))) + '</span>\n						</a>\n					</li>\n					<li>\n						<a href="' + f((d = i.url || t && t.url, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "appendix#index", p) : v.call(t, "url", "appendix#index", p))) + '">\n	           <svg class="svg-icon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	                 viewBox="0 0 12.2 15.2" style="enable-background:new 0 0 12.2 15.2;" xml:space="preserve">\n	            <g>\n	                <path class="icon-path" d="M0,0.8v13.7c0,0.4,0.3,0.8,0.8,0.8H2V0H0.8C0.3,0,0,0.3,0,0.8z"/>\n	                <path class="icon-path" d="M11.9,0H2.5v15.2h9.4c0.1,0,0.3-0.1,0.3-0.3V0.3C12.2,0.1,12,0,11.9,0z M9.6,5.3c0,0.1-0.1,0.3-0.3,0.3H5.3\n	                    c-0.1,0-0.3-0.1-0.3-0.3v-2C5.1,3.2,5.2,3,5.3,3h4.1c0.1,0,0.3,0.1,0.3,0.3V5.3z"/>\n	            </g>\n	            </svg>\n							<span>' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "appendix", p) : v.call(t, "t", "appendix", p))) + "</span>\n						</a>\n					</li>\n				</ul>\n\n				<h3>" + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "settings", p) : v.call(t, "t", "settings", p))) + '</h3>\n				<ul class="not-selectable">\n					', d = i.count || t && t.count, p = {
            hash: {},
            data: a
        }, h = d ? d.call(t, t && t.languages, p) : v.call(t, "count", t && t.languages, p), d = i.compare || t && t.compare, p = {
            hash: {
                operator: ">"
            },
            inverse: g.noop,
            fn: g.programWithDepth(1, s, a, t),
            data: a
        }, h = d ? d.call(t, h, 1, p) : v.call(t, "compare", h, 1, p), (h || 0 === h) && (u += h), u += "\n				</ul>\n\n				<h3>", (d = i.social_links_title) ? h = d.call(t, {
            hash: {},
            data: a
        }) : (d = t && t.social_links_title, h = typeof d === m ? d.call(t, {
            hash: {},
            data: a
        }) : d), u += f(h) + '</h3>\n				<ul class="social-links">\n						<li>\n							<a href="http://www.facebook.com/GameOfThrones" target="_blank">\n								<i class="sprites-social-icon-fb"></i>\n								<i class="sprites-social-icon-fb-white hover"></i>\n								<span>Facebook</span>\n							</a>\n						</li>\n						<li>\n							<a href="http://gameofthrones.tumblr.com/" target="_blank">\n								<i class="sprites-social-icon-tu"></i>\n								<i class="sprites-social-icon-tu-white hover"></i>\n								<span>Tumblr</span>\n							</a>\n						</li>\n						<li>\n							<a href="http://twitter.com/GameOfThrones" target="_blank">\n								<i class="sprites-social-icon-tw"></i>\n								<i class="sprites-social-icon-tw-white hover"></i>\n								<span>Twitter</span>\n							</a>\n						</li>\n						<li>\n							<a href="https://www.youtube.com/user/GameofThrones" target="_blank">\n								<i class="sprites-social-icon-yt"></i>\n								<i class="sprites-social-icon-yt-white hover"></i>\n								<span>YouTube</span>\n							</a>\n						</li>\n						<li>\n							<a href="http://instagram.com/gameofthrones" target="_blank">\n								<i class="sprites-social-icon-in"></i>\n								<i class="sprites-social-icon-in-white hover"></i>\n								<span>Instagram</span>\n							</a>\n						</li>\n				</ul>\n				<p class="copy">' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "copyright", p) : v.call(t, "t", "copyright", p))) + "</p>\n			</div>\n		</div>\n	</nav>\n</div>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/templates/video", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s = "";
            return s += '\n	<a href="#" class="share">\n		<span>\n			' + d((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "share", a) : h.call(e, "t", "share", a))) + '\n			<i class="sprites-share-thin"></i>\n		</span>\n	</a>\n'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var o, r, l, c = "",
            h = i.helperMissing,
            d = this.escapeExpression,
            p = "function",
            u = this;
        return c += '<a href="#" class="close"><i class="sprites-close"></i></a>\n<div class="lazyyt" id="i-video"></div>\n<!--<div class="lazyyt" id="youtube-popup" data-youtube-id="' + d((o = t && t.takeover, o = null == o || o === !1 ? o : o.video_code, typeof o === p ? o.apply(t) : o)) + '" data-width="" data-height="">' + d((r = i.t || t && t.t, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "loading...", l) : h.call(t, "t", "loading...", l))) + "</div>-->\n", o = i["if"].call(t, (o = t && t.takeover, null == o || o === !1 ? o : o.share), {
            hash: {},
            inverse: u.noop,
            fn: u.program(1, s, a),
            data: a
        }), (o || 0 === o) && (c += o), c
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/home/video-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = (t("lib/omniture-module"), t("models/cookie-model"), t("models/base/model")),
        s = t("mediator"),
        o = t("lib/utils"),
        r = t("lib/youtube.api");
    i.exports = n.extend({
        autoRender: !0,
        className: "content",
        events: {
            "click .close": "hide",
            touchmove: function(e) {
                e.preventDefault()
            }
        },
        listen: {
            "change model": "render",
            "home:actionvideo mediator": "show"
        },
        template: t("./templates/video"),
        show: function(e) {
            $("html, body").css("overflow", "hidden");
            var t = this,
                i = {},
                n = e.takeover.custom_share;
            void 0 !== n ? (i.caption = n.title, i.description = n.description, i.link = n.url, t.updateShareData(e, i, !0)) : o.getVideoData(e.takeover.video_code, function(n, a) {
                i.caption = e.headline || "", i.description = e.body || "", i.link = a, t.updateShareData(e, i, !1), s.publish("video:play", n)
            })
        },
        updateShareData: function(e, t, i) {
            var n = this;
            this.model = new a(e), this.render(), r.then(function(t) {
                n.player = new t.Player("i-video", {
                    height: 0,
                    width: 0,
                    playerVars: {
                        autoplay: 1,
                        html5: 1
                    },
                    videoId: e.takeover.video_code,
                    events: {
                        onStateChange: function(e) {
                            0 === e.data && n.hide()
                        }
                    }
                })
            }), this.updateShare(i ? {
                fb: t,
                tb: t,
                tw: t
            } : {
                fb: o.getShare("video", "fb", t.caption, t.description, t.link),
                tb: o.getShare("video", "tb", t.caption, t.description, t.link),
                tw: o.getShare("video", "tw", t.caption, t.description, t.link)
            }), this.container.addClass("open"), this.$el.find(".lazyyt").each(function() {
                n.youtubeResize(this)
            })
        },
        hide: function(e) {
            $("html, body").css("overflow", "auto"), Chaplin.mediator.publish("splash-slider:start"), this.container.removeClass("open"), this.$el.find(".lazyyt").attr("src", ""), this.player && this.player.destroy(), e && e.preventDefault()
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption), e.fb.link && t.data("share-link", e.fb.link)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption), e.tb.link && t.data("share-link", e.tb.link)), e.tw && (e.tw.description && t.data("share-description-TW", e.tw.description), e.tw.link && t.data("share-link", e.tw.link)), t.share()
        },
        youtubeResize: function(e) {
            var t = this,
                i = $(e),
                n = Math.round(.8 * $(window).width()),
                a = Math.round(n / 16 * 9) + 35,
                s = $(window).height() - 120;
            a > s && (n = Math.round(1.77777 * (s - 35)), a = s), i.data("width", n), i.data("height", a), i.css({
                width: n + "px",
                height: a + "px",
                "margin-top": -a / 2,
                left: ($(window).width() - n) / 2
            }), $(window).on("resize", function() {
                t.youtubeResize(e)
            })
        }
    })
}), require.register("views/houses/bumper-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .to-top": "toTop",
            "touchend .to-top": "toTop",
            "click .next": "next",
            "touchstart .next": "next",
            "click .list": "callList",
            "touchend .list": "callList",
            "click .mask": "hide"
        },
        listen: {
            "all model": "render",
            "houses:showbumper mediator": "show",
            "houses:hidebumper mediator": "hide"
        },
        template: t("./templates/bumper"),
        initialize: function() {
            $("body").off(".houses-bumper"), $(window).off(".houses-bumper");
            var e = this,
                t = ((new Date).getTime(), function() {
                    $(window).scrollTop() + $(window).height() >= $("body").height() && !e.bumperVisible && (a.publish("houses:showbumper"), e.bumperVisible = !0)
                }),
                i = function() {
                    e.bumperVisible && (a.publish("houses:hidebumper"), e.bumperVisible = !1)
                };
            a.publish("houses:hidebumper"), e.bumperVisible = !1, $(window).on("DOMMouseScroll.houses-bumper", function(e) {
                e.originalEvent.detail > 0 ? t() : i()
            }), $(window).on("mousewheel.houses-bumper", function(e) {
                e.originalEvent.wheelDelta < 0 ? t() : i()
            }), $(window).on("keydown.houses-bumper", function(e) {
                40 == e.keyCode ? t() : 38 == e.keyCode && i()
            }), $(window).on("resize.houses-bumper", function() {
                $(window).width() > 768 && (a.publish("houses:hidebumper"), e.bumperVisible = !1)
            });
            var n = -1,
                s = -1,
                o = !1;
            $("body").on("touchstart.houses-bumper", function(t) {
                $(".push-in-nav").hasClass("open") || (n = $(window).scrollTop(), n + $(window).height() >= $("body").height() && !e.bumperVisible ? t.preventDefault() : (a.publish("houses:hidebumper"), e.bumperVisible = !1), o = !1, t.originalEvent && (s = t.originalEvent.touches[0].pageY))
            }).on("touchmove.houses-bumper", function(e) {
                e.originalEvent && e.originalEvent.touches[0].pageY - s < -10 && (o = !0), e.originalEvent && n + $(window).height() >= $("body").height() && e.originalEvent.touches[0].pageY - s > 10 && window.scrollTo(0, $(window).scrollTop() - 30)
            }).on("touchend.houses-bumper", function() {
                $(window).scrollTop() === n && o && n + $(window).height() >= $("body").height() ? (a.publish("houses:showbumper"), e.bumperVisible = !0) : (a.publish("houses:hidebumper"), e.bumperVisible = !1), n = -1, s = -1
            }).on("touchcancel.houses-bumper", function() {
                a.publish("houses:hidebumper"), e.bumperVisible = !1, n = -1, s = -1
            })
        },
        toTop: function(e) {
            e.preventDefault(), this.bumperVisible = !1, this.hide(), a.publish("houses:snapto", 1)
        },
        next: function(e) {
            a.publish("loader:show"), a.publish("houses:getnext", function(e) {
                e ? (a.publish("house:load", {
                    id: e.get("id"),
                    silent: !1,
                    tree: !1
                }), a.publish("tree:containerclicked")) : a.publish("loader:hide")
            }), this.hide(), this.bumperVisible = !1, e.preventDefault()
        },
        callList: function(e) {
            e.preventDefault(), this.bumperVisible = !1, this.hide(), a.publish("houses:showlist")
        },
        show: function() {
            if (!this.container.hasClass("open")) {
                this.bumperVisible = !0, this.bumperIsOpening = !0, this.$el.find(".mask").css({
                    height: $(window).height() + "px",
                    top: -$(window).height() + "px"
                }), this.container.show(), setTimeout(_.bind(function() {
                    this.container.addClass("open")
                }, this), 16);
                var e = this;
                $(window).on("DOMMouseScroll.houses-bumper-stop", function(t) {
                    t.originalEvent.detail < 0 && e.hide(), t.preventDefault()
                }), $(window).on("mousewheel.houses-bumper-stop", function(t) {
                    t.originalEvent.wheelDelta > 0 && e.hide(), t.preventDefault()
                }), $(window).on("keydown.houses-bumper-stop", function(t) {
                    38 == t.keyCode && e.hide(), t.preventDefault()
                }), setTimeout(function() {
                    this.bumperIsOpening = !1
                }.bind(this), 750)
            }
        },
        hide: function() {
            this.container.hasClass("open") && !this.bumperIsOpening && (this.bumperVisible = !1, this.container.removeClass("open"), this.container.hide(), $(window).off("DOMMouseScroll.houses-bumper-stop").off("mousewheel.houses-bumper-stop").off("keydown.houses-bumper-stop"))
        }
    })
}), require.register("views/houses/character-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = (t("lib/jquery.dotdotdot.min"), t("models/cookie-model"));
    i.exports = n.extend({
        autoRender: !0,
        opened: !1,
        listen: {
            "character:selected mediator": "open",
            "tree:containerclicked mediator": "close",
            "change model": "render"
        },
        template: t("./templates/character"),
        open: function(e) {
            {
                var t = this.$el.closest(".side-layer"),
                    i = t.closest(".houses.tree"); + new Date, new s
            }
            this.model.set(e.model), $(window).on("resize.resize-side-layer", function() {
                t.css("height", $(window).height())
            }), t.addClass("open").css("height", $(window).height()), i.addClass("open"), this.opened = !0, $(window).width() > 768 ? $(".characters.wrap").hide() : $(".characters.wrap").show()
        },
        close: function() {
            $(window).off("resize.resize-side-layer");
            var e = this.$el.closest(".side-layer");
            e.hasClass("open") && ($(".houses-page .char.selected").removeClass("selected"), e.removeClass("open").css("height", "auto").closest(".houses.tree").removeClass("open"), this.opened = !1)
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), a.parseBody(this.$el.find(".char-description"), ".tree"), this.$el.find(".char-description").dotdotdot()
        },
        initialize: function() {
            var e = this;
            $("body").on("touchend.tree-layer", function(t) {
                if (e.opened) {
                    var i = $(t.target);
                    i.closest(".side-layer")[0] || i.closest(".char")[0] || (e.close(), t.preventDefault())
                }
            })
        }
    })
}), require.register("views/houses/characters-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = (t("mediator"), t("models/cookie-model"));
    i.exports = n.extend({
        tagName: "ul",
        className: "characters-list",
        autoRender: !0,
        events: {
            "click .item": "openCharacterShowModal"
        },
        listen: {
            "pastrelations:loaded mediator": "setPastRelations",
            "mobile-character-modal:close mediator": "closeMobileCharacterModal"
        },
        regions: {},
        template: t("./templates/characters"),
        setPastRelations: function(e, t) {
            this.$el.find('*[data-id="' + t + '"] li[data-id="' + e.id + '"]').prepend($("<img>").attr("src", a.getImageUrl(e.bio.img, "large", "people"))).find("div").append($("<span>").text(e.firstname + " " + e.lastname)), this.$el.find('*[data-id="' + t + '"] .past-relationships').css("display", "block")
        },
        openCharacterShowModal: function(e) {
            var t = this,
                i = $(e.currentTarget),
                n = new s,
                a = n.get("season_colors").color1,
                o = t.$el.find("li.hidden-static").clone(),
                r = $("<div>").addClass("mobile-character-show-modal"),
                l = $("<div>").addClass("mobile-houses-modal-overlay").show(),
                c = r.width();
            $(".houses-page").append(r, l);
            var h = {
                    adaptiveHeight: !1,
                    infiniteLoop: !1,
                    hideControlOnEnd: !0,
                    responsive: !1,
                    controls: !0,
                    pager: !1,
                    moveSlides: 1,
                    slideMargin: 2,
                    slideWidth: c,
                    minSlides: 1,
                    maxSlides: 1,
                    preloadImages: "visible",
                    nextText: '<i class="sprites-slider_arrow_right_black" />',
                    prevText: '<i class="sprites-slider_arrow_left_black" />',
                    oneToOneTouch: !0,
                    velocityTouch: !0
                },
                d = $("<ul>").addClass("slider").append(o);
            r.empty().append(d).show(), this.slider = d.bxSlider(h), this.slider.goToSlide(i.index());
            var p = $("<div>").addClass("modal-close-button").append($("<i>").addClass("sprites-close-big")).css("background", a).on("click", function() {
                Chaplin.mediator.publish("mobile-character-modal:close")
            });
            return r.prepend(p), r.find(".header-bar").css("background", a), r.find(".past-relationships li").slideUp(), r.find(".relationships").add(".past-relationships").find(".header-bar").on("click", function() {
                $(this).parent().find("li").slideToggle(), $(this).parent().siblings("ul").find("li").slideToggle()
            }), r.find(".relationships").each(function() {
                0 === $(this).find("li").length && $(this).hide()
            }), $(window).on("resize.people-detail-slider", function() {
                h.slideWidth = r.width(), t.slider.reloadSlider(h)
            }), !1
        },
        closeMobileCharacterModal: function() {
            $(".mobile-character-show-modal").remove(), $(".mobile-houses-modal-overlay").remove(), $(window).off("resize.people-detail-slider"), this.slider.destroySlider()
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), e && (this.list = e.list)
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.$el.find(".char-description").each(function() {
                a.parseBody($(this), ".tree")
            })
        },
        attach: function() {
            if (this.constructor.__super__.attach.apply(this, arguments), this.list) {
                var e = _.flatten(_.map(this.list, function(e) {
                        return e.characters
                    })),
                    t = this.$el.find(".hidden-static .relationships li");
                _.each(t, function(t) {
                    var i = $(t),
                        n = _.first(_.where(e, {
                            character: i.data("id")
                        }));
                    i.prepend($("<img>").attr("src", a.getImageUrl(n.img, "large", "people"))).find("div").append($("<span>").text(n.firstName + " " + n.lastName))
                });
                setTimeout(function() {
                    if (!($(window).width() > 768)) {
                        var e = $(".houses.description .wrap").offset().top + $(".houses.description .wrap").height();
                        $(".houses.tree").css({
                            bottom: "initial",
                            top: e
                        })
                    }
                }, 0), $(window).on("resize", function() {
                    var e = $(window).width();
                    if (e > 768) $(".houses.tree").css({
                        bottom: "",
                        top: ""
                    }), $(".mobile-character-show-modal").remove(), $(".mobile-houses-modal-overlay").remove();
                    else {
                        var t = $(".houses.description .wrap").offset().top + $(".houses.description .wrap").height();
                        $(".houses.tree").css({
                            bottom: "initial",
                            top: t
                        })
                    }
                }), setTimeout(function() {
                    $(".share-button").hover(function() {
                        $(".share-button .shareItems").show()
                    }, function() {
                        $(".share-button .shareItems").hide()
                    })
                }, 0)
            }
        },
        getTemplateData: function() {
            return this.list
        }
    })
}), require.register("views/houses/description-view", function(e, t, i) {
    {
        var n = t("views/base/snapscroll-view"),
            a = t("lib/utils");
        t("mediator")
    }
    i.exports = n.extend({
        autoRender: !0,
        template: t("./templates/description"),
        events: {
            "click a.member": "goToTree",
            "click .see-tree": "goToTree"
        },
        initialize: function() {
            this.constructor.__super__.initialize.apply(this, arguments)
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.$el.length && a.parseBody(this.$el.find(".house-description"), ".description");
            var e = this.$el.find(".side-layer");
            e.height() < $(window).height() && e.css("min-height", $(window).height() - $(".global-nav").height() + "px")
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments); {
                var e = this;
                $(".global-nav").height()
            }
            $(window).width() > 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.attributes, function(t) {
                e.memberWrap = t
            }), $(window).off("resize.description-grid").on("resize.description-grid", _.bind(function() {
                this.updateGrid(this.$el.find(".background-layer"), this.model.attributes, function(t) {
                    e.memberWrap = t
                })
            }, this)), this.showSpoilerGuard()
        },
        goToTree: function() {}
    })
}), require.register("views/houses/houses-view", function(e, t, i) {
    {
        var n = t("views/base/view");
        t("mediator")
    }
    i.exports = n.extend({
        autoRender: !0,
        className: "houses-page",
        events: {},
        listen: {},
        regions: {
            landing: ".landing",
            description: ".description",
            tree: ".tree",
            bumper: ".bumper",
            pushinnav: ".push-in-nav"
        },
        template: t("./templates/houses")
    })
}), require.register("views/houses/items-list-item-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        tagName: "li",
        template: t("./templates/items-list-item"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments)
        }
    })
}), require.register("views/houses/items-list-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("views/houses/items-list-item-view");
    i.exports = n.extend({
        autoRender: !0,
        animationDuration: 1e3,
        className: "houses-list-panel list-panel",
        template: t("./templates/items-list"),
        itemView: a,
        listSelector: "ul"
    })
}), require.register("views/houses/landing-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = t("mediator"),
        s = t("lib/utils"),
        o = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        autoAttach: !0,
        listen: {
            "all collection": "render",
            "window:resized mediator": "resize"
        },
        events: {
            "click figure a.goto-house": "gotoHouse",
            "click .see-full-list-button": "openHousesList"
        },
        template: t("./templates/landing"),
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.pageProp = e.pageProp
        },
        getTemplateData: function() {
            return {
                houseGroup: this.collection.toJSON(),
                props: this.pageProp,
                showHeader: "" != this.pageProp.title || "" != this.pageProp.subtitle
            }
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), $(window).width() > 768 && this.updateGrid(this.$el.find(".background-layer"), this.pageProp), $(window).off("resize.landing-grid").on("resize.landing-grid", _.bind(function() {
                $(window).width() > 768 && this.updateGrid(this.$el.find(".background-layer"), this.pageProp)
            }, this));
            var e = this.$el.find(".side-layer");
            e.css("min-height", "0")
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = new o;
            if (e.get("season_colors")) {
                var t = e.get("season_colors").color1;
                this.$el.find(".see-full-list-button .icon-list-nav").css("background", t)
            }
            this.container && this.container.addClass("ss-active"), this.calculateSize();
            var i = this;
            s.checkImgLoaded(this.$el.find(".landing-wrapper"), function() {
                i.checkCardsHeight()
            }), $(window).resize(_.bind(this.checkCardsHeight, this)), this.showSpoilerGuard()
        },
        calculateSize: function() {
            var e = this.$el.find(".side-layer"),
                t = $(window);
            e.css("min-height", "0"), e.height() < t.height() && e.css("min-height", t.height() - $(".global-nav").height() + "px")
        },
        openHousesList: function() {
            Chaplin.mediator.publish("houses:openlist")
        },
        gotoHouse: function(e) {
            if (e.preventDefault(), e.target) {
                var t = "a" == e.target.tagName.toLowerCase() ? $(e.target) : $(e.target).parents("a:first");
                a.publish("house:load", {
                    id: t.data("id"),
                    silent: !1
                }), history.pushState(Backbone.history.history.state, "", t.attr("href")), a.publish("tree:containerclicked")
            }
            return !1
        },
        checkCardsHeight: function() {
            this.$el.find(".landing-wrapper article").each(function() {
                var e = 0,
                    t = $(this).children();
                t.css("height", "auto"), t.each(function() {
                    var t = $(this).height();
                    e = t > e ? t : e
                })
            })
        },
        resize: function() {
            this.checkCardsHeight(), this.calculateSize()
        }
    })
}), require.register("views/houses/past-relations-list-view", function(e, t, i) {
    {
        var n = t("views/base/view");
        t("mediator")
    }
    i.exports = n.extend({
        autoRender: !0,
        dude: null,
        tagName: "div",
        attributes: {
            "class": "past deceased"
        },
        listen: {
            "all model": "render",
            "all collection": "render"
        },
        template: t("./templates/past-relations-list"),
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), e && (this.dude = e.dude)
        },
        getTemplateData: function() {
            return this.dude
        }
    })
}), require.register("views/houses/push-in-view", function(e, t, i) {
    {
        var n = (t("models/base/model"), t("views/base/view")),
            a = t("mediator"),
            s = t("lib/iscroll");
        t("lib/utils")
    }
    i.exports = n.extend({
        autoRender: !0,
        className: "",
        activeItemId: null,
        goTopItem: null,
        events: {
            "click .show-items-list": "toggle",
            "click .push-in-overlay": "toggleClick",
            "touchend .push-in-overlay": function(e) {
                e.preventDefault(), this.toggle()
            },
            "click .go-top": "goTop",
            "touchstart .items a.house": "goLinkStart",
            "click .items a.house": "gotoHouse",
            "touchend .items a.house": "gotoHouseTouch",
            "click .items a.house-link": "gotoHouse",
            "touchend .items a.house-link": "gotoHouseTouch"
        },
        listen: {
            "houses:setactivelistitem mediator": "setActiveItem",
            "pushnav:updateshare mediator": "updateShare",
            "houses:showlist mediator": "show",
            "app:hidenav mediator": "hide",
            "houses:getnext mediator": "passNext",
            "houses:openlist mediator": "toggle"
        },
        regions: {
            itemslist: ".items-list"
        },
        template: t("./templates/push-in-nav"),
        setActiveItem: function(e) {
            this.activeItemId = e, this.$el.find(".items li").removeClass("active"), this.$el.find(".items li a[data-id=" + e + "]").parents("li:first").addClass("active")
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = t("views/houses/items-list-view");
            this.subview("itemslist", new e({
                collection: this.collection,
                model: this.model,
                region: "itemslist"
            })), this.goTopItem = this.$el.find(".go-top"), this.toggleGoTop(), $(window).on("scroll.goTop", _.bind(this.toggleGoTop, this))
        },
        remove: function() {
            this.constructor.__super__.remove.apply(this, arguments), $(window).off("scroll.goTop")
        },
        toggleGoTop: function() {
            var e = $(window).scrollTop();
            this.goTopItem.toggleClass("disable", !e)
        },
        goLinkStart: function(e) {
            this.touchPositionStart = e.originalEvent.touches[0].screenY
        },
        goLink: function(e) {
            if (Math.abs(this.touchPositionStart - e.originalEvent.changedTouches[0].screenY) < 10) {
                null == this.touchPositionStart;
                var t = $(e.target).attr("href") || $(e.target).parents("a:first").attr("href");
                Chaplin.utils.redirectTo({
                    url: t
                }), e.preventDefault()
            }
        },
        gotoHouseTouch: function(e) {
            Math.abs(this.touchPositionStart - e.originalEvent.changedTouches[0].screenY) < 10 && (null == this.touchPositionStart, this.gotoHouse(e))
        },
        loadItem: function(e, t) {
            a.publish("house:load", {
                id: e,
                silent: !1,
                tree: void 0 != t ? t : !1
            })
        },
        gotoHouse: function(e) {
            var t = this;
            if (e.preventDefault(), e.target) {
                var i = ($(".global-nav").height(), "a" == e.target.tagName.toLowerCase() ? $(e.target) : $(e.target).parents("a:first"));
                0 == $(window).scrollTop() ? t.loadItem(i.data("id"), i.data("tree")) : t.loadItem(i.data("id"), i.data("tree")), history.pushState(Backbone.history.history.state, "", i.attr("href")), a.publish("tree:containerclicked")
            }
            return this.hide(), !1
        },
        show: function() {
            this.container.addClass("open"), $("html").css("overflow", "hidden"), $("body").addClass("noscroll"), $(".global-nav").removeClass("nav-slide-up");
            var e = this.$el;
            setTimeout(function() {
                e.find(".content").addClass("open")
            }, 300)
        },
        hide: function() {
            var e = this.container,
                t = this.$el;
            $("html").css("overflow", "auto"), $("body").removeClass("noscroll"), t.find(".content").removeClass("open"), setTimeout(function() {
                e.removeClass("open")
            }, 300)
        },
        goTop: function(e) {
            a.publish("houses:snapto", 1, !1, !0), a.publish("houses:hidebumper"), e.target && e.preventDefault()
        },
        toggleClick: function(e) {
            $("body").hasClass("no-touch") && this.toggle(e)
        },
        toggle: function(e) {
            this.container.hasClass("open") ? this.hide() : this.show();
            var t = this,
                i = t.$el.find(".scrollable");
            return $(window).on("resize", function() {
                t.scroller && t.scroller.refresh()
            }), this.scroller || (this.scroller = new s(i[0], {
                scrollY: !0,
                mouseWheel: !0
            }), t.$el.find(".a-z").length > 0 && (new s(t.$el.find(".a-z")[0], {
                scrollY: !0,
                bindToWrapper: !0,
                mouseWheel: !0
            }), this.$el.find(".items li.active").length || this.$el.find(".items li:first").addClass("active")), this.subviews[0].scroller = this.scroller), this.scroller.refresh(), e && e.target ? void e.preventDefault() : !1
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption)), e.tw && e.tw.description && t.data("share-description-TW", e.tw.description), t.share({
                orientation: "vertical"
            })
        },
        passNext: function(e) {
            if (this.collection) {
                var t = this.collection.indexOf(this.collection.findWhere({
                        id: Number(this.activeItemId)
                    })),
                    i = null;
                i = t + 1 < this.collection.length ? this.collection.at(t + 1) : this.collection.first(), _.isFunction(e) && e(i)
            }
        }
    })
}), require.register("views/houses/templates/bumper", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<nav>\n	<a href="#" class="to-top"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "read again", o) : l.call(t, "t", "read again", o))) + '</span></a>\n	<a href="#" class="next"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "load next house", o) : l.call(t, "t", "load next house", o))) + '</span></a>\n	<a href="#" class="list"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "see the list", o) : l.call(t, "t", "see the list", o))) + '</span></a>\n</nav>\n<div class="mask"></div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/character", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = "function",
            h = this.escapeExpression,
            d = i.helperMissing;
        return l += "<h1>", (o = i.firstName) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.firstName, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + " ", (o = i.lastName) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.lastName, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '</h1>\n<div class="char-wrap">\n    <div class="char-profile">\n        <img src="' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, t && t.img, "large", "people", r) : d.call(t, "img-path", t && t.img, "large", "people", r))) + '" alt="', (o = i.firstName) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.firstName, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + " ", (o = i.lastName) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.lastName, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '">\n    </div>\n\n    <div class="char-description">\n		', (o = i.bio) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.bio, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), (s || 0 === s) && (l += s), l += '\n    </div>\n    <a href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "people#index", t && t.character, t && t.firstName, t && t.lastName, r) : d.call(t, "url", "people#index", t && t.character, t && t.firstName, t && t.lastName, r))) + '" class="see-bio">\n		<span>' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "go to full bio", r) : d.call(t, "t", "go to full bio", r))) + '</span>\n		<i class="sprites-slider_arrow_right_black"></i>\n	</a>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/characters", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a = "";
            return a += "\n	", n = i.each.call(e, e && e.characters, {
                hash: {},
                inverse: f.noop,
                fn: f.program(2, o, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n"
        }

        function o(e, t) {
            var n, a = "";
            return a += "\n        ", n = i["if"].call(e, e && e.isVisible, {
                hash: {},
                inverse: f.noop,
                fn: f.program(3, r, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n	"
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += '\n        <div class="item" data-id="', (a = i.character) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.character, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '">\n            <li class="hidden-static">\n                <img src="' + u((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "people", s) : m.call(e, "img-path", e && e.img, "large", "people", s))) + '" alt="', (a = i.firstName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstName, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + " ", (a = i.lastName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastName, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '">\n\n                <div class="name">\n                    <h1>', (a = i.firstName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstName, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + " ", (a = i.lastName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastName, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '</h1>\n                </div>\n\n                <ul class="relationships">\n                <div class="header-bar">Current Relationships</div>\n                ', n = i.each.call(e, e && e.relationships, {
                hash: {},
                inverse: f.noop,
                fn: f.program(4, l, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '\n                </ul>\n                <ul class="past-relationships">\n                <div class="header-bar">Past Relationships</div>\n                ', n = i.each.call(e, e && e.past_relationships, {
                hash: {},
                inverse: f.noop,
                fn: f.program(4, l, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '\n                </ul>\n\n                 <a href="' + u((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.character, e && e.firstName, e && e.lastName, s) : m.call(e, "url", "people#index", e && e.character, e && e.firstName, e && e.lastName, s))) + '" class="see-bio header-bar">\n                    ' + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "see full bio", s) : m.call(e, "t", "see full bio", s))) + '\n                 </a>\n            </li>\n\n            <div class="rotateIcon">\n                <i class="sprites-rotate"></i>\n                <span>' + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "rotate device", s) : m.call(e, "t", "rotate device", s))) + "</span>\n            </div>\n            <h1>", a = i.concat || e && e.concat, s = {
                hash: {},
                data: t
            }, n = a ? a.call(e, e && e.firstName, e && e.lastName, s) : m.call(e, "concat", e && e.firstName, e && e.lastName, s), o += u((a = i["break-last"] || e && e["break-last"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, n, s) : m.call(e, "break-last", n, s))) + '</h1>\n\n            <div class="char-wrap">\n                <div class="char-profile">\n                    <img src="' + u((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "people", s) : m.call(e, "img-path", e && e.img, "large", "people", s))) + '" alt="', (a = i.firstName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstName, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + " ", (a = i.lastName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastName, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += u(n) + '">\n                    ', n = i["if"].call(e, e && e.deceased, {
                hash: {},
                inverse: f.noop,
                fn: f.program(6, c, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "\n                    ", n = i["if"].call(e, e && e.isKing, {
                hash: {},
                inverse: f.noop,
                fn: f.program(8, h, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '\n                </div>\n\n                <div class="char-description">\n					', (a = i.bio) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.bio, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (o += n), o += '\n                </div>\n                <a href="' + u((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.character, e && e.firstName, e && e.lastName, s) : m.call(e, "url", "people#index", e && e.character, e && e.firstName, e && e.lastName, s))) + '" class="see-bio">' + u((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "go to full bio", s) : m.call(e, "t", "go to full bio", s))) + ' <i\n                        class="sprites-slider_arrow_right_black"></i></a>\n            </div>\n        </div>\n        '
        }

        function l(e, t) {
            var n, a, s = "";
            return s += '\n                    <li data-id="', (a = i.character) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.character, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += u(n) + '">\n                        <div><span class="type">', (a = i.type) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.type, n = typeof a === p ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += u(n) + "</span></div>\n                    </li>\n                "
        }

        function c() {
            return '\n                    <div class="deceased-character-overlay"></div>\n                    '
        }

        function h() {
            return '\n                    <div class="king-character-overlay"></div>\n                    '
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var d, p = "function",
            u = this.escapeExpression,
            m = i.helperMissing,
            f = this;
        return d = i.each.call(t, t, {
            hash: {},
            inverse: f.noop,
            fn: f.program(1, s, a),
            data: a
        }), d || 0 === d ? d : ""
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/description", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e) {
            var t, i = "";
            return i += '\n	<div class="background-layer grid-type-' + u((t = e && e.grid, t = null == t || t === !1 ? t : t.type, typeof t === p ? t.apply(e) : t)) + '">\n'
        }

        function o() {
            return '\n	<div class="background-layer single">\n'
        }

        function r(e) {
            var t, i = "";
            return i += ' style="border: 10px solid ' + u((t = e && e.grid, t = null == t || t === !1 ? t : t.hex_1, typeof t === p ? t.apply(e) : t)) + '"'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var l, c, h, d = "",
            p = "function",
            u = this.escapeExpression,
            m = this,
            f = i.helperMissing;
        return l = i["if"].call(t, t && t.grid, {
            hash: {},
            inverse: m.program(3, o, a),
            fn: m.program(1, s, a),
            data: a
        }), (l || 0 === l) && (d += l), d += '\n</div>\n	<div class="side-layer"', l = i["if"].call(t, t && t.houseColor, {
            hash: {},
            inverse: m.noop,
            fn: m.program(5, r, a),
            data: a
        }), (l || 0 === l) && (d += l), d += '>\n		<div class="rotateIcon">\n			<i class="sprites-rotate"></i>\n			<span>' + u((c = i.t || t && t.t, h = {
            hash: {},
            data: a
        }, c ? c.call(t, "rotate device", h) : f.call(t, "t", "rotate device", h))) + '</span>\n		</div>\n		<div class="house-logo">\n			<img src="' + u((c = i["img-path"] || t && t["img-path"], h = {
            hash: {},
            data: a
        }, c ? c.call(t, t && t.img, "large", "houses", h) : f.call(t, "img-path", t && t.img, "large", "houses", h))) + '" alt=""/>\n		</div>\n		<h1>\n			' + u((c = i["break-all"] || t && t["break-all"], h = {
            hash: {},
            data: a
        }, c ? c.call(t, t && t.name, h) : f.call(t, "break-all", t && t.name, h))) + "\n			<em>", (c = i.slogan) ? l = c.call(t, {
            hash: {},
            data: a
        }) : (c = t && t.slogan, l = typeof c === p ? c.call(t, {
            hash: {},
            data: a
        }) : c), d += u(l) + '</em>\n		</h1>\n		<div class="wrap">\n			<div class="house-description" style="border-bottom: 10px solid ' + u((l = t && t.grid, l = null == l || l === !1 ? l : l.hex_1, typeof l === p ? l.apply(t) : l)) + '">\n				', (c = i.description) ? l = c.call(t, {
            hash: {},
            data: a
        }) : (c = t && t.description, l = typeof c === p ? c.call(t, {
            hash: {},
            data: a
        }) : c), (l || 0 === l) && (d += l), d += '\n			</div>\n			<a class="see-tree"><span>' + u((c = i.t || t && t.t, h = {
            hash: {},
            data: a
        }, c ? c.call(t, "see family tree", h) : f.call(t, "t", "see family tree", h))) + '</span> <i class="sprites-arrow_down"></i></a>\n		</div>\n	</div>\n	'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/houses", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<section class="houses landing clearfix"></section>\n<section class="houses description clearfix"></section>\n<section class="houses tree clearfix"></section>\n<div class="bumper excluded"></div>\n<section class="push-in-nav excluded"></section>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/items-list-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = i.helperMissing,
            h = this.escapeExpression,
            d = "function";
        return l += '<a href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "houses#index", t && t.id, t && t.name, r) : c.call(t, "url", "houses#index", t && t.id, t && t.name, r))) + '" data-id="', (o = i.id) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.id, s = typeof o === d ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '" class="logo">\n	<img src="' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, t && t.img, "small", "houses", r) : c.call(t, "img-path", t && t.img, "small", "houses", r))) + '" alt=""/>\n</a>\n<a href="' + h((o = i.url || t && t.url, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "houses#index", t && t.id, t && t.name, r) : c.call(t, "url", "houses#index", t && t.id, t && t.name, r))) + '" data-id="', (o = i.id) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.id, s = typeof o === d ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '" class="house">\n	<p class="name">', (o = i.name) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.name, s = typeof o === d ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + "</p>\n</a>\n"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/items-list", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<h1 class="bg colred" style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color4", o) : l.call(t, "scolor", "color4", o))) + '">' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "all houses, and groups", o) : l.call(t, "t", "all houses, and groups", o))) + '</h1>\n<div class="scrollable">\n	<ul class="items"></ul>\n</div>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/landing", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e) {
            var t, i = "";
            return i += '\n	<div class="background-layer grid-type-' + _((t = e && e.props, t = null == t || t === !1 ? t : t.grid, t = null == t || t === !1 ? t : t.type, typeof t === y ? t.apply(e) : t)) + '">\n'
        }

        function o() {
            return '\n	<div class="background-layer single">\n'
        }

        function r(e, t) {
            var n, a = "";
            return a += "\n			<h1>", n = i["if"].call(e, (n = e && e.props, null == n || n === !1 ? n : n.title), {
                hash: {},
                inverse: k.program(8, c, t),
                fn: k.program(6, l, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n				<em>", n = i["if"].call(e, (n = e && e.props, null == n || n === !1 ? n : n.subtitle), {
                hash: {},
                inverse: k.program(13, p, t),
                fn: k.program(11, d, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "</em>\n			</h1>\n		"
        }

        function l(e) {
            var t;
            return _((t = e && e.props, t = null == t || t === !1 ? t : t.title, typeof t === y ? t.apply(e) : t))
        }

        function c(e, t) {
            var n, a, s;
            return a = i.compare || e && e.compare, s = {
                hash: {
                    operator: "==="
                },
                inverse: k.noop,
                fn: k.program(9, h, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.props, null == n || n === !1 ? n : n.title), e && e.null, s) : x.call(e, "compare", (n = e && e.props, null == n || n === !1 ? n : n.title), e && e.null, s), n || 0 === n ? n : ""
        }

        function h(e, t) {
            var n, a;
            return _((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "housemain default title", a) : x.call(e, "t", "housemain default title", a)))
        }

        function d(e) {
            var t;
            return _((t = e && e.props, t = null == t || t === !1 ? t : t.subtitle, typeof t === y ? t.apply(e) : t))
        }

        function p(e, t) {
            var n, a, s;
            return a = i.compare || e && e.compare, s = {
                hash: {
                    operator: "==="
                },
                inverse: k.noop,
                fn: k.program(14, u, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.props, null == n || n === !1 ? n : n.subtitle), e && e.null, s) : x.call(e, "compare", (n = e && e.props, null == n || n === !1 ? n : n.subtitle), e && e.null, s), n || 0 === n ? n : ""
        }

        function u(e, t) {
            var n, a;
            return _((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "housemain default subtitle", a) : x.call(e, "t", "housemain default subtitle", a)))
        }

        function m(e, t) {
            var n, a, s = "";
            return s += "\n		<h2>", (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += _(n) + "</h2>\n		<article>\n			", n = i.each.call(e, e && e.houses, {
                hash: {},
                inverse: k.noop,
                fn: k.program(17, f, t),
                data: t
            }), (n || 0 === n) && (s += n), s += "\n		</article>\n		"
        }

        function f(e, t) {
            var n, a, s, o = "";
            return o += '\n			<figure>\n				<a href="' + _((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "houses#index", e && e.id, e && e.name, s) : x.call(e, "url", "houses#index", e && e.id, e && e.name, s))) + '" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += _(n) + '" class="goto-house">\n					<span class="img">\n						<img src="' + _((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.url, "small", "houses", s) : x.call(e, "img-path", e && e.url, "small", "houses", s))) + '" alt="', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === y ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += _(n) + '">\n					</span>\n					<figcaption>\n						\n						' + _((a = i["remove-house"] || e && e["remove-house"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.name, s) : x.call(e, "remove-house", e && e.name, s))) + "\n					</figcaption>\n				</a>\n			</figure>\n			"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var g, v, w, b = "",
            y = "function",
            _ = this.escapeExpression,
            x = i.helperMissing,
            k = this;
        return g = i["if"].call(t, (g = t && t.props, null == g || g === !1 ? g : g.grid), {
            hash: {},
            inverse: k.program(3, o, a),
            fn: k.program(1, s, a),
            data: a
        }), (g || 0 === g) && (b += g), b += '\n\n</div>\n<div class="side-layer">\n	<div class="rotateIcon">\n		<i class="sprites-rotate"></i>\n		<span>' + _((v = i.t || t && t.t, w = {
            hash: {},
            data: a
        }, v ? v.call(t, "rotate device", w) : x.call(t, "t", "rotate device", w))) + '</span>\n	</div>\n	<div class="landing-wrapper">\n		', g = i["if"].call(t, t && t.showHeader, {
            hash: {},
            inverse: k.noop,
            fn: k.program(5, r, a),
            data: a
        }), (g || 0 === g) && (b += g), b += "\n		", g = i.each.call(t, t && t.houseGroup, {
            hash: {},
            inverse: k.noop,
            fn: k.program(16, m, a),
            data: a
        }), (g || 0 === g) && (b += g), b += '\n		<div class="see-full-list-button">\n			<span class="icon-list-nav"></span>\n			<span class="content">See Full List</span>\n		</div>\n\n	</div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/past-relations-list", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = "function",
            c = this.escapeExpression;
        return r += " ", (o = i.firstname) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.firstname, s = typeof o === l ? o.call(t, {
            hash: {},
            data: a
        }) : o), r += c(s)
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/push-in-nav", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s = "";
        return s += '<div class="push-in-overlay"></div>\n<div class="content">\n	<ul class="side-buttons">\n		<li class="go-top">\n			\n\n\n\n		</li>\n		<li class="show-items-list">\n			\n			<?xml version="1.0" encoding="utf-8"?>\n			<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n				 viewBox="0 0 72 72" style="enable-background:new 0 0 72 72;" xml:space="preserve">\n			<g id="Layer_1">\n				<rect x="0" y="0" class="st0" width="72" height="72"/>\n			</g>\n			<g id="Layer_2">\n				<g>\n					<rect x="23.2" y="22" fill="#fff" width="33.7" height="4.7"/>\n					<rect x="23.2" y="33.7" fill="#fff" width="33.7" height="4.7"/>\n					<rect x="23.2" y="45.4" fill="#fff" width="33.7" height="4.7"/>\n					<rect x="15.2" y="22" fill="#fff" width="5.2" height="4.7"/>\n					<rect x="15.2" y="33.7" fill="#fff" width="5.2" height="4.7"/>\n					<rect x="15.2" y="45.4" fill="#fff" width="5.2" height="4.7"/>\n				</g>\n			</g>\n			</svg>\n\n\n			\n		</li>\n		<li class="side-icon icon-share-nav share-button share">\n			<?xml version="1.0" encoding="utf-8"?>\n			<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n				 viewBox="0 0 72 72" style="enable-background:new 0 0 72 72;" xml:space="preserve">\n			<g id="Layer_1">\n				<rect x="0" y="0" class="st0" width="72" height="72"/>\n			</g>\n			<g id="Layer_2">\n				<path class="st1" d="M37.9,24.3v-6.6l3.9,3.9l2.6-2.6l-8.3-8.3L36,10.8l-0.1-0.1L27.6,19l2.6,2.6l3.9-3.9v6.6H18.2V59h35.7V24.3\n					H37.9z M49.8,55H22.2V28.3h27.7V55z"/>\n			</g>\n			</svg>\n		</li>\n	</ul>\n	<section class="items-list"></section>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/tree-element", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a = "";
            return a += '\n	<div class="tree-row">\n		', n = i.each.call(e, e && e.characters, {
                hash: {},
                inverse: C.noop,
                fn: C.program(2, o, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n	</div>\n"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n			<div class="char char_', (a = i.character) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.character, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n), n = i["if"].call(e, e && e.isKing, {
                hash: {},
                inverse: C.noop,
                fn: C.program(3, r, t),
                data: t
            }), (n || 0 === n) && (o += n), n = i["if"].call(e, e && e.isVisible, {
                hash: {},
                inverse: C.noop,
                fn: C.program(5, l, t),
                data: t
            }), (n || 0 === n) && (o += n), o += " ", n = i["if"].call(e, e && e.isWhiteWalker, {
                hash: {},
                inverse: C.noop,
                fn: C.program(7, c, t),
                data: t
            }), (n || 0 === n) && (o += n), n = i["if"].call(e, e && e.isBastard, {
                hash: {},
                inverse: C.noop,
                fn: C.program(9, h, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '" data-relationships="', (a = i.relationships) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.relationships, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '" data-character="', (a = i.character) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.character, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '">\n				<span class="relations top" />\n				<span class="relations parent" />\n				<div class="info', n = i.unless.call(e, e && e.isVisible, {
                hash: {},
                inverse: C.noop,
                fn: C.program(11, d, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '" data-id="', (a = i.character) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.character, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '">\n					\n					<img src="' + S((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "people", s) : T.call(e, "img-path", e && e.img, "small", "people", s))) + '" alt="', (a = i.firstName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstName, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + " ", (a = i.lastName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastName, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '">\n\n					<span class="firstName">', (a = i.firstName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstName, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '</span>\n					<span class="lastName">', (a = i.lastName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastName, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + "</span>\n					", n = i["if"].call(e, e && e.note, {
                hash: {},
                inverse: C.noop,
                fn: C.program(13, p, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "\n					", n = i["if"].call(e, e && e.deceased, {
                hash: {},
                inverse: C.noop,
                fn: C.program(15, u, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "\n					", n = i["if"].call(e, e && e.isWhiteWalker, {
                hash: {},
                inverse: C.noop,
                fn: C.program(20, g, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '\n					<div class="past-relations"></div>\n				</div>\n				<div class="houses">\n					', n = i.each.call(e, e && e.houses, {
                hash: {},
                inverse: C.noop,
                fn: C.program(22, v, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "\n				</div>\n			</div>\n			\n		"
        }

        function r() {
            return " king"
        }

        function l() {
            return " visible"
        }

        function c() {
            return " white-walker "
        }

        function h() {
            return " bastard "
        }

        function d() {
            return " unclickable"
        }

        function p(e, t) {
            var n, a, s = "";
            return s += '\n						<span class="deceased">', (a = i.note) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.note, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += S(n) + "</span>\n					"
        }

        function u(e, t) {
            var n, a = "";
            return a += "\n						", n = i["if"].call(e, e && e.isWhiteWalker, {
                hash: {},
                inverse: C.program(18, f, t),
                fn: C.program(16, m, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n					"
        }

        function m() {
            var e = "";
            return e
        }

        function f(e, t) {
            var n, a, s = "";
            return s += '\n							<span class="deceased">' + S((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "deceased", a) : T.call(e, "t", "deceased", a))) + "</span>\n						"
        }

        function g() {
            return '\n						<span class="deceased">White Walker</span>\n					'
        }

        function v(e, t) {
            var n, a = "";
            return a += "\n\n						", n = i["if"].call(e, e && e.name, {
                hash: {},
                inverse: C.noop,
                fn: C.program(23, w, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n\n					"
        }

        function w(e, t) {
            var n, a, s, o = "";
            return o += '\n						<a href="#" data-type="house" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '" data-img="', (a = i.img) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.img, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '">\n							<span>', n = i["if"].call(e, e && e.shortName, {
                hash: {},
                inverse: C.program(26, y, t),
                fn: C.program(24, b, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '</span>\n							<img src="' + S((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "houses", s) : T.call(e, "img-path", e && e.img, "small", "houses", s))) + '" alt="', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += S(n) + '">\n						</a>\n						'
        }

        function b(e, t) {
            var n, a;
            return (a = i.shortName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.shortName, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), S(n)
        }

        function y(e, t) {
            var n, a;
            return (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === k ? a.call(e, {
                hash: {},
                data: t
            }) : a), S(n)
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var _, x = "",
            k = "function",
            S = this.escapeExpression,
            T = i.helperMissing,
            C = this;
        return x += '<div class="wrapper">\n', _ = i.each.call(t, t, {
            hash: {},
            inverse: C.noop,
            fn: C.program(1, s, a),
            data: a
        }), (_ || 0 === _) && (x += _), x += "\n\n</div>\n"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/templates/tree", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s = "";
            return s += "\n			<h2>\n				", (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += y(n) + '\n			</h2>\n			<div class="additional">\n				', n = i.each.call(e, e && e.characters, {
                hash: {},
                inverse: x.noop,
                fn: x.program(2, o, t),
                data: t
            }), (n || 0 === n) && (s += n), s += "\n			</div>\n			"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n				<div class="char', n = i["if"].call(e, e && e.isVisible, {
                hash: {},
                inverse: x.noop,
                fn: x.program(3, r, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '" data-character="', (a = i.character) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.character, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '">\n					<div class="info', n = i.unless.call(e, e && e.isVisible, {
                hash: {},
                inverse: x.noop,
                fn: x.program(5, l, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '" data-id="', (a = i.character) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.character, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '">\n						<img src="' + y((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "people", s) : _.call(e, "img-path", e && e.img, "small", "people", s))) + '" alt="', (a = i.firstName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstName, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + " ", (a = i.lastName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastName, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '">\n						<span class="firstName">', (a = i.firstName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstName, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '</span>\n						<span class="lastName">', (a = i.lastName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastName, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + "</span>\n						", n = i["if"].call(e, e && e.note, {
                hash: {},
                inverse: x.noop,
                fn: x.program(7, c, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "\n						", n = i["if"].call(e, e && e.deceased, {
                hash: {},
                inverse: x.noop,
                fn: x.program(9, h, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '\n					</div>\n					<div class="houses">\n						', n = i.each.call(e, e && e.houses, {
                hash: {},
                inverse: x.noop,
                fn: x.program(11, d, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "\n					</div>\n				</div>\n				"
        }

        function r() {
            return " visible"
        }

        function l() {
            return " unclickable"
        }

        function c(e, t) {
            var n, a, s = "";
            return s += '\n							<span class="deceased">', (a = i.note) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.note, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += y(n) + "</span>\n						"
        }

        function h(e, t) {
            var n, a, s = "";
            return s += '\n							<span class="deceased">' + y((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "deceased", a) : _.call(e, "t", "deceased", a))) + "</span>\n						"
        }

        function d(e, t) {
            var n, a = "";
            return a += "\n\n							", n = i["if"].call(e, e && e.name, {
                hash: {},
                inverse: x.noop,
                fn: x.program(12, p, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n\n						"
        }

        function p(e, t) {
            var n, a, s, o = "";
            return o += '\n							<a href="#" data-type="house" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '" data-img="', (a = i.img) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.img, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '">\n								<span>', n = i["if"].call(e, e && e.shortName, {
                hash: {},
                inverse: x.program(15, m, t),
                fn: x.program(13, u, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '</span>\n								<img src="' + y((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "houses", s) : _.call(e, "img-path", e && e.img, "small", "houses", s))) + '" alt="', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '">\n							</a>\n							'
        }

        function u(e, t) {
            var n, a;
            return (a = i.shortName) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.shortName, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), y(n)
        }

        function m(e, t) {
            var n, a;
            return (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), y(n)
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var f, g, v, w = "",
            b = "function",
            y = this.escapeExpression,
            _ = i.helperMissing,
            x = this;
        return w += '<div class="side-layer ">\n	<a class="close"><i class="sprites-close-big-black"></i></a>\n	<div class="rotateIcon">\n		<i class="sprites-rotate"></i>\n		<span>' + y((g = i.t || t && t.t, v = {
            hash: {},
            data: a
        }, g ? g.call(t, "rotate device", v) : _.call(t, "t", "rotate device", v))) + '</span>\n	</div>\n	<div class="tablet-layer">\n		<h3>' + y((g = i.t || t && t.t, v = {
            hash: {},
            data: a
        }, g ? g.call(t, "to view the tree rotate your device", v) : _.call(t, "t", "to view the tree rotate your device", v))) + '</h3>\n		<div class="tapToView">' + y((g = i.t || t && t.t, v = {
            hash: {},
            data: a
        }, g ? g.call(t, "or tap here to meet first family member", v) : _.call(t, "t", "or tap here to meet first family member", v))) + '</div>\n	</div>\n	<div class="wrap characters"></div>\n	<div class="wrap character">\n\n	</div>\n</div>\n<div class="tree-layer" style="background-image: url(' + y((g = i["img-path"] || t && t["img-path"], v = {
            hash: {},
            data: a
        }, g ? g.call(t, t && t.bgimg, "xlarge", "", v) : _.call(t, "img-path", t && t.bgimg, "xlarge", "", v))) + ')">\n	<div class="tree-wrapper">\n		<div class="tree-content-container">\n			<h1>\n				<div class="headline">\n					<img src="' + y((g = i["img-path"] || t && t["img-path"], v = {
            hash: {},
            data: a
        }, g ? g.call(t, t && t.img, "small", "houses", v) : _.call(t, "img-path", t && t.img, "small", "houses", v))) + '" alt=""/>\n					<span class="house-name">', (g = i.name) ? f = g.call(t, {
            hash: {},
            data: a
        }) : (g = t && t.name, f = typeof g === b ? g.call(t, {
            hash: {},
            data: a
        }) : g), w += y(f) + '</span>\n				</div>\n			</h1>\n			<div class="tree-element"></div>\n\n			', f = i.each.call(t, t && t.blocks, {
            hash: {},
            inverse: x.noop,
            fn: x.program(1, s, a),
            data: a
        }), (f || 0 === f) && (w += f), w += "\n		</div>\n\n	</div>\n</div>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/houses/tree-element-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("mediator"),
        s = t("views/houses/past-relations-list-view"),
        o = t("lib/utils"),
        r = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        tree: null,
        events: {
            "click .info:not(.unclickable)": "gotoBio",
            "click .past": "gotoBio"
        },
        listen: {
            "all model": "render",
            "all collection": "render",
            "pastrelations:loaded mediator": "renderPrev"
        },
        regions: {
            pastRelations: '[data-character="81"] .past-relations'
        },
        template: t("./templates/tree-element"),
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), e && (this.houseModel = e.houseModel, this.tree = e.tree)
        },
        getTemplateData: function() {
            var e = this,
                t = this.tree;
            return t.forEach(function(t) {
                t.characters.forEach(function(t) {
                    t.relationships = JSON.stringify(t.relationships), t.pastRelationships = t.past_relationships, _.forEach(t.houses, function(i, n) {
                        i.name == e.houseModel.get("name") && (t.houses[n] = null)
                    })
                })
            }), t
        },
        gotoBio: function(e) {
            var t;
            a.publish("site:closepickview"), this.$el.find(".char.selected").removeClass("selected");
            var i = $(e.currentTarget);
            t = i.hasClass("past") ? i.data("character") : i.closest(".char").addClass("selected").data("character");
            var n;
            _.each(this.tree, function(e) {
                _.each(e.characters, function(e) {
                    e.character == t && (n = e)
                })
            }), a.publish("character:selected", {
                id: t,
                model: n
            }), e.stopPropagation();
            var s = new r;
            s.get("hodorize") && o.hodorize()
        },
        renderPrev: function(e, t) {
            var i = new s({
                    dude: e
                }),
                n = i.render().$el;
            $(n).attr("data-character", e.id), this.$el.find('[data-character="' + t + '"] .past-relations').append(n)
        }
    })
}), require.register("views/houses/tree-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = t("mediator"),
        s = t("lib/utils"),
        o = t("views/houses/character-view"),
        r = t("views/houses/characters-view"),
        l = t("views/houses/tree-element-view"),
        c = t("models/base/model"),
        h = (t("lib/jquery.drawTree"), t("lib/iscroll"), t("models/cookie-model")),
        d = _.template('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" height="70" width="70"><filter id="maskId_<%= uniq %>"><feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0      0      0      1 0"/></filter><image filter="url(#maskId_<%= uniq %>)" width="70" height="70" xlink:href="<%= imgPath %>" /></svg>'),
        p = _.template('<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="70" height="70"><defs><clipPath id="maskId_<%= uniq %>"><circle cx="35" cy="35" r="35" /></clipPath></defs><image clip-path="url(#maskId_<%= uniq %>)" width="70" height="70" xlink:href="<%= imgPath %>" /></svg>');
    i.exports = n.extend({
        autoRender: !0,
        houseModel: null,
        tree: null,
        blocks: null,
        treeDisplayed: !1,
        treeViewed: !1,
        events: {
            click: "onClick",
            "click .side-layer .close": "onClick",
            "click .tapToView": "renderCharacters",
            "click .side-layer": function(e) {
                e.preventClose = !0
            },
            "click .additional .info": "gotoBio",
            "click .headline": "goTop"
        },
        listen: {
            "all model": "render",
            "all collection": "render",
            "window:resized mediator": "renderTree"
        },
        regions: {
            character: ".character",
            characters: ".characters",
            "tree-element": ".tree-element"
        },
        template: t("./templates/tree"),
        goTop: function(e) {
            a.publish("houses:snapto", 1), e.target && e.preventDefault()
        },
        getTemplateData: function() {
            var e = this,
                t = this.blocks;
            return t.forEach(function(t) {
                t.characters.forEach(function(t) {
                    t.relationships = JSON.stringify(t.relationships), t.houses.forEach(function(i, n) {
                        i.name == e.houseModel.get("name") && (t.houses[n] = null)
                    })
                })
            }), _.extend({}, this.houseModel.getAttributes(), {
                blocks: t
            })
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), e && (this.scrollToTree = e.scrollToTree, this.houseModel = e.houseModel, this.tree = e.tree, this.blocks = e.blocks)
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.subview("character", new o({
                region: "character",
                model: new c
            })), this.renderCharacters(), this.renderTree(), ("mobile" == window.device || "mobile-wide" == window.device || "tablet" === window.device && $(window).height() > $(window).width()) && this.tree.length, this.calculateHeight(), this.$el.find(".char").find(".houses").each(function() {
                $(this).find("a").length && s.parseBody($(this), ".tree", !0)
            });
            var e = new h;
            e.get("hodorize") && setTimeout(function() {
                s.hodorize()
            }, 0)
        },
        calculateHeight: function() {
            var e = this.$el.find(".side-layer, .tree-layer");
            e.css("min-height", 0), e.height() < $(window).height() && e.css("min-height", $(window).height() - $(".global-nav").height() + "px")
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.scrollToTree && setTimeout(function() {
                a.publish("houses:snapto", 2)
            }, 32)
        },
        renderTree: function() {
            var e = (this.$el.find(".tree-layer"), this),
                t = $(window);
            this.calculateHeight(), !this.treeDisplayed && this.tree.length && ("tablet" == window.device && window.innerHeight > window.innerWidth, this.subview("tree-element", new l({
                region: "tree-element",
                tree: this.tree,
                houseModel: this.houseModel
            })), e.showElements(e.$el.find(".char"))), e.showElements(e.$el.find(".char")), t.off("snapscroll.endscroll").on("snapscroll.endscroll", function(i, n) {
                !e.treeDisplayed && n.target && n.target.hasClass("tree") && e.$el && e.showElements(e.$el.find(".char")), e.treeDisplayed && t.off("snapscroll.endscroll")
            })
        },
        renderCharacters: function() {
            this.$el.find(".side-layer, .tree-layer");
            this.subview("characters", new r({
                region: "characters",
                list: this.tree
            })), this.$el.find(".tablet-layer").hide(), this.$el.find(".side-layer").children(".rotateIcon").hide(), this.calculateHeight()
        },
        onClick: function(e) {
            e.preventClose ? e.preventClose = !1 : a.publish("tree:containerclicked")
        },
        showElements: function(e) {
            var t = this;
            if (e[0]) {
                var i = e[0];
                if ($(i).hasClass("bastard")) {
                    var n = $("img", i).filter(":first"),
                        a = p({
                            uniq: _.uniqueId(),
                            imgPath: n.attr("src")
                        });
                    n.replaceWith(a)
                }
                if ($(i).hasClass("white-walker")) {
                    var n = $("img", i).filter(":first"),
                        a = d({
                            uniq: _.uniqueId(),
                            imgPath: n.attr("src")
                        });
                    n.replaceWith(a)
                }
            }
            setTimeout(function() {
                e[0] ? (e.eq(0).animate({
                    opacity: 1
                }, 300), t.showElements($(e.splice(1)))) : (t.$el.find(".tree-element").drawTree(), t.treeDisplayed = !0, t.scaleDown())
            }, 100)
        },
        scaleDown: function() {
            if (Chaplin.Application.isMobile.apple.tablet || Chaplin.Application.isMobile.android.tablet) {
                var e = $(window).width() / $(window).height() > 1 ? !0 : !1;
                if (e) {
                    var t = !1;
                    this.tree[0] && this.tree[0].characters && this.tree[0].characters.length >= 8 && (t = !0), this.tree[1] && this.tree[1].characters && this.tree[1].characters.length >= 8 && (t = !0), this.tree[2] && this.tree[2].characters && this.tree[2].characters.length >= 8 && (t = !0);
                    var i = !1;
                    this.tree[0] && this.tree[0].characters && this.tree[0].characters.length >= 10 && (i = !0), this.tree[1] && this.tree[1].characters && this.tree[1].characters.length >= 10 && (i = !0), this.tree[2] && this.tree[2].characters && this.tree[2].characters.length >= 10 && (i = !0), i ? $(".tree-content-container").addClass("super-catholic") : t && $(".tree-content-container").addClass("catholic")
                }
            }
        },
        gotoBio: function(e) {
            this.$el.find(".char.selected").removeClass("selected");
            var t = $(e.currentTarget).closest(".char").addClass("selected").data("character"),
                i = null;
            _.each(this.blocks, function(e) {
                _.each(e.characters, function(e) {
                    e.character == t && (i = e)
                })
            }), a.publish("character:selected", {
                id: t,
                model: i
            }), e.stopPropagation()
        }
    })
}), require.register("views/map/map-episodic-collection-item-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/utils"),
        s = t("mediator");
    i.exports = n.extend({
        tagName: "figure",
        listen: {
            "change:active model": "checkSelection"
        },
        template: t("./templates/map-episodic-item"),
        initialize: function() {
            this.checkSelection(), this.model.view = this
        },
        setActive: function(e) {
            if (e) {
                if (this.$el.addClass("active"), "visible" == this.$el.parents(".episodic:first").css("visibility")) {
                    s.publish("map:setview", this);
                    var t = Handlebars.helpers.url("map#location", this.model.get("id"), this.model.get("panel")[0].title, {
                        data: {
                            first: !0
                        }
                    });
                    t.substr(1) != Backbone.history.fragment && Backbone.history.navigate(t, {
                        trigger: !1
                    })
                }
            } else this.$el.removeClass("active"), this.$el.find(".overlay").css("opacity", 1)
        },
        checkSelection: function() {
            this.setActive(this.model.get("active"))
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), a.parseBody(this.$el.find("p"));
            var e = this.model.get("location_name");
            this.updateShare({
                fb: a.getShare("locations", "fb", e, e),
                tb: a.getShare("locations", "tb", e, e),
                tw: a.getShare("locations", "tw", e, e)
            })
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption)), e.tw && e.tw.description && t.data("share-description-TW", e.tw.description), t.share({
                orientation: "vertical"
            })
        }
    })
}), require.register("views/map/map-episodic-collection-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("./map-episodic-collection-item-view"),
        s = t("lib/iscroll"),
        o = t("mediator"),
        r = t("lib/utils");
    i.exports = n.extend({
        className: "episodic-gallery",
        tagName: "article",
        itemView: a,
        events: {
            "click .next": "next"
        },
        listen: {
            "all collection": "refresh",
            "map:setcategory mediator": "refreshCategory",
            "map:showcategory mediator": "showCategory",
            "map:popupopen mediator": "scrollToItem"
        },
        refresh: function(e, t) {
            if ("add" === e) {
                var i = this,
                    n = new Image;
                n.onload = function() {
                    i.refreshScroller()
                }, n.onerror = function() {
                    i.refreshScroller()
                }, n.src = t.get("img")
            } else this.refreshScroller()
        },
        renderAllItems: function() {
            this.constructor.__super__.renderAllItems.apply(this, arguments), this.subviews.length && r.addPreloader(this.$el.find(".episodic-items"))
        },
        refreshScroller: function(e) {
            if ($(".episodic").is(":visible")) {
                var t = $(".episodic-items");
                if (t.css("top", t.siblings(".locations-title").outerHeight() + "px"), $(window).on("resize", function() {
                        t.css("top", t.siblings(".locations-title").outerHeight() + "px")
                    }), !this.scroller || e) {
                    if (this.scroller && this.scroller.destroy(), this.container.find("figure").length) {
                        this.scroller = scroll = new s(this.container[0], {
                            snap: "figure",
                            scrollSnapContainer: $("#episodic-scroll"),
                            mouseWheelSpeed: 3,
                            momentum: !1,
                            mouseWheel: !0
                        });
                        var i, n = this;
                        scroll.on("scrollStart", function() {
                            var e = $(scroll.scroller).find("figure").eq(scroll.currentPage.pageY),
                                t = scroll.pages[0][scroll.currentPage.pageY].height,
                                n = e.find(".overlay"),
                                a = e.next().find(".overlay"),
                                s = e.prev().find(".overlay"),
                                r = scroll.currentPage.y;
                            $(scroll.scroller).find("figure.active").removeClass("active"), o.publish("map:episodicscroll"), $(scroll.scroller).find("figure").find(".next").hide(), i = setInterval(function() {
                                var i;
                                e.removeClass("active"), scroll.y < r ? (s.css("opacity", 1), i = (r - scroll.y) / t, a.css("opacity", Math.abs(1 - i)), n.css("opacity", Math.abs(i))) : scroll.y > r ? (a.css("opacity", 1), i = (scroll.y - r) / t, s.css("opacity", Math.abs(1 - i)), n.css("opacity", Math.abs(i))) : (s.css("opacity", 1), a.css("opacity", 1), n.css("opacity", 0))
                            }, 100)
                        }), scroll.on("scrollEnd", function() {
                            var e = $(scroll.scroller).find("figure").eq(scroll.currentPage.pageY);
                            e.addClass("active"), clearInterval(i), $(scroll.scroller).find("figure").find(".next").show(), e.find(".next").hide(), n.visibleItems.length && _.each(n.visibleItems, function(e, t) {
                                t === scroll.currentPage.pageY ? n.visibleItems[t].set("active", !0) : n.visibleItems[t].set("active", !1)
                            })
                        })
                    }
                } else this.scroller.refresh();
                if (this.visibleItems.length) {
                    var a = this.scroller.wrapper.clientHeight,
                        r = _.last(this.visibleItems).view.el.clientHeight;
                    $(this.scroller.scroller).css("padding-bottom", a - r)
                }
            }
        },
        refreshCategory: function() {
            this.filter(function(e) {
                return 4 !== e.get("type")
            }), Chaplin.mediator.publish("map:setmarkers", this.visibleItems), this.visibleItems.length && this.visibleItems[0].set("active", !0), this.refreshScroller(!0)
        },
        showCategory: function() {
            this.filter(function(e) {
                return 4 !== e.get("type")
            }), Chaplin.mediator.publish("map:setmarkers", this.visibleItems), this.refreshScroller(!1)
        },
        filterCallback: function(e, t) {
            t ? this.$el.append(e.$el) : (e.$el.remove(), e.model.set("active", !1))
        },
        next: function() {
            return this.scroller && this.scroller.next(), !1
        },
        scrollToItem: function(e) {
            if ($(".episodic").is(":visible") && this.scroller && ($(this.scroller.scroller).find("figure.active").removeClass("active"), this.scroller && e && e.view && e.view.$el)) {
                var t = e.view.$el.index(); - 1 !== t && (this.scroller.goToPage(0, t), e.view.$el.addClass("active")), 0 == t && e.view.$el.addClass("active")
            }
        }
    })
}), require.register("views/map/map-episodic-filters-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = (t("models/base/collection"), t("views/base/view")),
        s = t("mediator"),
        o = a.extend({
            tagName: "a",
            attributes: {
                href: "#"
            },
            events: {
                click: "onClick"
            },
            initialize: function() {
                this.model.view = this, this.model.has("icon") && this.$el.append($("<i></i>", {
                    "class": this.model.get("icon")
                }))
            },
            setActive: function(e) {
                e ? this.$el.addClass("active") : this.$el.removeClass("active")
            },
            getCategory: function() {
                return this.model.get("category")
            },
            onClick: function() {
                return s.publish("map:setcategory", this.getCategory()), !1
            }
        });
    i.exports = n.extend({
        className: "clearfix",
        tagName: "nav",
        itemView: o,
        listen: {
            "all collection": "refresh",
            "map:showcategory mediator": "refreshCategory",
            "map:setcategory mediator": "refreshCategory"
        },
        initialize: function() {
            this.constructor.__super__.initialize.apply(this, arguments), this.setBackground()
        },
        addItem: function(e) {
            this.collection.add(e)
        },
        removeItem: function(e) {
            this.collection.remove(e)
        },
        setBackground: function() {
            this.$el.css("background", document.body.getAttribute("scolor") || "#000")
        },
        refresh: function() {
            this.$el.attr("class", "clearfix col-" + this.collection.filter(function(e) {
                return e.has("icon")
            }).length)
        },
        refreshCategory: function(e) {
            this.collection.each(function(e) {
                e.view.setActive(!1)
            }), this.collection.findWhere({
                category: e
            }).view.setActive(!0)
        },
        filterer: function(e) {
            return e.has("icon")
        }
    })
}), require.register("views/map/map-episodic-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("./map-episodic-collection-view"),
        s = (t("./map-episodic-filters-view"), t("models/base/collection"));
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .episodic-callout": "openPanel",
            "click .episodic-close": "closePanel"
        },
        listen: {
            "map:openpanel mediator": "openPanel",
            "map:closepanel mediator": "closePanel",
            "map:episodicscroll mediator": "closePickView",
            "map:setcategory mediator": "showCategory",
            "map:pickview mediator": "closePickView"
        },
        template: t("./templates/map-episodic"),
        regions: {
            collection: ".episodic-items",
            filters: ".episodic-filters"
        },
        initialize: function(e) {
            this.filters = e.filters
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), collection = new s(this.collection.filter(function(e) {
                return e.get("panel") && e.get("panel").length
            })), this.subview("collection", new a({
                collection: collection,
                region: "collection"
            })), this.showSpoilerGuard()
        },
        showCategory: function(e) {
            this.filters.findWhere({
                category: e
            });
            this.container.find(".locations-title span").css({
                color: this.collection.at(0).get("episode_color")
            })
        },
        openPanel: function() {
            var e = this;
            return this.container.addClass("open"), $(".episodic-callout").addClass("hidden"), setTimeout(function() {
                Chaplin.mediator.publish("map:mapwidthchange", {
                    panel: e.container
                })
            }, 10), this.$el.find(".episodic-gallery figure.active").length || this.$el.find(".episodic-gallery figure:first").addClass("active"), !1
        },
        closePanel: function(e) {
            this.container.removeClass("open"), this.$(".episodic-callout").removeClass("hidden"), Chaplin.mediator.publish("map:mapwidthchange", {
                panel: self.container
            }), e && e.preventDefault()
        },
        closePickView: function() {
            Chaplin.mediator.publish("site:closepickview")
        }
    })
}), require.register("views/map/map-main-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        autoRender: !0,
        animationDuration: 1e3,
        className: "map-index",
        template: t("./templates/map-index"),
        regions: {
            episodic: ".episodic",
            takeover: ".takeover"
        }
    })
}), require.register("views/map/map-takeover-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = (t("lib/lazyyt"), t("lib/iscroll")),
        s = t("lib/utils"),
        o = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .takeover-close": "closePanel"
        },
        listen: {
            "takeover:open mediator": "showTakeover",
            "takeover:close mediator": "closePanel"
        },
        template: t("./templates/map-takeover"),
        showTakeover: function(e) {
            this.model = e, this.render(), s.parseBody(this.$el.find(".takeover-text p"));
            var t = this.model.get("location_name");
            this.updateShare({
                fb: s.getShare("locations", "fb", t, t),
                tb: s.getShare("locations", "tb", t, t),
                tw: s.getShare("locations", "tw", t)
            }), this.openPanel()
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = this,
                t = this.$el.find(".takeover-slider"),
                i = function(e, t, i, n) {
                    var a = 0;
                    i >= n ? ($(this).height(t), e > $(this).width() ? ($(this).css("height", "auto"), $(this).width(e), a = t / 2 - $(this).height() / 2, 0 > a && ($(this).css("margin-left", 0), $(this).css("margin-top", a))) : (a = e / 2 - $(this).width() / 2, 0 > a && ($(this).css("margin-top", 0), $(this).css("margin-left", a)))) : n > i && ($(this).width(e), t > $(this).height() ? ($(this).css("width", "auto"), $(this).height(t), a = e / 2 - $(this).width() / 2, 0 > a && ($(this).css("margin-top", 0), $(this).css("margin-left", a))) : (a = t / 2 - $(this).height() / 2, 0 > a && ($(this).css("margin-left", 0), $(this).css("margin-top", a))))
                };
            t.glide({
                arrows: !1,
                autoplay: 5e3,
                circular: !1,
                navigation: !1,
                afterInit: function() {
                    this.slides.each(function() {
                        var e = this;
                        $(this).children("img").on("load", function() {
                            var t = $(e).width(),
                                n = $(e).height(),
                                a = $(this).width(),
                                s = $(this).height();
                            i.call($(this), t, n, a, s)
                        })
                    })
                }
            }), $(window).off(".map-takeover").on("resize.map-takeover", function() {
                t.find(".slide").each(function() {
                    var e = this;
                    $(this).children("img").each(function() {
                        $(this).css({
                            width: "auto",
                            height: "auto"
                        });
                        var t = $(e).width(),
                            n = $(e).height(),
                            a = $(this).width(),
                            s = $(this).height();
                        i.call($(this), t, n, a, s)
                    })
                }), e.$el.find(".lazyyt").each(function() {
                    $(this).data("width", $(this).width()), $(this).data("height", Math.round($(this).width() / 1.7778)), $(this).lazyYT()
                })
            });
            var n = this.$el.find("img"),
                s = 0;
            n.length ? n.each(function() {
                $(this).on("load error", function() {
                    s++, n.length <= s && (e.scroller = new a(e.$el.find(".scroll-wrap").get(0), {
                        mouseWheel: !0
                    }))
                })
            }) : this.scroller = new a(this.$el.find(".scroll-wrap").get(0), {
                mouseWheel: !0
            }), this.$el.find(".lazyyt").each(function() {
                $(this).data("width", $(this).width()), $(this).data("height", Math.round($(this).width() / 1.7778)), $(this).lazyYT()
            })
        },
        openPanel: function(e) {
            var t = new o;
            t.get("hodorize") && s.hodorize(), this.container.show(), this.container.addClass("open"), this.container.resize(), this.container.find(".takeover-title span").css({
                color: this.model.get("episode_color")
            }), this.scroller.refresh(), e && e.target && e.preventDefault()
        },
        closePanel: function(e) {
            this.container.removeClass("open"), this.container.hide(), e && e.target && e.preventDefault()
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption)), e.tw && e.tw.description && t.data("share-description-TW", e.tw.description), t.share({
                orientation: "vertical"
            })
        }
    })
}), require.register("views/map/templates/map-episodic-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t, n) {
            var a, s, c, h = "";
            return h += "\n	", a = i["if"].call(e, e && e.img, {
                hash: {},
                inverse: m.noop,
                fn: m.program(2, o, t),
                data: t
            }), (a || 0 === a) && (h += a), h += "\n	<figcaption>\n		<h2>", (s = i.title) ? a = s.call(e, {
                hash: {},
                data: t
            }) : (s = e && e.title, a = typeof s === u ? s.call(e, {
                hash: {},
                data: t
            }) : s), h += p(a) + ' <a class="share map-vertical" data-share-link="', s = i.url || n && n.url, c = {
                hash: {},
                data: t
            }, a = s ? s.call(e, "map#location", n && n.id, e && e.title, c) : d.call(e, "url", "map#location", n && n.id, e && e.title, c), h += p((s = i.getFullUrl || n && n.getFullUrl, c = {
                hash: {},
                data: t
            }, s ? s.call(e, a, c) : d.call(e, "getFullUrl", a, c))) + '" href="#"><i class="sprites-share-black"></i></a></h2>\n		<p>', (s = i.description) ? a = s.call(e, {
                hash: {},
                data: t
            }) : (s = e && e.description, a = typeof s === u ? s.call(e, {
                hash: {},
                data: t
            }) : s), (a || 0 === a) && (h += a), h += "</p>\n		", a = i.each.call(e, e && e.characters, {
                hash: {},
                inverse: m.noop,
                fn: m.program(4, r, t),
                data: t
            }), (a || 0 === a) && (h += a), h += "\n		", a = i.each.call(e, e && e.houses, {
                hash: {},
                inverse: m.noop,
                fn: m.program(6, l, t),
                data: t
            }), (a || 0 === a) && (h += a), h += "\n	</figcaption>\n"
        }

        function o(e, t) {
            var n, a, s = "";
            return s += '<img src="' + p((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "xlarge", "", a) : d.call(e, "img-path", e && e.img, "xlarge", "", a))) + '" alt="">'
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += '\n		<div>\n			<span class="pick-call item-' + p((n = null == t || t === !1 ? t : t.index, typeof n === u ? n.apply(e) : n)) + '" data-container=".map-wrapper">\n				<i class="sprites-charecter-black-big"></i> <span>', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (o += n), o += '</span>\n				<em class="pick-view character">\n					<a class="pickview-wrapper" href="' + p((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.name, s) : d.call(e, "url", "people#index", e && e.id, e && e.name, s))) + '">\n						<div class="img">\n							<span>\n								<img src="' + p((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "", s) : d.call(e, "img-path", e && e.img, "small", "", s))) + '" alt="Pickview image">\n							</span>\n						</div>\n						<p>' + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "see full bio", s) : d.call(e, "t", "see full bio", s))) + '</p>\n						<i class="pick-icon sprites-pick-character"></i>\n						<em></em>\n					</a>\n				</em>\n			</span>\n		</div>\n		'
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += '\n		<div>\n			<span class="pick-call item-' + p((n = null == t || t === !1 ? t : t.index, typeof n === u ? n.apply(e) : n)) + '" data-container=".map-wrapper">\n				<i class="sprites-house-dark"></i> <span>', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (o += n), o += '</span>\n				<em class="pick-view house">\n					<a class="pickview-wrapper" href="' + p((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "houses#index", e && e.id, e && e.name, s) : d.call(e, "url", "houses#index", e && e.id, e && e.name, s))) + '">\n						<div class="img">\n							<span>\n								<img src="' + p((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "", s) : d.call(e, "img-path", e && e.img, "small", "", s))) + '" alt="Pickview image">\n							</span>\n						</div>\n						<p>' + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "see full bio", s) : d.call(e, "t", "see full bio", s))) + '</p>\n						<i class="pick-icon sprites-pick-house"></i>\n						<em></em>\n					</a>\n				</em>\n			</span>\n		</div>\n		'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var c, h = "",
            d = i.helperMissing,
            p = this.escapeExpression,
            u = "function",
            m = this;
        return h += '<div class="overlay"></div>\n<a href="#" class="next"><i class="sprites-menu-bottom-arrow"></i></a>\n', c = i.each.call(t, t && t.panel, {
            hash: {},
            inverse: m.noop,
            fn: m.programWithDepth(1, s, a, t),
            data: a
        }), (c || 0 === c) && (h += c), h += "\n"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/map/templates/map-episodic", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<h1 class="locations-title"><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "featured locations", o) : l.call(t, "t", "featured locations", o))) + '</span></h1><a href="#" class="episodic-close"><i\n		class="sprites-minimize-gray"></i></a>\n<div id="episodic-scroll" class="episodic-items scroll-wrap">\n</div>\n<a href="#" class="episodic-callout" style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '">\n	<em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color3", o) : l.call(t, "scolor", "color3", o))) + '">\n		<i class="sprites-maximize"></i>\n	</em>\n	<i class="sprites-home home"></i>\n</a>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/map/templates/map-index", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = "function",
            c = this.escapeExpression;
        return r += '<div class="map-wrapper" style="background: #070b0f url(', (o = i.assetsUrl) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.assetsUrl, s = typeof o === l ? o.call(t, {
            hash: {},
            data: a
        }) : o), r += c(s) + 'bg.jpg)">\n	<div id="map"></div>\n	<div class="episodic"></div>\n	<div class="takeover"></div>\n</div>\n<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'5\' height=\'5\' id="minimappattern" style="position: absolute;z-index: -1;">\n	<rect width=\'5\' height=\'5\' fill=\'#555\'/>\n	<path d=\'M0 5L5 0ZM6 4L4 6ZM-1 1L1 -1Z\' stroke=\'#222\' stroke-width=\'1\'/>\n</svg>\n<svg style="position: absolute;z-index: -1;">\n	<g>\n		<pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="5" height="5">\n			<image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGlkPSJtaW5pbWFwcGF0dGVybiIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4OiAtMTsiPgoJPHJlY3Qgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iIzU1NSI+PC9yZWN0PgoJPHBhdGggZD0iTTAgNUw1IDBaTTYgNEw0IDZaTS0xIDFMMSAtMVoiIHN0cm9rZT0iIzIyMiIgc3Ryb2tlLXdpZHRoPSIxIj48L3BhdGg+Cjwvc3ZnPg==" x="0" y="0" width="5" height="5"></image>\n		</pattern>\n	</g>\n</svg>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/map/templates/map-takeover", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, l = "";
            return l += '\n				<li class="slide">\n					', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: w.noop,
                fn: w.program(2, o, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "image", s) : f.call(e, "isEqual", e && e.type, "image", s), (n || 0 === n) && (l += n), l += "\n					", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: w.noop,
                fn: w.program(4, r, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "video", s) : f.call(e, "isEqual", e && e.type, "video", s), (n || 0 === n) && (l += n), l += "\n				</li>\n			"
        }

        function o(e, t) {
            var n, a, s = "";
            return s += '\n						<img src="' + g((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "xlarge", "gallery", a) : f.call(e, "img-path", e && e.img, "xlarge", "gallery", a))) + '" alt="' + g((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "gallery", a) : f.call(e, "t", "gallery", a))) + '" class="img-1200 block">\n						<img src="' + g((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "large", "gallery", a) : f.call(e, "img-path", e && e.img, "large", "gallery", a))) + '" alt="' + g((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "gallery", a) : f.call(e, "t", "gallery", a))) + '" class="img-1024 block">\n						<img src="' + g((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "medium", "gallery", a) : f.call(e, "img-path", e && e.img, "medium", "gallery", a))) + '" alt="' + g((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "gallery", a) : f.call(e, "t", "gallery", a))) + '" class="img-768">\n						<img src="' + g((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "small", "gallery", a) : f.call(e, "img-path", e && e.img, "small", "gallery", a))) + '" alt="' + g((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "gallery", a) : f.call(e, "t", "gallery", a))) + '" class="img-320">\n					'
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += '\n						<div class="iframe-wrap">\n							<div class="lazyyt" data-youtube-id="', (a = i.video_code) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.video_code, n = typeof a === v ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += g(n) + '" data-width="" data-height="">' + g((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "loading...", s) : f.call(e, "t", "loading...", s))) + "</div>\n						</div>\n					"
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += '\n							<li>\n								<i class="sprites-house-dark"></i>\n								<span class="pick-call" data-container=".takeover">\n									<span>' + g((n = e && e.name, typeof n === v ? n.apply(e) : n)) + '</span>\n									<em class="pick-view house">\n										<a class="pickview-wrapper" href="' + g((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "houses#index", e && e.id, e && e.name, s) : f.call(e, "url", "houses#index", e && e.id, e && e.name, s))) + '">\n											<div class="img">\n												<span>\n													<img src="' + g((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "", s) : f.call(e, "img-path", e && e.img, "small", "", s))) + '" alt="">\n												</span>\n											</div>\n											<p>' + g((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "explore house", s) : f.call(e, "t", "explore house", s))) + '</p>\n											<i class="pick-icon sprites-pick-house"></i>\n											<em></em>\n										</a>\n									</em>\n								</span>\n							</li>\n						'
        }

        function c(e, t) {
            var n, a, s, o = "";
            return o += '\n							<li>\n								<i class="sprites-charecter-black-big"></i>\n								<span class="pick-call" data-container=".takeover">\n									' + g((n = e && e.name, typeof n === v ? n.apply(e) : n)) + '\n									<em class="pick-view character">\n										<a class="pickview-wrapper" href="' + g((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.name, s) : f.call(e, "url", "people#index", e && e.id, e && e.name, s))) + '">\n											<div class="img">\n												<span>\n													<img src="' + g((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "", s) : f.call(e, "img-path", e && e.img, "small", "", s))) + '" alt="">\n												</span>\n											</div>\n											<p>' + g((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "see full bio", s) : f.call(e, "t", "see full bio", s))) + '</p>\n											<i class="pick-icon sprites-pick-character"></i>\n											<em></em>\n										</a>\n									</em>\n								</span>\n							</li>\n						'
        }

        function h(e, t) {
            var n, a, s, o = "";
            return o += '\n							<li class="slide">\n								', a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: w.noop,
                fn: w.program(11, d, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "image", s) : f.call(e, "isEqual", e && e.type, "image", s), (n || 0 === n) && (o += n), o += "\n								", a = i.isEqual || e && e.isEqual, s = {
                hash: {},
                inverse: w.noop,
                fn: w.program(13, p, t),
                data: t
            }, n = a ? a.call(e, e && e.type, "video", s) : f.call(e, "isEqual", e && e.type, "video", s), (n || 0 === n) && (o += n), o += "\n							</li>\n						"
        }

        function d(e, t) {
            var n, a, s = "";
            return s += '\n									<img src="' + g((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "medium", "gallery", a) : f.call(e, "img-path", e && e.img, "medium", "gallery", a))) + '" alt="' + g((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "gallery", a) : f.call(e, "t", "gallery", a))) + '" class="img-768">\n									<img src="' + g((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "small", "gallery", a) : f.call(e, "img-path", e && e.img, "small", "gallery", a))) + '" alt="' + g((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "gallery", a) : f.call(e, "t", "gallery", a))) + '" class="img-320">\n								'
        }

        function p(e, t) {
            var n, a, s, o = "";
            return o += '\n									<div class="iframe-wrap">\n										<div class="lazyyt" data-youtube-id="', (a = i.video_code) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.video_code, n = typeof a === v ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += g(n) + '" data-width="" data-height="">' + g((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "loading...", s) : f.call(e, "t", "loading...", s))) + "</div>\n									</div>\n								"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var u, m = "",
            f = i.helperMissing,
            g = this.escapeExpression,
            v = "function",
            w = this;
        return m += '<div class="takeover-gallery">\n	<div class="takeover-slider">\n		<ul class="slides">\n			', u = i.each.call(t, (u = t && t.takeover, null == u || u === !1 ? u : u.gallery), {
            hash: {},
            inverse: w.noop,
            fn: w.program(1, s, a),
            data: a
        }), (u || 0 === u) && (m += u), m += '\n		</ul>\n	</div>\n	<div class="takeover-content">\n		<a href="#" class="takeover-close"><i class="sprites-takeover-close"></i></a>\n\n		<div id="takeover-scroll" class="scroll-wrap">\n			<section>\n				<h1 class="takeover-title">\n					<div class="table">\n						<div class="cell"><span>', u = t && t.takeover, u = null == u || u === !1 ? u : u.title, u = typeof u === v ? u.apply(t) : u, (u || 0 === u) && (m += u), m += '</span></div>\n					</div>\n					<a href="#" class="share map-vertical"><i class="sprites-share-black"></i></a>\n				</h1>\n\n				<div class="takeover-text">\n					<div class="description">\n						', u = t && t.takeover, u = null == u || u === !1 ? u : u.description, u = typeof u === v ? u.apply(t) : u, (u || 0 === u) && (m += u), m += '\n					</div>\n					<ul class="houses">\n						', u = i.each.call(t, (u = t && t.takeover, null == u || u === !1 ? u : u.houses), {
            hash: {},
            inverse: w.noop,
            fn: w.program(6, l, a),
            data: a
        }), (u || 0 === u) && (m += u), m += '\n					</ul>\n					<ul class="characters">\n						', u = i.each.call(t, (u = t && t.takeover, null == u || u === !1 ? u : u.characters), {
            hash: {},
            inverse: w.noop,
            fn: w.program(8, c, a),
            data: a
        }), (u || 0 === u) && (m += u), m += '\n					</ul>\n					<ul class="slides">\n						', u = i.each.call(t, (u = t && t.takeover, null == u || u === !1 ? u : u.gallery), {
            hash: {},
            inverse: w.noop,
            fn: w.program(10, h, a),
            data: a
        }), (u || 0 === u) && (m += u), m += "\n					</ul>\n				</div>\n			</section>\n		</div>\n	</div>\n</div>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/map/templates/popup", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, o = "";
            return o += '\n	<div class="image-wrapper"><img data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + '" src="' + d((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "xlarge", "", s) : p.call(e, "img-path", e && e.img, "xlarge", "", s))) + '" alt="', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + '" /></div>\n'
        }

        function o(e, t) {
            var n, a, s = "";
            return s += '\n	<div class="text-wrapper">', (a = i.text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.text, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), (n || 0 === n) && (s += n), s += "</div>\n"
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += '\n	<span class="popup-more-btn" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + '">' + d((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "more", s) : p.call(e, "t", "more", s))) + " +</span>\n"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var l, c = "",
            h = "function",
            d = this.escapeExpression,
            p = i.helperMissing,
            u = this;
        return l = i["if"].call(t, t && t.img, {
            hash: {},
            inverse: u.program(3, o, a),
            fn: u.program(1, s, a),
            data: a
        }), (l || 0 === l) && (c += l), c += "\n\n", l = i["if"].call(t, t && t.takeover, {
            hash: {},
            inverse: u.noop,
            fn: u.program(5, r, a),
            data: a
        }), (l || 0 === l) && (c += l), c
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/appendix-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = t("lib/utils"),
        s = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "all model": "render"
        },
        events: {
            "click .go-intro": "goIntro"
        },
        template: t("./templates/appendix"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = this.$el.find(".side-layer");
            e.height() < $(window).height() && e.css("height", $(window).height() - $(".global-nav").height() + "px"), a.parseBody(this.$el.find("p"), ".character"), $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("appendix")), $(window).off("resize.appendix-grid").on("resize.appendix-grid", _.bind(function() {
                $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("appendix"))
            }, this))
        },
        goIntro: function() {
            s.publish("people:snapto", 1)
        }
    })
}), require.register("views/people/bio-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = t("lib/utils"),
        s = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .go-intro": "goIntro"
        },
        listen: {
            "all model": "render"
        },
        template: t("./templates/bio"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = this.$el.find(".side-layer");
            e.height() < $(window).height() && e.css("height", $(window).height() - $(".global-nav").height() + "px"), a.parseBody(this.$el.find("div.body"), ".character");
            var t = e.find("img"),
                i = $(".global-nav").height(),
                n = function(e) {
                    e.css("height", "auto"), e.height() > 0 && e.height() > $(window).height() - i ? e.css("height", "auto") : e.css("height", $(window).height() - i + "px")
                };
            t.each(function() {
                $(this).on("load", function() {
                    n(e)
                })
            }), $(window).off(".people-bio").on("resize.people-bio", function() {
                $(window).width() >= 768 && n(e)
            }), $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("bio")), $(window).off("resize.bio-grid").on("resize.bio-grid", _.bind(function() {
                $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("bio"))
            }, this))
        },
        goIntro: function() {
            s.publish("people:snapto", 1)
        }
    })
}), require.register("views/people/bumper-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        events: {
            "click .to-top": "toTop",
            "touchend .to-top": "toTop",
            "click .next": "next",
            "touchend .next": "next",
            "click .list": "callList",
            "touchend .list": "callList",
            "click .mask": "hide"
        },
        listen: {
            "all model": "render",
            "people:changefilter mediator": "changeFilter",
            "people:showbumper mediator": "show",
            "people:hidebumper mediator": "hide"
        },
        template: t("./templates/bumper"),
        initialize: function() {
            $("body").off(".people-bumper"), $(window).off(".people-bumper");
            var e = this,
                t = function() {
                    $(window).scrollTop() + $(window).height() >= $("body").height() && !e.bumperVisible && (a.publish("people:showbumper"), e.bumperVisible = !0)
                },
                i = function() {
                    e.bumperVisible && (a.publish("people:hidebumper"), e.bumperVisible = !1)
                };
            $(window).on("DOMMouseScroll.people-bumper", function(e) {
                e.originalEvent.detail > 0 ? t() : i()
            }), $(window).on("mousewheel.people-bumper", function(e) {
                e.originalEvent.wheelDelta < 0 ? t() : i()
            }), $(window).on("keydown.people-bumper", function(e) {
                40 == e.keyCode ? t() : 38 == e.keyCode && i()
            }), $(window).on("resize.people-bumper", function() {
                $(window).width() >= 768 && (a.publish("people:hidebumper"), e.bumperVisible = !1)
            });
            var n = -1,
                s = -1,
                o = !1;
            $("body").on("touchstart.people-bumper", function(t) {
                $(".push-in-nav").hasClass("open") || (n = $(window).scrollTop(), n + $(window).height() >= $("body").height() && !e.bumperVisible ? t.preventDefault() : (a.publish("people:hidebumper"), e.bumperVisible = !1), o = !1, t.originalEvent && (s = t.originalEvent.touches[0].pageY))
            }).on("touchmove.people-bumper", function(e) {
                e.originalEvent && e.originalEvent.touches[0].pageY - s < -10 && (o = !0), e.originalEvent && n + $(window).height() >= $("body").height() && e.originalEvent.touches[0].pageY - s > 10 && window.scrollTo(0, $(window).scrollTop() - 1)
            }).on("touchend.people-bumper", function() {
                $(window).scrollTop() === n && o && n + $(window).height() >= $("body").height() ? (a.publish("people:showbumper"), e.bumperVisible = !0) : (a.publish("people:hidebumper"), e.bumperVisible = !1), n = -1, s = -1
            }).on("touchcancel.people-bumper", function() {
                a.publish("people:hidebumper"), e.bumperVisible = !1, n = -1, s = -1
            })
        },
        toTop: function(e) {
            e.preventDefault(), this.bumperVisible = !1, this.hide(), a.publish("people:snapto", 1, !0)
        },
        next: function(e) {
            e.preventDefault(), this.bumperVisible = !1, this.hide(), a.publish("people:getnext", this.model.id, function(e) {
                e && a.publish("character:load", {
                    id: e.get("id"),
                    silent: !1
                })
            })
        },
        callList: function(e) {
            e.preventDefault(), this.bumperVisible = !1, this.hide(), a.publish("people:showlist")
        },
        changeFilter: function(e) {
            var t, i = e.indexOf(e.findWhere({
                id: Number(this.model.id)
            }));
            t = i + 1 < e.length ? e.at(i + 1).get("id") : e.first().get("id"), this.model.set("next", t)
        },
        show: function() {
            if (!this.container.hasClass("open")) {
                this.bumperVisible = !0, this.bumperIsOpening = !0, this.$el.find(".mask").css({
                    height: $(window).height() + "px",
                    top: -$(window).height() + "px"
                }), this.container.show(), setTimeout(_.bind(function() {
                    this.container.addClass("open")
                }, this), 16);
                var e = this;
                $(window).on("DOMMouseScroll.people-bumper-stop", function(t) {
                    t.originalEvent.detail < 0 && e.hide(), t.preventDefault()
                }), $(window).on("mousewheel.people-bumper-stop", function(t) {
                    t.originalEvent.wheelDelta > 0 && e.hide(), t.preventDefault()
                }), $(window).on("keydown.people-bumper-stop", function(t) {
                    38 == t.keyCode && e.hide(), t.preventDefault()
                }), setTimeout(function() {
                    this.bumperIsOpening = !1
                }.bind(this), 750)
            }
        },
        hide: function() {
            this.container.hasClass("open") && !this.bumperIsOpening && (this.bumperVisible = !1, this.container.removeClass("open"), this.container.hide(), $(window).off("DOMMouseScroll.people-bumper-stop").off("mousewheel.people-bumper-stop").off("keydown.people-bumper-stop"))
        }
    })
}), require.register("views/people/featured-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = t("mediator"),
        s = t("lib/utils"),
        o = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "all collection": "render",
            "window:resized mediator": "checkCardsHeight"
        },
        events: {
            "click .goto-char": "gotoChar",
            "click .see-full-list-button": "openPeopleList"
        },
        template: t("./templates/featured"),
        openPeopleList: function() {
            Chaplin.mediator.publish("people:showlist")
        },
        getTemplateData: function() {
            return this.collection.attributes.showHeader = "" != this.collection.attributes.title || "" != this.collection.attributes.subtitle, this.collection.toJSON()
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = new o;
            if (e.get("season_colors")) {
                var t = e.get("season_colors").color1;
                this.$el.find(".see-full-list-button .icon-list-nav").css("background", t)
            }
            var i = this.$el.find(".side-layer");
            if (i.height() < $(window).height() && i.css("height", $(window).height() - $(".global-nav").height() + "px"), !this.model.get("character_id") && window.scrollTo) {
                var n = $(".global-nav").height();
                window.scrollTo(0, n + 1)
            }
            this.container && this.container.addClass("ss-active"), this.updateHeight(i), $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.collection.toJSON()), $(window).off("resize.featured-grid").on("resize.featured-grid", _.bind(function() {
                $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.collection.toJSON())
            }, this))
        },
        gotoChar: function(e) {
            if (e.preventDefault(), e.target) {
                var t = "a" == e.target.tagName.toLowerCase() ? $(e.target) : $(e.target).parents("a:first");
                a.publish("character:getlist", function(e) {
                    var i, n = e.indexOf(e.findWhere({
                        id: Number(t.data("id"))
                    }));
                    i = n + 1 < e.length ? e.at(n + 1).get("id") : e.first().get("id"), a.publish("character:load", {
                        id: t.data("id"),
                        next: i,
                        silent: !1
                    });
                    Chaplin.utils.reverse("people#index", {
                        id: t.data("id")
                    });
                    history.pushState(Backbone.history.history.state, "", t.attr("href"))
                })
            }
            return !1
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = this;
            s.checkImgLoaded(this.$el.find(".featured-cell-wrapper article"), function() {
                e.checkCardsHeight()
            }), $(window).resize(_.bind(this.checkCardsHeight, this))
        },
        checkCardsHeight: function() {
            this.$el.find(".featured-cell-wrapper article").each(function() {
                var e = 0,
                    t = $(this).children();
                t.css("height", "auto"), t.each(function() {
                    var t = $(this).height();
                    e = t > e ? t : e
                }), t.height(e)
            })
        }
    })
}), require.register("views/people/house-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "all model": "render"
        },
        events: {
            "click .house-item": function() {
                $(window).off("scroll.snapscroll"), Chaplin.mediator.publish("loader:show")
            },
            "click .go-intro": "goIntro"
        },
        template: t("./templates/house"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = this.$el.find(".side-layer");
            e.height() < $(window).height() && e.css("height", $(window).height() - $(".global-nav").height() + "px"), this.updateHeight(e), $(window).width() > 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("houses")), $(window).off("resize.house-grid").on("resize.house-grid", _.bind(function() {
                $(window).width() > 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("houses"))
            }, this))
        },
        goIntro: function() {
            a.publish("people:snapto", 1)
        }
    })
}), require.register("views/people/intro-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = (t("mediator"), t("models/cookie-model"));
    i.exports = n.extend({
        autoRender: !0,
        template: t("./templates/intro"),
        initialize: function() {
            this.constructor.__super__.initialize.apply(this, arguments);
            var e = new a,
                t = this.model.get("intro").quote;
            t && (e.get("lang_id") == Chaplin.Application.spanishId ? "." == t[t.length - 1] && (t = '"' + t.substring(0, t.length - 1) + '".', this.model.get("intro").quote = t) : this.model.get("intro").quote = '"' + t + '"')
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = this.$el.find(".side-layer");
            e.height() < $(window).height() && e.css("height", $(window).height() - $(".global-nav").height() + "px"), this.updateHeight(e), $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("intro")), $(window).off("resize.intro-grid").on("resize.intro-grid", _.bind(function() {
                $(window).width() >= 768 && this.updateGrid(this.$el.find(".background-layer"), this.model.get("intro"))
            }, this));
            var t = $(".items-list-panel .items li a[data-id=" + this.model.id + "]");
            t.parents("li:first").siblings("li").removeClass("active"), t.parents("li:first").addClass("active");
            var i = t.find("span").text().replace(",", "").trim()[0];
            $(".a-z li").removeClass("active"), $(".a-z li[data-letter=" + (i ? i.toUpperCase() : "") + "]").addClass("active"), this.showSpoilerGuard()
        }
    })
}), require.register("views/people/items-list-item-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        tagName: "li",
        autoRender: !0,
        template: t("./templates/items-list-item"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments)
        }
    })
}), require.register("views/people/items-list-view", function(e, t, i) {
    {
        var n = t("views/base/collection-view"),
            a = t("models/base/collection"),
            s = t("mediator"),
            o = t("views/people/items-list-item-view");
        t("models/lists/character-model")
    }
    i.exports = n.extend({
        autoRender: !0,
        listSelector: ".items",
        className: "",
        itemView: o,
        events: {
            "click .filter a": "updateFilter",
            "click .a-z li": "searchLetter"
        },
        listen: {
            "character:getlist mediator": "getList"
        },
        template: t("./templates/items-list"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments)
        },
        updateFilter: function(e) {
            var t = $(e.target),
                i = t.data("filter"),
                n = "firstname" == i ? "lastname" : "firstname";
            collection = this.collection.sortBy(function(e) {
                return e.get(i).toLowerCase() || e.get(n).toLowerCase()
            }), this.collection = new a(collection), this.renderAllItems(), s.publish("people:changefilter", this.collection), t.siblings().css("border-bottom", "none"), t.css("border-bottom", "5px solid " + t.data("bgcolor")), e.preventDefault(), this.$list.removeClass(n).addClass(i), this.$list.find("li").each(function() {
                var e = $(this).find("span[data-letter]:first");
                if (!e.hasClass(i)) {
                    var t = e.siblings("span[data-letter]"),
                        n = e.siblings("b");
                    n.after(e).before(t)
                }
            })
        },
        searchLetter: function(e, t) {
            var i, n = $(e.target).data("letter").toLowerCase();
            if (this.$list.find("li .title").each(function() {
                    if (!i) {
                        var e = $(this).find($(this).find("span:first-of-type").data("letter").length ? "span:first-of-type" : "span:last-of-type");
                        e.data("letter") == n && (i = e)
                    }
                }), t || ($(".a-z li").removeClass("active"), $(e.target).addClass("active")), i && i.length) this.scroller.scrollToElement(i.parents("li:first").find("img")[0], 200);
            else {
                var a = $(e.target).prev();
                a.length && this.searchLetter({
                    target: a.get(0)
                }, !0)
            }
        },
        getList: function(e) {
            return _.isFunction(e) && e.call(this, this.collection), this.collection
        }
    })
}), require.register("views/people/location-view", function(e, t, i) {
    var n = t("views/base/snapscroll-view"),
        a = t("mediator");
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "all model": "render"
        },
        events: {
            "click .go-intro": "goIntro"
        },
        template: t("./templates/location"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = this.$el.find(".side-layer");
            e.height() < $(window).height() && e.css("height", $(window).height() - $(".global-nav").height() + "px");
            var t = this.$el.find(".map-layer");
            this.updateHeight(e, t)
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.$el.find(".map-layer").hasClass("leaflet-container") || a.publish("character:location-init", {
                el: this.$el.find(".map-layer")[0],
                model: this.model
            })
        },
        goIntro: function() {
            a.publish("people:snapto", 1)
        }
    })
}), require.register("views/people/people-view", function(e, t, i) {
    {
        var n = t("views/base/view");
        t("mediator")
    }
    i.exports = n.extend({
        autoRender: !0,
        className: "people-page",
        events: {},
        listen: {},
        regions: {
            featured: ".featured",
            intro: ".intro",
            location: ".location",
            bio: ".bio",
            house: ".house",
            appendix: ".appendix",
            videos: ".videos",
            bumper: ".bumper",
            pushinnav: ".push-in-nav"
        },
        template: t("./templates/people")
    })
}), require.register("views/people/push-in-view", function(e, t, i) {
    var n = (t("models/base/model"), t("views/base/view")),
        a = t("mediator"),
        s = t("lib/iscroll"),
        o = (t("lib/utils"), t("models/base/collection"));
    i.exports = n.extend({
        autoRender: !0,
        className: "",
        goTopItem: null,
        events: {
            "click .show-items-list": "toggle",
            "click .push-in-overlay": "toggleClick",
            "touchend .push-in-overlay": function(e) {
                e.preventDefault(), this.toggle()
            },
            "click .go-top": "goTop",
            "touchstart .items a": "goLinkStart",
            "click .items a": "gotoChar",
            "touchend .items a": "gotoCharTouch"
        },
        listen: {
            "people:showlist mediator": "toggle",
            "pushnav:updateshare mediator": "updateShare",
            "app:hidenav mediator": "hide",
            "people:getnext mediator": "passNext",
            "people:changefilter mediator": "changeFilter"
        },
        regions: {
            itemslist: ".items-list"
        },
        template: t("./templates/push-in-nav"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), collection = this.collection.sortBy(function(e) {
                return e.get("firstname").toLowerCase() || e.get("lastname").toLowerCase()
            }), collection = new o(collection), collection = collection.sortBy(function(e) {
                return e.get("lastname").toLowerCase() || e.get("firstname").toLowerCase()
            }), this.collection = new o(collection);
            var e = t("views/people/items-list-view");
            this.subview("itemslist", new e({
                collection: this.collection,
                model: this.model,
                region: "itemslist"
            })), this.goTopItem = this.$el.find(".go-top"), this.toggleGoTop(), $(window).on("scroll.goTop", _.bind(this.toggleGoTop, this))
        },
        remove: function() {
            this.constructor.__super__.remove.apply(this, arguments), $(window).off("scroll.goTop")
        },
        toggleGoTop: function() {
            var e = $(window).scrollTop();
            this.goTopItem.toggleClass("disable", !e)
        },
        goLinkStart: function(e) {
            this.touchPositionStart = e.originalEvent.touches[0].screenY
        },
        goLink: function(e) {
            if (Math.abs(this.touchPositionStart - e.originalEvent.changedTouches[0].screenY) < 10) {
                null == this.touchPositionStart;
                var t = $(e.target).attr("href") || $(e.target).parents("a:first").attr("href");
                Chaplin.utils.redirectTo({
                    url: t
                }), e.preventDefault()
            }
        },
        gotoCharTouch: function(e) {
            Math.abs(this.touchPositionStart - e.originalEvent.changedTouches[0].screenY) < 10 && (null == this.touchPositionStart, this.gotoChar(e))
        },
        loadItem: function(e) {
            a.publish("character:load", {
                id: e,
                silent: !1
            })
        },
        gotoChar: function(e) {
            var t = this;
            if (e.preventDefault(), e.target) {
                var i = ($(".global-nav").height(), "a" == e.target.tagName.toLowerCase() ? $(e.target) : $(e.target).parents("a:first"));
                i.parents("li:first").siblings("li").removeClass("active"), i.parents("li:first").addClass("active");
                var n = i.text().trim().replace(",", "")[0];
                $(".a-z li").removeClass("active"), $(".a-z li[data-letter=" + n.toUpperCase() + "]").addClass("active"), t.loadItem(0 == $(window).scrollTop() ? i.data("id") : i.data("id")), history.pushState(Backbone.history.history.state, "", i.attr("href"))
            }
            return this.hide(), !1
        },
        show: function() {
            this.container.addClass("open"), $("html").css("overflow", "hidden"), $("body").addClass("noscroll"), $(".global-nav").removeClass("nav-slide-up");
            var e = this.$el;
            setTimeout(function() {
                e.find(".content").addClass("open")
            }, 300), a.publish("app:hidesidenav")
        },
        hide: function() {
            var e = this.container,
                t = this.$el;
            $("html").css("overflow", "auto"), $("body").removeClass("noscroll"), t.find(".content").removeClass("open"), setTimeout(function() {
                e.removeClass("open")
            }, 300)
        },
        goTop: function(e) {
            $(e.currentTarget).hasClass("disable") || (a.publish("people:snapto", 0), a.publish("people:hidebumper"), e.target && e.preventDefault())
        },
        toggleClick: function(e) {
            $("body").hasClass("no-touch") && this.toggle(e)
        },
        toggle: function(e) {
            this.container.hasClass("open") ? this.hide() : this.show();
            var t = this,
                i = t.$el.find(".scrollable");
            return $(window).off(".people").on("resize.people", function() {
                $(window).width() >= 768 && t.scroller && t.scroller.refresh()
            }), this.scroller || (this.scroller = new s(i[0], {
                scrollY: !0,
                mouseWheel: !0
            }), t.$el.find(".a-z").length > 0 && new s(t.$el.find(".a-z")[0], {
                scrollY: !0,
                bindToWrapper: !0,
                mouseWheel: !0
            }), this.subviews[0].scroller = this.scroller), this.scroller.refresh(), e && e.target ? (e.preventDefault(), void e.stopPropagation()) : !1
        },
        updateShare: function(e) {
            var t = this.$el.find(".share");
            e.fb && (e.fb.description && t.data("share-description-FB", e.fb.description), e.fb.caption && t.data("share-caption-FB", e.fb.caption)), e.tb && (e.tb.description && t.data("share-description-TB", e.tb.description), e.tb.caption && t.data("share-caption-TB", e.tb.caption)), e.tw && e.tw.description && t.data("share-description-TW", e.tw.description), t.share({
                orientation: "vertical"
            })
        },
        changeFilter: function(e) {
            this.collection = e
        },
        passNext: function(e, t) {
            if (this.collection) {
                var i, n = this.collection.indexOf(this.collection.findWhere({
                    id: Number(e)
                }));
                i = n + 1 < this.collection.length ? this.collection.at(n + 1) : this.collection.first(), _.isFunction(t) && t(i)
            }
        }
    })
}), require.register("views/people/templates/appendix", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, c = "";
            return c += "\n	", n = i["if"].call(e, (n = e && e.appendix, null == n || n === !1 ? n : n.grid), {
                hash: {},
                inverse: m.program(4, r, t),
                fn: m.program(2, o, t),
                data: t
            }), (n || 0 === n) && (c += n), c += '\n    </div>\n        <div class="side-layer" style="background: ' + p((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color3", s) : u.call(e, "scolor", "color3", s))) + '">\n            <div>\n                <h2 style="border-color: ' + p((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : u.call(e, "scolor", "color1", s))) + '" class="go-intro">', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === d ? a.call(e, {
                hash: {},
                data: t
            }) : a), c += p(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === d ? a.call(e, {
                hash: {},
                data: t
            }) : a), c += p(n) + "</h2>\n\n                <h1>" + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "related excerpts", s) : u.call(e, "t", "related excerpts", s))) + "</h1>\n				", n = i.each.call(e, (n = e && e.appendix, null == n || n === !1 ? n : n.appendix), {
                hash: {},
                inverse: m.noop,
                fn: m.program(6, l, t),
                data: t
            }), (n || 0 === n) && (c += n), c += "\n            </div>\n        </div>\n"
        }

        function o(e) {
            var t, i = "";
            return i += '\n        <div class="background-layer grid-type-' + p((t = e && e.appendix, t = null == t || t === !1 ? t : t.grid, t = null == t || t === !1 ? t : t.type, typeof t === d ? t.apply(e) : t)) + '">\n	'
        }

        function r() {
            return '\n        <div class="background-layer single">\n	'
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += "\n                    <h3>", (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === d ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += p(n) + "</h3>\n\n                    <p>" + p((a = i.excerpt || e && e.excerpt, s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.text, s) : u.call(e, "excerpt", e && e.text, s))) + '</p>\n                    <a href="' + p((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "appendix#index", e && e.id, e && e.title, s) : u.call(e, "url", "appendix#index", e && e.id, e && e.title, s))) + '">' + p((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "go to articles", s) : u.call(e, "t", "go to articles", s))) + ' <i\n                            class="sprites-history"></i></a>\n				'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var c, h = "",
            d = "function",
            p = this.escapeExpression,
            u = i.helperMissing,
            m = this;
        return c = i["if"].call(t, (c = t && t.appendix, null == c || c === !1 ? c : c.appendix), {
            hash: {},
            inverse: m.noop,
            fn: m.program(1, s, a),
            data: a
        }), (c || 0 === c) && (h += c), h += "\n"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/bio", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e) {
            var t, i = "";
            return i += '\n	<div class="background-layer grid-type-' + p((t = e && e.bio, t = null == t || t === !1 ? t : t.grid, t = null == t || t === !1 ? t : t.type, typeof t === d ? t.apply(e) : t)) + '">\n'
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n	<div class="background-layer single">\n		<img src="' + p((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, (n = e && e.bio, null == n || n === !1 ? n : n.background), "xlarge", s) : u.call(e, "img-path", (n = e && e.bio, null == n || n === !1 ? n : n.background), "xlarge", s))) + '" alt="Background image">\n'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var r, l, c, h = "",
            d = "function",
            p = this.escapeExpression,
            u = i.helperMissing,
            m = this;
        return r = i["if"].call(t, (r = t && t.bio, null == r || r === !1 ? r : r.grid), {
            hash: {},
            inverse: m.program(3, o, a),
            fn: m.program(1, s, a),
            data: a
        }), (r || 0 === r) && (h += r), h += '\n</div>\n	<div class="side-layer" style="background: ' + p((l = i.scolor || t && t.scolor, c = {
            hash: {},
            data: a
        }, l ? l.call(t, "color3", c) : u.call(t, "scolor", "color3", c))) + '">\n		<div class="bio-wrapper">\n			<h2 class="go-intro" style="border-color: ' + p((l = i.scolor || t && t.scolor, c = {
            hash: {},
            data: a
        }, l ? l.call(t, "color1", c) : u.call(t, "scolor", "color1", c))) + '">', (l = i.firstname) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.firstname, r = typeof l === d ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + " ", (l = i.lastname) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.lastname, r = typeof l === d ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + "</h2>\n\n			<h1>" + p((l = i.t || t && t.t, c = {
            hash: {},
            data: a
        }, l ? l.call(t, "biography", c) : u.call(t, "t", "biography", c))) + '</h1>\n			<img src="' + p((l = i["img-path"] || t && t["img-path"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, (r = t && t.bio, null == r || r === !1 ? r : r.img), "large", c) : u.call(t, "img-path", (r = t && t.bio, null == r || r === !1 ? r : r.img), "large", c))) + '" alt="', (l = i.firstname) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.firstname, r = typeof l === d ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + " ", (l = i.lastname) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.lastname, r = typeof l === d ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + '">\n\n			<div class="body">', r = t && t.bio, r = null == r || r === !1 ? r : r.body, r = typeof r === d ? r.apply(t) : r, (r || 0 === r) && (h += r), h += "</div>\n		</div>\n	</div>\n	"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/bumper", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<nav>\n	<a href="#" class="to-top"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "read again", o) : l.call(t, "t", "read again", o))) + '</span></a>\n	<a href="#" class="next"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "load next character", o) : l.call(t, "t", "load next character", o))) + '</span></a>\n	<a href="#" class="list"><em style="background: ' + c((s = i.scolor || t && t.scolor, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "color1", o) : l.call(t, "scolor", "color1", o))) + '"></em><span>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "see the list", o) : l.call(t, "t", "see the list", o))) + '</span></a>\n</nav>\n<div class="mask"></div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/featured", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e) {
            var t, i = "";
            return i += '\n<div class="background-layer grid-type-' + y((t = e && e.grid, t = null == t || t === !1 ? t : t.type, typeof t === b ? t.apply(e) : t)) + '">\n'
        }

        function o() {
            return '\n<div class="background-layer single">\n'
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += '\n				<h1 style="border-color: ' + y((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : _.call(e, "scolor", "color1", s))) + '">', n = i["if"].call(e, e && e.title, {
                hash: {},
                inverse: x.program(8, c, t),
                fn: x.program(6, l, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "<em>", n = i["if"].call(e, e && e.subtitle, {
                hash: {},
                inverse: x.program(13, p, t),
                fn: x.program(11, d, t),
                data: t
            }), (n || 0 === n) && (o += n), o += "</em></h1>\n			"
        }

        function l(e, t) {
            var n, a;
            return (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), y(n)
        }

        function c(e, t) {
            var n, a, s;
            return a = i.compare || e && e.compare, s = {
                hash: {
                    operator: "==="
                },
                inverse: x.noop,
                fn: x.program(9, h, t),
                data: t
            }, n = a ? a.call(e, e && e.title, e && e.null, s) : _.call(e, "compare", e && e.title, e && e.null, s), n || 0 === n ? n : ""
        }

        function h(e, t) {
            var n, a;
            return y((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "peoplemain default title", a) : _.call(e, "t", "peoplemain default title", a)))
        }

        function d(e, t) {
            var n, a;
            return (a = i.subtitle) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.subtitle, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), y(n)
        }

        function p(e, t) {
            var n, a, s;
            return a = i.compare || e && e.compare, s = {
                hash: {
                    operator: "==="
                },
                inverse: x.noop,
                fn: x.program(14, u, t),
                data: t
            }, n = a ? a.call(e, e && e.subtitle, e && e.null, s) : _.call(e, "compare", e && e.subtitle, e && e.null, s), n || 0 === n ? n : ""
        }

        function u(e, t) {
            var n, a;
            return y((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "peoplemain default subtitle", a) : _.call(e, "t", "peoplemain default subtitle", a)))
        }

        function m(e, t) {
            var n, a, s, o = "";
            return o += '\n				<figure style="background: ' + y((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : _.call(e, "scolor", "color1", s))) + '">\n					<a href="' + y((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "people#index", e && e.id, e && e.firstname, e && e.lastname, s) : _.call(e, "url", "people#index", e && e.id, e && e.firstname, e && e.lastname, s))) + '" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '" class="goto-char">\n						<span class="img">\n							<img src="' + y((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "small", "people", s) : _.call(e, "img-path", e && e.img, "small", "people", s))) + '" alt="', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + '">\n						</span>\n						<figcaption>\n							', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + "<br>\n							", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === b ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += y(n) + "\n						</figcaption>\n					</a>\n				</figure>\n				"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var f, g, v, w = "",
            b = "function",
            y = this.escapeExpression,
            _ = i.helperMissing,
            x = this;
        return f = i["if"].call(t, t && t.grid, {
            hash: {},
            inverse: x.program(3, o, a),
            fn: x.program(1, s, a),
            data: a
        }), (f || 0 === f) && (w += f), w += '\n</div>\n<div class="side-layer">\n	<div class="featured-wrapper">\n		<div class="featured-cell-wrapper">\n			', f = i["if"].call(t, t && t.showHeader, {
            hash: {},
            inverse: x.noop,
            fn: x.program(5, r, a),
            data: a
        }), (f || 0 === f) && (w += f), w += "\n			<h2>" + y((g = i.t || t && t.t, v = {
            hash: {},
            data: a
        }, g ? g.call(t, "currently featured", v) : _.call(t, "t", "currently featured", v))) + "</h2>\n			<article>\n				", f = i.each.call(t, t && t.characters, {
            hash: {},
            inverse: x.noop,
            fn: x.program(16, m, a),
            data: a
        }), (f || 0 === f) && (w += f), w += '\n			</article>\n		  <div class="see-full-list-button">\n	      <span class="icon-list-nav"></span>\n	      <span class="content">See Full List</span>\n		  </div>\n\n		</div>\n	</div>\n</div>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/grid-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = i.helperMissing,
            h = this.escapeExpression,
            d = "function";
        return l += '<div class="grid-cell">\n	<img src="' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, t && t.src, t && t.size, r) : c.call(t, "img-path", t && t.src, t && t.size, r))) + '" alt="">\n	<div class="cell-overlay" style="background: ', (o = i.color) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.color, s = typeof o === d ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '"></div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/house", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, c = "";
            return c += "\n	", n = i["if"].call(e, (n = e && e.houses, null == n || n === !1 ? n : n.grid), {
                hash: {},
                inverse: u.program(4, r, t),
                fn: u.program(2, o, t),
                data: t
            }), (n || 0 === n) && (c += n), c += '\n    </div>\n        <div class="side-layer" style="background: ' + d((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color4", s) : p.call(e, "scolor", "color4", s))) + '">\n            <div class="house-wrap">\n				<div class="house-row-wrap">\n                    <h2 style="border-color: ' + d((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : p.call(e, "scolor", "color1", s))) + '" class="go-intro">', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), c += d(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), c += d(n) + "</h2>\n\n                    <h1>" + d((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "house affiliation", s) : p.call(e, "t", "house affiliation", s))) + '</h1>\n				</div>\n                <div class="house-cell-wrap">\n					', n = i.each.call(e, (n = e && e.houses, null == n || n === !1 ? n : n.houses), {
                hash: {},
                inverse: u.noop,
                fn: u.program(6, l, t),
                data: t
            }), (n || 0 === n) && (c += n), c += "\n                </div>\n            </div>\n        </div>\n"
        }

        function o(e) {
            var t, i = "";
            return i += '\n        <div class="background-layer grid-type-' + d((t = e && e.houses, t = null == t || t === !1 ? t : t.grid, t = null == t || t === !1 ? t : t.type, typeof t === h ? t.apply(e) : t)) + '">\n	'
        }

        function r() {
            return '\n        <div class="background-layer single">\n	'
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += '\n                        <a href="' + d((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "houses#index", e && e.id, e && e.name, s) : p.call(e, "url", "houses#index", e && e.id, e && e.name, s))) + '" data-id="', (a = i.id) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.id, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + '" class="house-item">\n                            <img src="' + d((a = i["img-path"] || e && e["img-path"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.img, "large", "houses", s) : p.call(e, "img-path", e && e.img, "large", "houses", s))) + '" alt="', (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + '"/>\n                            <span class="house-name"><i class="right sprites-house"></i>' + d((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "visit", s) : p.call(e, "t", "visit", s))) + " ", (a = i.name) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.name, n = typeof a === h ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += d(n) + "</span>\n                        </a>\n					"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var c, h = "function",
            d = this.escapeExpression,
            p = i.helperMissing,
            u = this;
        return c = i["if"].call(t, (c = t && t.houses, null == c || c === !1 ? c : c.houses), {
            hash: {},
            inverse: u.noop,
            fn: u.program(1, s, a),
            data: a
        }), c || 0 === c ? c : ""
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/intro", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e) {
            var t, i = "";
            return i += '\n    <div class="background-layer grid-type-' + m((t = e && e.intro, t = null == t || t === !1 ? t : t.grid, t = null == t || t === !1 ? t : t.type, typeof t === u ? t.apply(e) : t)) + '">\n'
        }

        function o() {
            return '\n    <div class="background-layer single">\n'
        }

        function r(e, t) {
            var n, a, s, o = "";
            return o += "\n                    <h1>", (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += m(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === u ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += m(n) + ' <em\n                            style="border-color: ' + m((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : f.call(e, "scolor", "color1", s))) + '">' + m((n = e && e.intro, n = null == n || n === !1 ? n : n.sub_title, typeof n === u ? n.apply(e) : n)) + "</em></h1>\n					", n = i["if"].call(e, (n = e && e.intro, null == n || n === !1 ? n : n.quote), {
                hash: {},
                inverse: g.noop,
                fn: g.program(6, l, t),
                data: t
            }), (n || 0 === n) && (o += n), o += '\n					<h1 class="scroll-down"><em>' + m((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "scroll down", s) : f.call(e, "t", "scroll down", s))) + "</em></h1>\n				"
        }

        function l(e) {
            var t, i = "";
            return i += "\n                        <blockquote>" + m((t = e && e.intro, t = null == t || t === !1 ? t : t.quote, typeof t === u ? t.apply(e) : t)) + " <em>-" + m((t = e && e.intro, t = null == t || t === !1 ? t : t.by, typeof t === u ? t.apply(e) : t)) + "</em></blockquote>\n					"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var c, h, d, p = "",
            u = "function",
            m = this.escapeExpression,
            f = i.helperMissing,
            g = this;
        return c = i["if"].call(t, (c = t && t.intro, null == c || c === !1 ? c : c.grid), {
            hash: {},
            inverse: g.program(3, o, a),
            fn: g.program(1, s, a),
            data: a
        }), (c || 0 === c) && (p += c), p += '\n</div>\n    <div class="side-layer" style="background: ' + m((h = i.scolor || t && t.scolor, d = {
            hash: {},
            data: a
        }, h ? h.call(t, "color4", d) : f.call(t, "scolor", "color4", d))) + '">\n        <div class="intro-wrap">\n            <div class="intro-cell-wrap">\n				', c = i["if"].call(t, t && t.intro, {
            hash: {},
            inverse: g.noop,
            fn: g.program(5, r, a),
            data: a
        }), (c || 0 === c) && (p += c), p += "\n            </div>\n        </div>\n    </div>\n    "
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/items-list-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s() {
            var e = "";
            return e
        }

        function o() {
            return 'style="display:none;"'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var r, l, c, h = "",
            d = i.helperMissing,
            p = this.escapeExpression,
            u = "function",
            m = this;
        return h += '<a href="' + p((l = i.url || t && t.url, c = {
            hash: {},
            data: a
        }, l ? l.call(t, "people#index", t && t.id, t && t.firstname, t && t.lastname, c) : d.call(t, "url", "people#index", t && t.id, t && t.firstname, t && t.lastname, c))) + '" data-id="', (l = i.id) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.id, r = typeof l === u ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + '">\n	<img src="' + p((l = i["img-path"] || t && t["img-path"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.img, "small", "people", c) : d.call(t, "img-path", t && t.img, "small", "people", c))) + '" alt=""/>\n	<span class="title">\n		<span data-letter="' + p((l = i["first-letter"] || t && t["first-letter"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.lastname, c) : d.call(t, "first-letter", t && t.lastname, c))) + '" class="lastname">', (l = i.lastname) ? r = l.call(t, {
            hash: {},
            data: a
        }) : (l = t && t.lastname, r = typeof l === u ? l.call(t, {
            hash: {},
            data: a
        }) : l), h += p(r) + "</span>\n		<b ", l = i["has-both"] || t && t["has-both"], c = {
            hash: {},
            data: a
        }, r = l ? l.call(t, t && t.lastname, t && t.firstname, c) : d.call(t, "has-both", t && t.lastname, t && t.firstname, c), r = i["if"].call(t, r, {
            hash: {},
            inverse: m.program(3, o, a),
            fn: m.program(1, s, a),
            data: a
        }), (r || 0 === r) && (h += r), h += '>, </b>\n		<span data-letter="' + p((l = i["first-letter"] || t && t["first-letter"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.firstname, c) : d.call(t, "first-letter", t && t.firstname, c))) + '" class="firstname">' + p((l = i["return-firstname"] || t && t["return-firstname"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.firstname, c) : d.call(t, "return-firstname", t && t.firstname, c))) + '</span>\n		<span class="nickname">' + p((l = i["return-nickname"] || t && t["return-nickname"], c = {
            hash: {},
            data: a
        }, l ? l.call(t, t && t.firstname, c) : d.call(t, "return-nickname", t && t.firstname, c))) + "</span>\n	</span>\n</a>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/items-list", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = "function",
            h = this.escapeExpression,
            d = i.helperMissing;
        return l += '<div class="a-z">\n	<ul>\n		<li data-letter="A">A</li>\n		<li data-letter="B">&#0149;</li>\n		<li data-letter="C">C</li>\n		<li data-letter="D">&#0149;</li>\n		<li data-letter="E">E</li>\n		<li data-letter="F">&#0149;</li>\n		<li data-letter="G">G</li>\n		<li data-letter="H">&#0149;</li>\n		<li data-letter="I">I</li>\n		<li data-letter="J">&#0149;</li>\n		<li data-letter="K">K</li>\n		<li data-letter="L">&#0149;</li>\n		<li data-letter="M">M</li>\n		<li data-letter="N">&#0149;</li>\n		<li data-letter="O">O</li>\n		<li data-letter="P">&#0149;</li>\n		<li data-letter="Q">Q</li>\n		<li data-letter="R">&#0149;</li>\n		<li data-letter="S">S</li>\n		<li data-letter="T">&#0149;</li>\n		<li data-letter="U">U</li>\n		<li data-letter="V">&#0149;</li>\n		<li data-letter="W">W</li>\n		<li data-letter="X">&#0149;</li>\n		<li data-letter="Y">Y</li>\n		<li data-letter="Z">&#0149;</li>\n	</ul>\n</div>\n<div class="items-list-panel list-panel">\n	<div class="filter">\n		', (o = i.filter_title) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.filter_title, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '\n		<span class="title">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "sort by", r) : d.call(t, "t", "sort by", r))) + ':</span><br>\n		<a href="#" data-filter="lastname" style="border-bottom: 5px solid ' + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : d.call(t, "scolor", "color1", r))) + '; color: #fff" data-bgcolor="' + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : d.call(t, "scolor", "color1", r))) + '">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "last", r) : d.call(t, "t", "last", r))) + '</a>\n		<a href="#" data-filter="firstname" data-bgcolor="' + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : d.call(t, "scolor", "color1", r))) + '">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "first", r) : d.call(t, "t", "first", r))) + '</a>\n		<a class="disabled">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "name", r) : d.call(t, "t", "name", r))) + '</a>\n	</div>\n	<div class="scrollable">\n		<ul class="items"></ul>\n	</div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/location", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, o = "";
            return o += '\n				<a class="marker" href="' + d((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "map#location", (n = e && e.location, null == n || n === !1 ? n : n.id), (n = e && e.location, null == n || n === !1 ? n : n.name), s) : h.call(e, "url", "map#location", (n = e && e.location, null == n || n === !1 ? n : n.id), (n = e && e.location, null == n || n === !1 ? n : n.name), s))) + '">\n					<span>\n						<b>' + d((n = e && e.location, n = null == n || n === !1 ? n : n.name, typeof n === p ? n.apply(e) : n)) + '</b>\n						<i class="sprites-location-big"></i>\n						<i class="sprites-location-small"></i>\n					</span>\n				</a>\n			'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var o, r, l, c = "",
            h = i.helperMissing,
            d = this.escapeExpression,
            p = "function",
            u = this;
        return c += '<div class="side-layer" style="background: ' + d((r = i.scolor || t && t.scolor, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "color4", l) : h.call(t, "scolor", "color4", l))) + '">\n	<div class="location-wrap">\n		<div class="location-row-wrap">\n			<h2 style="border-color: ' + d((r = i.scolor || t && t.scolor, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "color1", l) : h.call(t, "scolor", "color1", l))) + '" class="go-intro">', (r = i.firstname) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.firstname, o = typeof r === p ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + " ", (r = i.lastname) ? o = r.call(t, {
            hash: {},
            data: a
        }) : (r = t && t.lastname, o = typeof r === p ? r.call(t, {
            hash: {},
            data: a
        }) : r), c += d(o) + "</h2>\n\n			<h1>" + d((r = i.t || t && t.t, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "locations", l) : h.call(t, "t", "locations", l))) + '</h1>\n		</div>\n		<div class="location-cell-wrap">\n			', o = i["if"].call(t, t && t.location, {
            hash: {},
            inverse: u.noop,
            fn: u.program(1, s, a),
            data: a
        }), (o || 0 === o) && (c += o), c += '\n			<div class="explore-map">\n				<a href="' + d((r = i.url || t && t.url, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "map#index", l) : h.call(t, "url", "map#index", l))) + '">\n					' + d((r = i.t || t && t.t, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "go explore map", l) : h.call(t, "t", "go explore map", l))) + '\n					<i class="sprites-location-middle"></i>\n				</a>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="map-layer">\n	<a href="' + d((r = i.url || t && t.url, l = {
            hash: {},
            data: a
        }, r ? r.call(t, "map#location", (o = t && t.location, null == o || o === !1 ? o : o.id), (o = t && t.location, null == o || o === !1 ? o : o.name), l) : h.call(t, "url", "map#location", (o = t && t.location, null == o || o === !1 ? o : o.id), (o = t && t.location, null == o || o === !1 ? o : o.name), l))) + '" class="hotspot"></a>\n</div>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/people", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="character featured clearfix"></div>\n<div class="character intro clearfix"></div>\n<div class="character bio clearfix"></div>\n<div class="character house clearfix"></div>\n<div class="character appendix clearfix"></div>\n<div class="character location clearfix"></div>\n<div class="character videos clearfix"></div>\n<div class="bumper excluded"></div>\n<section class="push-in-nav excluded"></section>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/push-in-nav", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s = "";
        return s += '<div class="push-in-overlay"></div>\n<div class="content">\n	<ul class="side-buttons">\n		<li class="go-top">\n			<span class="side-icon icon-return-nav"></span>\n\n		</li>\n		<li class="show-items-list">\n			\n			<?xml version="1.0" encoding="utf-8"?>\n			<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n				 viewBox="0 0 72 72" style="enable-background:new 0 0 72 72;" xml:space="preserve">\n			<g id="Layer_1">\n				<rect x="0" y="0" class="st0" width="72" height="72"/>\n			</g>\n			<g id="Layer_2">\n				<g>\n					<rect x="23.2" y="22" fill="#fff" width="33.7" height="4.7"/>\n					<rect x="23.2" y="33.7" fill="#fff" width="33.7" height="4.7"/>\n					<rect x="23.2" y="45.4" fill="#fff" width="33.7" height="4.7"/>\n					<rect x="15.2" y="22" fill="#fff" width="5.2" height="4.7"/>\n					<rect x="15.2" y="33.7" fill="#fff" width="5.2" height="4.7"/>\n					<rect x="15.2" y="45.4" fill="#fff" width="5.2" height="4.7"/>\n				</g>\n			</g>\n			</svg>\n\n			\n		</li>\n		<li class="side-icon icon-share-nav share-button share">\n			<?xml version="1.0" encoding="utf-8"?>\n			<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n				 viewBox="0 0 72 72" style="enable-background:new 0 0 72 72;" xml:space="preserve">\n			<g id="Layer_1">\n				<rect x="0" y="0" class="st0" width="72" height="72"/>\n			</g>\n			<g id="Layer_2">\n				<path class="st1" d="M37.9,24.3v-6.6l3.9,3.9l2.6-2.6l-8.3-8.3L36,10.8l-0.1-0.1L27.6,19l2.6,2.6l3.9-3.9v6.6H18.2V59h35.7V24.3\n					H37.9z M49.8,55H22.2V28.3h27.7V55z"/>\n			</g>\n			</svg>\n\n		</li>\n	</ul>\n	<section class="items-list"></section>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/templates/videos", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, l = "";
            return l += '\n	<h2 style="border-color: ' + m((a = i.scolor || e && e.scolor, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "color1", s) : u.call(e, "scolor", "color1", s))) + '" class="go-intro">', (a = i.firstname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.firstname, n = typeof a === f ? a.call(e, {
                hash: {},
                data: t
            }) : a), l += m(n) + " ", (a = i.lastname) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.lastname, n = typeof a === f ? a.call(e, {
                hash: {},
                data: t
            }) : a), l += m(n) + "</h2>\n	<h1>" + m((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "videos", s) : u.call(e, "t", "videos", s))) + '</h1>\n	<div class="videos-wrap', a = i.compare || e && e.compare, s = {
                hash: {
                    operator: "<"
                },
                inverse: g.noop,
                fn: g.program(2, o, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.videos, null == n || n === !1 ? n : n.length), 4, s) : u.call(e, "compare", (n = e && e.videos, null == n || n === !1 ? n : n.length), 4, s), (n || 0 === n) && (l += n), l += '">\n		<article class="content-grid grid-section layout-grid clearfix">\n			', a = i.insideGrid || e && e.insideGrid, s = {
                hash: {},
                inverse: g.noop,
                fn: g.program(4, r, t),
                data: t
            }, n = a ? a.call(e, e && e.videos, 2, e && e.international, s) : u.call(e, "insideGrid", e && e.videos, 2, e && e.international, s), (n || 0 === n) && (l += n), l += "\n		</article>\n			", a = i.compare || e && e.compare, s = {
                hash: {
                    operator: ">"
                },
                inverse: g.noop,
                fn: g.program(9, h, t),
                data: t
            }, n = a ? a.call(e, (n = e && e.videos, null == n || n === !1 ? n : n.length), 4, s) : u.call(e, "compare", (n = e && e.videos, null == n || n === !1 ? n : n.length), 4, s), (n || 0 === n) && (l += n), l += "\n	</div>\n	"
        }

        function o() {
            return " partial-row"
        }

        function r(e, t) {
            var n, a, s = "";
            return s += '\n				<figure class="col span_2_of_8 ' + m((n = null == t || t === !1 ? t : t.firstClass, typeof n === f ? n.apply(e) : n)) + " " + m((n = null == t || t === !1 ? t : t.hiddenClass, typeof n === f ? n.apply(e) : n)) + '">\n					<a href="#" class="action-callout video-popup" data-action="video" data-index="' + m((n = null == t || t === !1 ? t : t.index, typeof n === f ? n.apply(e) : n)) + '">\n						<img src="', n = i["if"].call(e, e && e.custom_thumb, {
                hash: {},
                inverse: g.program(7, c, t),
                fn: g.program(5, l, t),
                data: t
            }), (n || 0 === n) && (s += n), s += '" alt="', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === f ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += m(n) + '">\n						<span class="inside-icon inside-video">\n							<i class="sprites-inside-video"></i>\n							<i class="mobile sprites-inside-video-small"></i>\n						</span>\n					</a>\n					<figcaption>\n\n						<h2>', (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === f ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += m(n) + '</h2>\n\n						<h1 class="ellipsis-2">\n							<a href="#" class="action-callout video-popup" data-action="video" data-index="' + m((n = null == t || t === !1 ? t : t.index, typeof n === f ? n.apply(e) : n)) + '">\n							', (a = i.headline) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.headline, n = typeof a === f ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += m(n) + '\n							</a>\n						</h1>\n\n						<p class="ellipsis-3">', (a = i.body) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.body, n = typeof a === f ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += m(n) + "</p>\n					</figcaption>\n				</figure>\n			"
        }

        function l(e, t) {
            var n, a;
            return m((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.url, "xlarge", a) : u.call(e, "img-path", e && e.url, "xlarge", a)))
        }

        function c(e, t) {
            var n, a;
            return m((n = i.yturl || e && e.yturl, a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.video_code, a) : u.call(e, "yturl", e && e.video_code, a)))
        }

        function h(e, t) {
            var n, a, s = "";
            return s += '\n		<a href="#" class="see-more"><span class="tb">' + m((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "more inside", a) : u.call(e, "t", "more inside", a))) + '</span><span class="ds">' + m((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "see more inside", a) : u.call(e, "t", "see more inside", a))) + "</span> +</a>\n		"
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var d, p = "",
            u = i.helperMissing,
            m = this.escapeExpression,
            f = "function",
            g = this;
        return p += '<div class="side-layer">\n	', d = i["if"].call(t, t && t.videos, {
            hash: {},
            inverse: g.noop,
            fn: g.program(1, s, a),
            data: a
        }), (d || 0 === d) && (p += d), p += '\n</div>\n<div class="overlay"></div>\n<div class="video-takeover">\n	<a href="#" class="close"><i class="sprites-close"></i></a>\n	<div class="lazyyt" id="i-video"></div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/people/videos-view", function(e, t, i) {
    {
        var n = t("views/base/view"),
            a = t("mediator"),
            s = (t("models/base/model"), t("lib/utils")),
            o = t("lib/youtube.api");
        t("lib/lazyyt")
    }
    i.exports = n.extend({
        autoRender: !0,
        listen: {
            "all model": "render"
        },
        events: {
            "click .go-intro": "goIntro",
            "click .action-callout": "callAction",
            "click .close": "hide",
            "click .see-more": "seeMore"
        },
        template: t("./templates/videos"),
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            this.model.has("videos")
        },
        setArrowsPosition: function() {
            var e = this.$el.find(".galleries-slider").find("li:not(.bx-clone)").find("img").filter(function() {
                return "inline" == $(this).css("display")
            }).height();
            this.$el.find(".gallery .slider .bx-prev").css("top", e / 2), this.$el.find(".gallery .slider .bx-next").css("top", e / 2)
        },
        resizeLazyYT: function() {
            var e = this;
            this.$el.find(".lazyyt").each(function() {
                $(window).width() <= 480 ? ($(this).data("width", 260), $(this).data("height", 173), $(this).width(260).height(173), e.$el.find(".bx-viewport").height(173)) : ($(this).data("width", 460), $(this).data("height", 320), $(this).width(460).height(320), e.$el.find(".bx-viewport").height(320)), $(this).hasClass("lazyYT-video-loaded") || $(this).lazyYT()
            })
        },
        goIntro: function() {
            a.publish("people:snapto", 1)
        },
        seeMore: function(e) {
            var t = this.$el.find("figure.hidden"),
                i = this.$el;
            return t.removeClass("hidden").addClass("animate-out"), $(e.currentTarget).addClass("hidden"), setTimeout(function() {
                t.addClass("animate-in"), setTimeout(function() {
                    a.publish("home:updateviewport"), i.find(".ellipsis-1").trunk8("update"), i.find(".ellipsis-2").trunk8("update"), i.find(".ellipsis-3").trunk8("update")
                }, 300)
            }, 16), !1
        },
        callAction: function(e) {
            {
                var t = $(e.currentTarget);
                t.data("action")
            }
            return this.show({
                type: "video",
                takeover: {
                    video_code: this.model.get("videos")[t.data("index")].video_code,
                    share: !1
                }
            }), e.preventDefault(), !1
        },
        show: function(e) {
            $("html, body").css("overflow", "hidden");
            var t = this,
                i = {};
            s.getVideoData(e.takeover.video_code, function(n) {
                t.updateShareData(e, i, !1), a.publish("video:play", n)
            })
        },
        updateShareData: function(e) {
            var t = this;
            o.then(function(i) {
                t.player = new i.Player("i-video", {
                    height: 0,
                    width: 0,
                    playerVars: {
                        autoplay: 1,
                        html5: 1
                    },
                    videoId: e.takeover.video_code,
                    events: {
                        onStateChange: function(e) {
                            0 === e.data && t.hide()
                        }
                    }
                })
            }), this.container.find(".video-takeover").addClass("open"), this.$el.find(".lazyyt").each(function() {
                t.youtubeResize(this)
            })
        },
        hide: function(e) {
            return $("html, body").css("overflow", "auto"), this.container.find(".video-takeover").removeClass("open"), this.$el.find(".lazyyt").attr("src", ""), this.player && this.player.destroy(), e && e.preventDefault(), !1
        },
        youtubeResize: function(e) {
            var t = this,
                i = $(e),
                n = Math.round(.8 * $(window).width()),
                a = Math.round(n / 16 * 9) + 35,
                s = $(window).height() - 120;
            a > s && (n = Math.round(1.77777 * (s - 35)), a = s), i.data("width", n), i.data("height", a), i.css({
                width: n + "px",
                height: a + "px",
                "margin-top": ($(window).height() - a) / 2,
                left: ($(window).width() - n) / 2
            }), $(window).on("resize", function() {
                t.youtubeResize(e)
            })
        }
    })
}), require.register("views/site-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("models/cookie-model"),
        s = (t("models/pick-view-model"), t("views/home/article-view")),
        o = t("models/base/model"),
        r = t("lib/utils");
    i.exports = n.extend({
        autoRender: !1,
        blockLoader: !1,
        listen: {
            "site:preloaded mediator": "renderView",
            "dispatcher:dispatch mediator": "onDispatch",
            "site:closepickview mediator": "closePickView",
            "styles:rerender mediator": "renderStyles",
            "loader:show mediator": "showLoader",
            "loader:hide mediator": "hideLoader",
            "scroll:hide mediator": "hideScroll",
            "scroll:show mediator": "showScroll",
            "global-episodes:toggleSpoiler mediator": "spoilerAlertsSwitch"
        },
        events: {
            click: "closePickView",
            "click .pick-call": "callPick",
            "click .pick-call": "callPickNow",
            "touchstart .pick-call": "callPickNow",
            "mouseover .pick-call": "callPick",
            "mouseout .pick-call": "clearPickViewTimeout",
            "click .pick-view.synopsis a": "showSynopsis",
            click: "containerClick"
        },
        container: "body",
        id: "site-container",
        regions: {
            side: "#side-nav-container",
            header: "#nav-container",
            main: "#page-container"
        },
        template: t("./templates/site"),
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), window.location.href.match(/splash/) || this.renderStyles(), this.$el.append('<div class="article-takeover"></div>'), this.registerRegion("article", ".article-takeover"), this.subview("article", new s({
                region: "article",
                model: new o
            }))
        },
        hideScroll: function() {
            $("html, body").css("overflow", "hidden")
        },
        showScroll: function() {
            $("html, body").css({
                "overflow-x": "hidden",
                "overflow-y": "auto"
            })
        },
        showLoader: function(e) {
            this.blockLoader = e ? e.blocked : !1, this.hideScroll(), $(".outer-page-container").addClass("loading"), $(".loader").show(), e && e.backgroundColor && (document.body.style.background = e.backgroundColor);
            var t = new a;
            t.get("hodorize") && r.hodorize()
        },
        hideLoader: function(e) {
            this.blockLoader = e ? e.blocked : this.blockLoader, this.blockLoader || (this.showScroll(), setTimeout(function() {
                $(".outer-page-container").removeClass("loading"), $(".loader").hide(), document.body.style.removeProperty("background")
            }, 0)), 40 !== $("#site-container").offset().top && $("#site-container").css("margin-top", "-10px");
            var t = function(e) {
                    return !!document.location.pathname.match(e)
                },
                i = {
                    people: t(/people/),
                    houses: t(/houses/),
                    map: t(/map/),
                    histories: t(/histories/)
                },
                n = $(".global-nav");
            if (n.find(".open-side-menu").is(":visible"))
                for (var s in i)
                    if (i[s] === !0) {
                        var o = n.find("nav .navbar-item-" + s);
                        o.is(n.find("nav a").first()) || (o.removeClass("active").detach(), n.find("nav").prepend(o))
                    }
            var l = function() {
                    return Math.max($("html").scrollTop(), $("body").scrollTop())
                },
                c = l();
            $(window).on("scroll", function() {
                if (!t(/people/) && !t(/houses/)) {
                    var e = l(),
                        i = e - c;
                    c = e, Math.abs(i) > 50 && e > 100 && (i > 0 ? n.removeClass("initial") : n.addClass("initial"))
                }
            });
            var h = new a;
            h.get("hodorize") && setTimeout(function() {
                r.hodorize()
            }, 0), $("body").addClass(h.get("lang")), $(".global-nav").removeClass("nav-slide-up"), h.get("season_colors") && $(".st0").css({
                fill: h.get("season_colors").color1
            }), $(".side-buttons").show(), navigator.userAgent.match(/Firefox/) && $(".see-full-list-button .icon-list-nav").css("padding-bottom", "5px")
        },
        renderStyles: function() {
            t("lib/retina-1.4.0"), this.$el.find("> style").length > 0 && this.$el.find("> style").remove(), this.$el.append(t("./templates/styles"))
        },
        renderView: function() {},
        onDispatch: function() {
            $(window).off("scroll.scrollurl"), Chaplin.mediator.subscribe("site:changelanguage", function(e) {
                var i = new a,
                    n = t("models/languages-collection"),
                    s = n.findWhere({
                        name: e
                    });
                s ? (i.set({
                    lang: s.get("name"),
                    lang_id: s.get("id")
                }), i.set({
                    hodorize: !1
                }), location.reload(!0)) : (i.set({
                    hodorize: !0
                }), location.reload(!0))
            })
        },
        spoilerAlertsSwitch: function(e) {
            var t = new a,
                i = $(e.target).hasClass("checkbox") ? $(e.target) : $(e.target).parents(".checkbox:first");
            i.hasClass("on") ? t.set("spoilerAlerts", !1) : t.set("spoilerAlerts", !0)
        },
        callPickNow: function(e) {
            this.callPick(e, 1)
        },
        callPick: function(e, t) {
            t || (t = 400);
            new a;
            this.clearPickViewTimeout();
            var i = $(".pickview-wrapper", e.currentTarget).attr("href");
            $(e.currentTarget).on("click", function() {
                window.location = i
            })
        },
        clearPickViewTimeout: function() {
            clearTimeout(this.pickviewtimeout)
        },
        closePickView: function() {
            var e = this;
            if (this.clearPickViewTimeout(), this.pickview) {
                var t = this.pickview;
                t.target && t.target.removeClass("hovered"), t.removeClass("show"), $("em.pick-view:visible").remove(), t.remove(), e.pickview = null
            }
        },
        containerClick: function(e) {
            $("body").hasClass("side-nav-opened") && ($(e.target).parents("#side-nav-container, #nav-container").length || Chaplin.mediator.publish("app:hidesidenav")), $(e.target).hasClass("select-previous") || $(e.target).hasClass("archived-episodes-wrapper") || $("footer").hasClass("open") && ($(e.target).hasClass("archived-wrapper") || $(e.target).parents(".archived-wrapper").length || Chaplin.mediator.publish("cards:toggleArchived")), !$(".mobile-character-show-modal").is(":visible") || $(e.target).hasClass("mobile-character-show-modal") || $(e.target).parents(".mobile-character-show-modal").length || Chaplin.mediator.publish("mobile-character-modal:close")
        },
        showSynopsis: function(e) {
            e.preventDefault();
            var t = "A" == e.target.tagName ? $(e.target) : $(e.target).parents("a:first");
            Chaplin.mediator.publish("home:actionarticle", {
                type: "linkoff",
                takeover: {
                    url: t.attr("href")
                }
            })
        }
    })
}), require.register("views/splash/splash-cards-episodes-collection-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("./splash-cards-episodes-item-view"),
        s = t("models/cookie-model"),
        o = t("lib/omniture-module");
    i.exports = n.extend({
        tagName: "ul",
        className: "episodes-wrapper row",
        itemView: a,
        autoRender: !0,
        animationDuration: 1e3,
        initializedCount: {},
        listen: {
            "cards:sliderInitialized mediator": "sliderInitialized"
        },
        events: {
            "click .episode-content a": "trackEpiSelect"
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.parentEl = e.parentEl
        },
        initItemView: function(e) {
            if (this.itemView) return new this.itemView({
                autoRender: !1,
                model: e,
                parentEl: this.parentEl
            });
            throw new Error("The CollectionView#itemView property must be defined or the initItemView() must be overridden.")
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), Chaplin.mediator.publish("cards:init-sliders")
        },
        sliderInitialized: function(e) {
            this.initializedCount[e] ? this.initializedCount[e]++ : this.initializedCount[e] = 1;
            var t = new s;
            t.has("spoilerAlerts") && t.get("spoilerAlerts") === !1 && ($(".archived-wrapper .filters .checkbox, .side-nav .filters .checkbox").removeClass("on"), Chaplin.mediator.publish("episodes:toggleSpoiler", !1, ".archived-wrapper")), this.initializedCount[e] == this.collection.length && (Chaplin.mediator.publish("cards:allSlidersInitialized", e), this.initializedCount[e] = 0)
        },
        trackEpiSelect: function(e) {
            var t = $(e.target),
                i = "";
            i = t.closest("header").length ? "home:" : t.closest(".explore-episodes").length ? "explore:" : "splash:";
            var n = i + " episode selector: s" + t.data().season + "e" + t.data().episode,
                a = new o({
                    special: "episode-selected",
                    extra: n
                });
            a.fireEvent(n)
        }
    })
}), require.register("views/splash/splash-cards-episodes-item-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("models/cookie-model"),
        s = t("lib/utils");
    i.exports = n.extend({
        tagName: "li",
        autoRender: !0,
        animationDuration: 1e3,
        template: t("./templates/splash-cards-episode-item"),
        listen: {
            "cards-season:change mediator": "changeSeason",
            "cards:init-sliders mediator": "initSliders",
            "episodes:toggleSpoiler mediator": "toggleSpoiler",
            "cards:goToSlide mediator": "goToSlide"
        },
        events: {
            "click .next-season": "chooseNextSeason",
            "click li": function(e) {
                return $(e.target).parents("li").hasClass("spoiler") ? !1 : void 0
            },
            "click .spoiler .reveal": "removeSpoiler",
            "click li.viewing": function() {
                Chaplin.mediator.publish("episodes:chooseCurrent", this.parentEl)
            },
            "click .viewing": function(e) {
                e.preventDefault(), ".explore-episodes" == this.parentEl && s.scrollTo(0, 1e3), ".archived-episodes-wrapper" == this.parentEl && (window.location.pathname = $(e.target).parents("li").find("a.explore").attr("href"))
            }
        },
        device: {},
        sliderParams: {
            adaptiveHeight: !1,
            infiniteLoop: !1,
            hideControlOnEnd: !0,
            responsive: !1,
            controls: !1,
            pager: !1,
            snap: !1,
            variableSlideWidth: !0,
            moveSlides: 1,
            slideMargin: 2,
            preloadImages: "visible",
            nextText: '<i class="sprites-slider_arrow_right" />',
            prevText: '<i class="sprites-slider_arrow_left" />',
            oneToOneTouch: !0,
            velocityTouch: !0
        },
        sliders: {},
        initialize: function(e) {
            this.device = window.device, this.initSliderParams(this.device), this.parentEl = e.parentEl, this.cookie = new a
        },
        render: function() {
            var e = this.model.collection.indexOf(this.model);
            if (void 0 != this.model.collection.at(e + 1)) var t = this.model.collection.at(e + 1).get("episodes").length;
            else var t = 0;
            this.model.get("season_number") < this.model.collection.length && t > 0 && this.model.set({
                has_next_season: !0
            }), this.model.get("episodes").forEach(function(e) {
                e.episode_excerpt = e.excerpt
            }), this.constructor.__super__.render.apply(this, arguments), this.setEpisodeColors()
        },
        toggleSpoiler: function(e, t) {
            this.$el.parents(t).length > 0 && (e ? this.$el.find('li[spoiler="true"]').addClass("spoiler") : this.$el.find('li[spoiler="true"]').removeClass("spoiler"))
        },
        removeSpoiler: function(e) {
            $(e.target).parents("li").removeClass("spoiler").removeAttr("spoiler"), e.preventDefault()
        },
        initSliderParams: function(e) {
            switch (e) {
                case "large-desktop":
                case "desktop":
                    _.extend(this.sliderParams, {
                        slideWidth: 275,
                        minSlides: 3,
                        maxSlides: 4
                    });
                    break;
                case "tablet":
                    _.extend(this.sliderParams, {
                        slideWidth: 270,
                        minSlides: 2,
                        maxSlides: 3
                    });
                    break;
                case "mobile-wide":
                case "mobile":
                    _.extend(this.sliderParams, {
                        slideWidth: 206,
                        minSlides: 1,
                        maxSlides: 4
                    })
            }
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), this.$el.attr("season_id", this.model.get("season_number")), this.$el.find(".episode-wrapper-explore").on("click", function(e) {
                return $(e.currentTarget).find(".title").hasClass("title-locked") ? !1 : void 0
            })
        },
        chooseNextSeason: function(e) {
            $(e.currentTarget).parent().attr("go_to"), $(this.parentEl + ' ul.seasons-tabs li a[season_id="' + $(e.currentTarget).parent().attr("go_to") + '"]').parent().trigger("click")
        },
        changeSeason: function(e, t) {
            var i = 10 * e - 10 + (e - 1);
            this.goToSlide(e, i, t)
        },
        initSliders: function() {
            var e = this,
                t = this.parentEl;
            if (0 == this.$el.find(".bx-wrapper").length) {
                var i = this.$el.parent(),
                    n = i.find(".bx-slider- > li");
                this.sliderParams.onSliderLoad = function() {
                    e.$el.parent().css("height", e.$el.outerHeight()), Chaplin.mediator.publish("cards:sliderInitialized", t)
                }, n.length > 0 && (this.$el.find(".bx-slider-").unwrap(), n.detach(), i.empty(), i.append(n), this.slider = i.bxSlider(this.sliderParams), this.slider.sliderParams = this.sliderParams)
            }
        },
        goToSlide: function(e, t) {
            var i = t;
            this.slider && this.slider.goToSlide(0 > i ? 0 : i)
        },
        setEpisodeColors: function() {
            var e = this.model.get("season_colors");
            this.$el.find("li:not([go_to])").css("background", "#fff"), this.$el.find("li[go_to]").css("background", e.color1), this.$el.find(".episode-wrapper-explore-wrapper").css("background", e.color1), this.$el.find("p.episode_title").css("color", e.color2), this.$el.find(".next-season-copy").css("color", e.color2), this.$el.find(".lock .episode-wrapper").css("background-color", e.color1), this.$el.find(".episode-content .viewing").css({
                background: "#fff",
                "border-bottom": "10px solid " + e.color2,
                color: e.color2
            })
        }
    })
}), require.register("views/splash/splash-cards-seasons-collection-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("./splash-cards-seasons-item-view"),
        s = t("models/cookie-model");
    i.exports = n.extend({
        tagName: "ul",
        className: "seasons-tabs",
        itemView: a,
        autoRender: !0,
        animationDuration: 1e3,
        episodeSelector: {},
        events: {
            "click li": "chooseSeason"
        },
        listen: {
            "cards:allSlidersInitialized mediator": "choseFirst",
            "cards:setSeason mediator": "setSeason",
            "cards:updateSeason mediator": "updateSeason"
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.parentEl = e.parentEl, this.cookie = new s
        },
        initItemView: function(e) {
            if (this.itemView) return new this.itemView({
                autoRender: !1,
                model: e,
                parentEl: this.parentEl
            });
            throw new Error("The CollectionView#itemView property must be defined or the initItemView() must be overridden.")
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = this;
            this.episodeSelector = this.$el.parents(".archived-wrapper").find(".jump-to"), 0 != window.mobile && this.episodeSelector.hide(), _.each(this.collection.models, function(t) {
                e.episodeSelector.append('<select class="original" season_id="' + t.attributes.season_number + '"><option value="0" selected="true" style="display:none;">' + e.episodeSelector.attr("jump-text") + "</option></select>"), _.each(t.attributes.episodes, function(t) {
                    e.episodeSelector.find('select.original[season_id="' + t.season_number + '"]').append('<option value="' + t.episode_number + '" season_id="' + t.season_number + '">' + e.episodeSelector.attr("episode-text") + " " + t.episode_number + "</option>")
                }), e.episodeSelector.append('<select class="fake" season_id="' + t.attributes.season_number + '"><option value="0" selected="true" style="display:none;">' + e.episodeSelector.attr("jump-text") + "</option></select>"), _.each(t.attributes.episodes, function(t) {
                    e.episodeSelector.find('select.fake[season_id="' + t.season_number + '"]').append('<option value="' + t.episode_number + '" season_id="' + t.season_number + '">' + e.episodeSelector.attr("episode-text") + " " + t.episode_number + "</option>")
                })
            }), this.episodeSelector.find("select.fake").on("change", function(t) {
                var i = $(t.target),
                    n = i.attr("season_id");
                i.siblings('[season_id="' + n + '"]').val(i.val()), i.parents(".jump-to").find(".dropdown-wrapper span").html(i.find("option:selected").text()), Chaplin.mediator.publish("cards:goToSlide", i.attr("season_id"), i.val(), e.parentEl)
            }), this.episodeSelector.find("select.original").on("change", function(t) {
                Chaplin.mediator.publish("cards:goToSlide", $(t.target).attr("season_id"), $(t.target).val(), e.parentEl)
            }), this.setDropdown(e.cookie.get("season_number"), !0), setTimeout(function() {
                if (e.$el) var t, i = e.$el.parents(".archived-content").find("li.season-marker"),
                    n = setInterval(function() {
                        $(i.get().reverse()).each(function() {
                            var i = parseInt($(this).attr("go_to")) - 1,
                                a = $(this).offset().left;
                            return $(this).parents(".spoiler-guard").length && (a -= $(this).parents(".spoiler-guard").offset().left), 50 > a ? (t !== i && (e.setDropdown(i, !1) || clearInterval(n), t = i), !1) : void 0
                        })
                    }, 1e3 / 12)
            }, 0)
        },
        setDropdown: function(e, t) {
            var i = this;
            if (!i.$el) return !1;
            if (i.$el.find(".selector-button").remove(), _.each(this.collection.models, function(t) {
                    var n = i.$el.find('li[season_id="' + t.get("season_number") + '"]');
                    if (n.find("a").css({
                            color: t.get("season_colors").color2,
                            background: "#fff"
                        }), t.get("season_number") === e) {
                        var a = n.clone(!1);
                        a.find("a").append($('<i class="sprites-arrow-bottom-fill-black"></i>')), a.addClass("selector-button"), a.css({
                            background: "#fff",
                            opacity: "initial",
                            display: "block",
                            height: "initial"
                        }), a.on("click", function() {
                            return $(this).siblings().slideToggle("fast"), !1
                        }), i.$el.children().hide(), i.$el.prepend(a), a.siblings().slideUp("fast")
                    }
                }), !t) return !0;
            var n = setTimeout(function() {
                i.$el && clearTimeout(n), Chaplin.mediator.publish("cards-season:change", e), i.$el && i.$el.parents(".archived-content").find(".episodes").trigger("initialize-slider")
            }, 0);
            return !0
        },
        choseFirst: function() {
            {
                var e = this.cookie.get("season_number") ? this.cookie.get("season_number") : 1;
                this.cookie.get("episode_number") ? this.cookie.get("episode_number") : 1
            }
            this.$el.find('a[season_id="' + e + '"]').parent().trigger("click", !0)
        },
        chooseSeason: function(e) {
            var t = this,
                i = parseInt($(e.currentTarget).find("a").attr("season_id"));
            Chaplin.mediator.publish("cards-season:change", i, this.parentEl), t.setDropdown(i, !1), e.preventDefault()
        },
        setSeason: function(e) {
            var t = this,
                i = e;
            Chaplin.mediator.publish("cards-season:change", i, this.parentEl), t.setDropdown(i, !1), Chaplin.mediator.publish("loader:hide")
        },
        updateSeason: function(e) {
            this.setDropdown(e, !1)
        }
    })
}), require.register("views/splash/splash-cards-seasons-item-view", function(e, t, i) {
    var n = t("views/base/view");
    i.exports = n.extend({
        tagName: "li",
        className: "bg color1",
        autoRender: !0,
        animationDuration: 1e3,
        template: t("./templates/splash-cards-seasons-item"),
        events: {
            click: "pushColors"
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.parentEl = e.parentEl
        },
        attach: function() {
            this.constructor.__super__.initialize.apply(this, arguments), this.$el.attr("season_id", this.model.get("season_number"))
        },
        pushColors: function(e, t) {}
    })
}), require.register("views/splash/splash-cards-view", function(e, t, i) {
    {
        var n = t("views/base/view"),
            a = t("views/splash/splash-cards-seasons-collection-view"),
            s = t("views/splash/splash-cards-episodes-collection-view"),
            o = t("lib/iscroll");
        t("lib/utils")
    }
    i.exports = n.extend({
        autoRender: !0,
        animationDuration: 1e3,
        className: "archived-episodes-wrapper",
        template: t("./templates/splash-cards"),
        byUser: !1,
        events: {
            "click .archived-episodes-btn": "openArchived",
            "click .close-icon": "openArchived",
            "click li.viewing": "openArchived",
            "click .checkbox": function(e) {
                Chaplin.mediator.publish("global-episodes:toggleSpoiler", e)
            },
            "initialize-slider .episodes": "addSlider"
        },
        listen: {
            "cards:allSlidersInitialized mediator": "hideCards",
            "global-episodes:toggleSpoiler mediator": function() {
                this.$el.find(".checkbox").toggleClass("on"), this.$el.find(".checkbox").hasClass("on") ? this.$el.find(".checkbox").find("input").attr("checked", "checked") : this.$el.find(".checkbox").find("input").removeAttr("checked"), Chaplin.mediator.publish("episodes:toggleSpoiler", this.$el.find(".checkbox").hasClass("on"), ".archived-episodes-wrapper")
            },
            "cards:toggleArchived mediator": "openArchived"
        },
        regions: {
            seasons: ".seasons-row",
            episodes: ".episodes"
        },
        initialize: function(e) {
            this.constructor.__super__.initialize.apply(this, arguments), this.header = e.header, this.data = $(".splash-page").data()
        },
        getTemplateData: function() {
            return this.header
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.$el.prepend(t("./templates/splash-cards-header")), $(window).off(".splash-cards").on("resize.splash-cards", _.bind(function() {
                this.hideCards()
            }, this)), this.hideCards()
        },
        attach: function() {
            if (this.constructor.__super__.attach.apply(this, arguments), this.subview("seasons", new a({
                    collection: this.collection,
                    region: "seasons",
                    parentEl: ".archived-episodes-wrapper"
                })), this.subview("episodes", new s({
                    collection: this.collection,
                    region: "episodes",
                    parentEl: ".archived-episodes-wrapper"
                })), this.container.find(".scrollable").length && !($(".spoiler-guard").length > 0)) {
                var e = {
                    scrollY: !0,
                    mouseWheel: !0
                };
                switch (window.mobile) {
                    case "android":
                        _.extend(e, {
                            click: !0
                        });
                        break;
                    case "ios":
                        _.extend(e, {
                            disableTouch: !1
                        })
                }
                this.scroller = new o(this.$el.find(".archived-wrapper")[0], e)
            }
            var t = this.$el.find(".explore, .episode-wrapper-explore");
            t.each(function() {
                var e = $(this).attr("href");
                e += location.pathname.replace(/\/game-of-thrones\/season-\d\/episode-\d+/, ""), $(this).attr("href", e)
            })
        },
        panelControll: function() {
            var e = this.$el,
                t = this;
            t.byUser && (Chaplin.mediator.publish("episodes:pushColors", window.scolor), e.parent().toggleClass("opened"), e.parent().hasClass("opened") || $(".splash-page").removeClass("animate-out")), t.byUser = !1
        },
        hideCards: function() {
            navigator.appVersion.indexOf("MSIE 9") ? this.panelControll() : setTimeout(this.panelControll(), 500), setTimeout(function() {
                $(".bx-slider-").unwrap().children().unwrap()
            }, 100)
        },
        openArchived: function() {
            var e = this.$el,
                t = $(e).parent();
            this.byUser = !0, e.find(".archived-episodes-btn").addClass("open"), t.toggleClass(t.height() > $(window).height() ? "open-small" : "open"), t.hasClass("opened") ? $(".splash-page").addClass("animate-out").removeClass("animate-in") : $(".splash-page").addClass("animate-in"), navigator.appVersion.indexOf("MSIE 9") ? this.panelControll() : setTimeout(this.panelControll(), 500), this.scroller && setTimeout(_.bind(function() {
                this.scroller.refresh()
            }, this), 500)
        },
        addSlider: function() {
            if (!this.$el.find(".episode-selector-slider").length) {
                var e, t = this,
                    i = _.reduce(_.map(this.$el.find(".episodes-wrapper").children(), function(e) {
                        return $(e).width()
                    }), function(e, t) {
                        return e + t
                    }),
                    n = $('<div class="episode-selector-slider">'),
                    a = $('<div class="pill"><span class="left"></span><span class="right"></span> </div>'),
                    s = new window.Draggabilly(a.get(0), {
                        containment: !0
                    }),
                    o = !1,
                    r = t.$el.parents(".spoiler-guard").length ? t.$el.parents(".spoiler-guard").width() : $(window).width();
                n.on("click", !1);
                var l = window.setInterval(function() {
                    if (t.$el || clearInterval(l), !o && t.$el && !t.$el.is(":hidden")) {
                        if ("WebKitCSSMatrix" in window) {
                            var s = window.getComputedStyle(t.$el.find(".episodes-wrapper").get(0)),
                                c = new WebKitCSSMatrix(s.webkitTransform);
                            e = c.m41
                        } else {
                            var h = t.$el.find(".episodes-wrapper").css("transform").replace(/[^0-9\-.,]/g, "").split(","),
                                d = h[12] || h[4];
                            e = parseInt(d)
                        }
                        var p = -e / i,
                            u = -i + r - 190,
                            m = -35;
                        u >= e ? p = 1 : e >= m && (p = 0);
                        var f = n.width() - a.width();
                        t.$el.find(".pill").css("left", parseInt(f * p)), r = t.$el.parents(".spoiler-guard").length ? t.$el.parents(".spoiler-guard").width() : $(window).width()
                    }
                }, 1e3 / 60);
                s.on("dragStart", function() {
                    o = !0, t.$el.find(".episodes-wrapper").css({
                        "transition-duration": "0",
                        "-webkit-transition-duration": "0"
                    })
                }), s.on("dragEnd", function() {
                    o = !1, t.$el.find(".episodes-wrapper").css({
                        "transition-duration": ".5s",
                        "-webkit-transition-duration": ".5s"
                    })
                });
                var c = 0;
                n.on("click", function(e) {
                    if ($(e.target).hasClass("episode-selector-slider")) {
                        var a = (e.pageX - n.offset().left) / n.width(),
                            s = -a * i;
                        160 > -s && (s = -30), -s > i - r - 300 && (s = -(i - r + 200));
                        var o = "-webkit-transform" in window.getComputedStyle(t.$el.find(".episodes-wrapper").get(0)) ? "-webkit-transform" : "transform",
                            l = {};
                        l[o] = "translate3d(" + s + "px, 0, 0)", t.$el.find(".episodes-wrapper").css(l)
                    }
                }), s.on("dragMove", function(e, s, o) {
                    var l = o.x / n.width(),
                        h = t.$el.find(".episodes-wrapper").children().last(),
                        d = t.$el.find(".episodes-wrapper").children().first(),
                        p = d.offset().left,
                        u = h.offset().left + h.width(),
                        m = $(window).width(),
                        f = n.offset().left,
                        g = n.offset().left + n.width();
                    if (l >= -1 && 1 >= l && (0 > p || l >= 0 || s.pageX > c) && (u > m || 0 >= l || s.pageX < c) && s.pageX < g && s.pageX > f) {
                        var v = a.position().left / (n.width() - a.width()),
                            w = -v * i,
                            b = -i + r - 190,
                            y = -35;
                        b > w ? w = b : w > y && (w = y);
                        var _ = "-webkit-transform" in window.getComputedStyle(t.$el.find(".episodes-wrapper").get(0)) ? "-webkit-transform" : "transform",
                            x = {};
                        x[_] = "translate3d(" + w + "px, 0, 0)", t.$el.find(".episodes-wrapper").css(x)
                    }
                    c = s.pageX
                }), n.append(a), n.css("bottom", "initial"), this.$el.find(".archived-wrapper .archived-content").append(n)
            }
        }
    })
}), require.register("views/splash/splash-page-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = (t("lib/iscroll"), t("views/home/video-view")),
        s = t("lib/omniture-module"),
        o = t("models/cookie-model");
    i.exports = n.extend({
        autoRender: !0,
        autoAttach: !0,
        animationDuration: 1e3,
        className: "splash-page",
        template: t("./templates/splash"),
        listen: {
            "splash:colorChanged mediator": "changeColor"
        },
        regions: {
            slider: ".splash-slider",
            footer: "footer",
            trailer: ".video-takeover"
        },
        initialize: function() {
            this.constructor.__super__.initialize.apply(this, arguments)
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.subview("trailer", new a({
                region: "trailer"
            }));
            var e = Math.random() + "",
                t = 1e13 * e;
            $("body").append('<iframe src="http://1234407.fls.doubleclick.net/activityi;src=1234407;type=hbogen;cat=hbogo0;ord=' + t + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>')
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments);
            var e = this.$el.find(".language-menu"),
                t = e.find("ul > li"),
                i = e.children("span");
            e.on("click", function(e) {
                $(this).toggleClass("active"), $(e.target).data("lang") && Chaplin.mediator.publish("site:changelanguage", $(e.target).data("lang")), e.preventDefault()
            }), $("body").on("click", function(t) {
                $(t.target) != $(".language-menu-wrapper") && 0 == $(t.target).parents(".language-menu-wrapper").length && e.removeClass("active")
            }), t.on("click", function() {
                var e = $(this);
                i.text(e.text())
            }), $(".explore").css("display", "block");
            var n = new o,
                a = n.get("season_number"),
                r = n.get("episode_number"),
                l = new s({
                    section2: "s" + a + ":e" + r,
                    section3: "splash page",
                    contentType: null,
                    contentName: null,
                    extras: null
                });
            l.fire()
        },
        changeColor: function(e) {
            this.$el.data(e), this.$el.find(".language-menu, .language-menu ul").css("background", e.color3)
        }
    })
}), require.register("views/splash/splash-slider-collection-view", function(e, t, i) {
    var n = t("views/base/collection-view"),
        a = t("./splash-slider-item-view"),
        s = t("lib/utils"),
        o = t("lib/omniture-module");
    i.exports = n.extend({
        itemView: a,
        autoRender: !0,
        animationDuration: 1e3,
        className: "slider-wrapper",
        listSelector: "ul.slides",
        template: t("./templates/splash-slider"),
        listen: {
            "splash-slider:stop mediator": "stop",
            "splash-slider:start mediator": "start"
        },
        events: {
            "click .extras": "omniEventExtras",
            "click .people": "omniEventPeople",
            "click .houses": "omniEventHouses",
            "click .map": "omniEventMap",
            "click .histories": "omniEventHistories"
        },
        initialize: function() {
            this.constructor.__super__.initialize.apply(this, arguments), this.i = 0
        },
        initItemView: function(e) {
            if (0 == this.i && e.set("new", !0), this.i++, this.itemView) return new this.itemView({
                autoRender: !1,
                model: e
            });
            throw new Error("The CollectionView#itemView property must be defined or the initItemView() must be overridden.")
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments);
            var e = this;
            _.each(this.collection.models, function(i) {
                e.$el.find(".backgrounds").append(t("./templates/backgrounds")(i.toJSON()))
            })
        },
        attach: function() {
            this.constructor.__super__.attach.apply(this, arguments), Chaplin.mediator.publish("splash:colorChanged", this.collection.first().get("season_colors"));
            var e = this,
                t = {
                    adaptiveHeight: !0,
                    controls: !1,
                    pause: 6e3,
                    pager: e.collection.models.length > 1,
                    onSliderLoad: function(t) {
                        $(".backgrounds > div").css("visibility", "hidden"), $(".backgrounds > div").eq(t).css("visibility", "visible"), s.addPreloader(e.$el.find(".backgrounds"), function() {}, "div[data-src]")
                    },
                    onSlideBefore: function(e, t, i) {
                        Chaplin.mediator.publish("splash:colorChanged", e.data()), $(".backgrounds > div").eq(t).css("visibility", "hidden"), $(".backgrounds > div").eq(i).css("visibility", "visible")
                    },
                    onSlideAfter: function() {
                        e.$el.trigger("startAuto")
                    },
                    oneToOneTouch: !0
                };
            navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i) && (t.useCSS = !1), 1 == this.collection.models.length ? _.extend(t, {
                auto: !1,
                touchEnabled: !1
            }) : this.collection.models.length > 1 && _.extend(t, {
                auto: !0
            }), this.$el.find(".slider ul li").length > 0 && (e.slider = this.$el.find("ul.slides").bxSlider(t), this.collection.models.length > 1 && e.slider.parent().on("touchstart", function() {
                e.slider.stopAuto()
            }).on("touchend", function() {
                e.slider.startAuto()
            }), this.$el.on("startAuto", function() {
                e.slider.startAuto()
            })), s.removeExtraSplashImages(!0)
        },
        start: function() {
            this.slider.startAuto()
        },
        stop: function() {
            this.slider.stopAuto()
        },
        omniEventExtras: function() {
            var e = new o({
                special: "link-click"
            });
            e.fireEvent("home: extras")
        },
        omniEventPeople: function() {
            var e = new o({
                special: "link-click"
            });
            e.fireEvent("home: people")
        },
        omniEventHouses: function() {
            var e = new o({
                special: "link-click"
            });
            e.fireEvent("home: houses")
        },
        omniEventMap: function() {
            var e = new o({
                special: "link-click"
            });
            e.fireEvent("home: map")
        },
        omniEventHistories: function() {
            var e = new o({
                special: "link-click"
            });
            e.fireEvent("home: histories")
        }
    })
}), require.register("views/splash/splash-slider-item-view", function(e, t, i) {
    var n = t("views/base/view"),
        a = t("lib/omniture-module");
    i.exports = n.extend({
        autoRender: !0,
        animationDuration: 1e3,
        className: "slide",
        tagName: "li",
        template: t("./templates/splash-slider-item"),
        events: {
            "click .trailer": function() {
                return Chaplin.mediator.publish("home:actionvideo", {
                    takeover: {
                        video_code: this.model.get("trailer"),
                        share: this.model.get("share")
                    }
                }), Chaplin.mediator.publish("splash-slider:stop"), !1
            },
            "click .select-previous": function() {
                Chaplin.mediator.publish("cards:toggleArchived")
            },
            "click .hod": function(e) {
                if ($(e.currentTarget).parents(".select-previous").length > 0) Chaplin.mediator.publish("cards:toggleArchived"), e.stopPropagation();
                else {
                    var t = new a({
                        special: "most-recent"
                    });
                    t.fireEvent("splash: most recent episode")
                }
            }
        },
        render: function() {
            this.constructor.__super__.render.apply(this, arguments), this.$el.data(this.model.get("season_colors"))
        }
    })
}), require.register("views/splash/templates/backgrounds", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = "function",
            h = this.escapeExpression,
            d = i.helperMissing;
        return l += '<div asset-id="', (o = i.id) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.id, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '">\n	<div class="mobile"\n		data-src="url(' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, t && t.img320, "xlarge", "slider_assets", r) : d.call(t, "img-path", t && t.img320, "xlarge", "slider_assets", r))) + ')"></div>\n	<div class="tablet"\n		data-src="url(' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, t && t.img768, "xlarge", "slider_assets", r) : d.call(t, "img-path", t && t.img768, "xlarge", "slider_assets", r))) + ')"></div>\n	<div class="desktop"\n		data-src="url(' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, t && t.img1024, "xlarge", "slider_assets", r) : d.call(t, "img-path", t && t.img1024, "xlarge", "slider_assets", r))) + ')"></div>\n	<div class="large-desktop"\n		data-src="url(' + h((o = i["img-path"] || t && t["img-path"], r = {
            hash: {},
            data: a
        }, o ? o.call(t, t && t.img1200, "xlarge", "slider_assets", r) : d.call(t, "img-path", t && t.img1200, "xlarge", "slider_assets", r))) + ')"></div>\n</div>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/splash/templates/splash-cards-episode-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s, u = "";
            return u += '\n        <li class="', n = i["if"].call(e, e && e.currently_viewing, {
                hash: {},
                inverse: T.noop,
                fn: T.program(2, o, t),
                data: t
            }), (n || 0 === n) && (u += n), u += " ", n = i["if"].call(e, e && e.spoiler, {
                hash: {},
                inverse: T.noop,
                fn: T.program(4, r, t),
                data: t
            }), (n || 0 === n) && (u += n), u += " ", n = i["if"].call(e, e && e.locked, {
                hash: {},
                inverse: T.noop,
                fn: T.program(6, l, t),
                data: t
            }), (n || 0 === n) && (u += n), u += '"\n            spoiler="', (a = i.spoiler) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.spoiler, n = typeof a === C ? a.call(e, {
                hash: {},
                data: t
            }) : a), u += S(n) + '">\n\n            <div class="episode-wrapper">\n				', n = i["if"].call(e, e && e.currently_viewing, {
                hash: {},
                inverse: T.program(10, h, t),
                fn: T.program(8, c, t),
                data: t
            }), (n || 0 === n) && (u += n), u += '<div class="episode-wrapper-explore-wrapper"><p class="episode_title">\n                    <u>' + S((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "season", s) : k.call(e, "t", "season", s))) + " ", (a = i.season_number) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.season_number, n = typeof a === C ? a.call(e, {
                hash: {},
                data: t
            }) : a), u += S(n) + "</u>&nbsp&nbsp|&nbsp&nbsp" + S((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "episode", s) : k.call(e, "t", "episode", s))) + " ", (a = i.episode_number) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.episode_number, n = typeof a === C ? a.call(e, {
                hash: {},
                data: t
            }) : a), u += S(n) + '\n                </p>\n                <p class="title ', n = i["if"].call(e, e && e.locked, {
                hash: {},
                inverse: T.noop,
                fn: T.program(12, d, t),
                data: t
            }), (n || 0 === n) && (u += n), u += '">\n                ', n = i["if"].call(e, e && e.locked, {
                hash: {},
                inverse: T.program(19, f, t),
                fn: T.program(14, p, t),
                data: t
            }), (n || 0 === n) && (u += n), u += "\n                </p>\n\n                </div>\n				", n = i["if"].call(e, e && e.currently_viewing, {
                hash: {},
                inverse: T.program(21, g, t),
                fn: T.program(8, c, t),
                data: t
            }), (n || 0 === n) && (u += n), u += '\n\n                <div class="episode-content">\n					', n = i["if"].call(e, e && e.currently_viewing, {
                hash: {},
                inverse: T.program(10, h, t),
                fn: T.program(8, c, t),
                data: t
            }), (n || 0 === n) && (u += n), u += '\n                    <div class="image-wrapper">\n						', n = i["if"].call(e, e && e.img, {
                hash: {},
                inverse: T.noop,
                fn: T.program(23, v, t),
                data: t
            }), (n || 0 === n) && (u += n), u += '\n                        <div class="overlay"></div>\n                    </div>\n                    ', n = i["if"].call(e, e && e.episode_excerpt, {
                hash: {},
                inverse: T.noop,
                fn: T.program(25, w, t),
                data: t
            }), (n || 0 === n) && (u += n), u += "\n					", n = i["if"].call(e, e && e.currently_viewing, {
                hash: {},
                inverse: T.program(21, g, t),
                fn: T.program(8, c, t),
                data: t
            }), (n || 0 === n) && (u += n), u += '\n                    <a href="' + S((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "home#home", e && e.id, e && e.season_number, e && e.episode_number, s) : k.call(e, "url", "home#home", e && e.id, e && e.season_number, e && e.episode_number, s))) + '" data-season="', (a = i.season_number) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.season_number, n = typeof a === C ? a.call(e, {
                hash: {},
                data: t
            }) : a), u += S(n) + '" data-episode="', (a = i.episode_number) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.episode_number, n = typeof a === C ? a.call(e, {
                hash: {},
                data: t
            }) : a), u += S(n) + '" class="explore">' + S((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "select episode", s) : k.call(e, "t", "select episode", s))) + '</a>\n                    <a href="#" class="viewing">' + S((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "currently viewing", s) : k.call(e, "t", "currently viewing", s))) + "</a>\n                </div>\n            </div>\n\n        </li>\n	"
        }

        function o() {
            return "viewing"
        }

        function r() {
            return "spoiler"
        }

        function l() {
            return "lock"
        }

        function c() {
            var e = "";
            return e
        }

        function h(e, t) {
            var n, a, s = "";
            return s += '<a href="' + S((n = i.url || e && e.url, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "home#home", e && e.id, e && e.season_number, e && e.episode_number, a) : k.call(e, "url", "home#home", e && e.id, e && e.season_number, e && e.episode_number, a))) + '" class="episode-wrapper-explore">'
        }

        function d() {
            return "title-locked"
        }

        function p(e, t) {
            var n, a = "";
            return a += "\n                    ", n = i["if"].call(e, e && e.tunein_title, {
                hash: {},
                inverse: T.program(17, m, t),
                fn: T.program(15, u, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n                "
        }

        function u(e, t) {
            var n, a, s, o = "";
            return o += "\n                        ", a = i["break-after-first-word"] || e && e["break-after-first-word"], s = {
                hash: {},
                data: t
            }, n = a ? a.call(e, e && e.tunein_title, s) : k.call(e, "break-after-first-word", e && e.tunein_title, s), (n || 0 === n) && (o += n), o += "\n                    "
        }

        function m(e, t) {
            var n, a, s = "";
            return s += "\n                        " + S((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, "Tune in during the premiere", a) : k.call(e, "t", "Tune in during the premiere", a))) + "\n                    "
        }

        function f(e, t) {
            var n, a, s = "";
            return s += "\n                ", (a = i.title) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.title, n = typeof a === C ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += S(n) + "\n                "
        }

        function g() {
            return "</a>"
        }

        function v(e, t) {
            var n, a, s = "";
            return s += '\n                            <img class="preload" src="' + S((n = i["img-path"] || e && e["img-path"], a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.img, "small", "episodes", a) : k.call(e, "img-path", e && e.img, "small", "episodes", a))) + '" alt=""/>\n						'
        }

        function w(e, t) {
            var n, a, s = "";
            return s += '\n                    <div class="excerpt">\n                        ', (a = i.episode_excerpt) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.episode_excerpt, n = typeof a === C ? a.call(e, {
                hash: {},
                data: t
            }) : a), s += S(n) + "\n                    </div>\n                    "
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var b, y, _, x = "",
            k = i.helperMissing,
            S = this.escapeExpression,
            T = this,
            C = "function";
        return x += '    <ul class="bx-slider-', (y = i.season_id) ? b = y.call(t, {
            hash: {},
            data: a
        }) : (y = t && t.season_id, b = typeof y === C ? y.call(t, {
            hash: {},
            data: a
        }) : y), x += S(b) + '">\n    <li go_to="' + S((y = i["next-season"] || t && t["next-season"], _ = {
            hash: {},
            data: a
        }, y ? y.call(t, t && t.season_number, _) : k.call(t, "next-season", t && t.season_number, _))) + '" class="season-marker">\n        <div class="next-season">\n            <div class="next-season-copy">' + S((y = i.t || t && t.t, _ = {
            hash: {},
            data: a
        }, y ? y.call(t, "season", _) : k.call(t, "t", "season", _))) + '</div>\n            <div class="next-season-number">', (y = i.season_number) ? b = y.call(t, {
            hash: {},
            data: a
        }) : (y = t && t.season_number, b = typeof y === C ? y.call(t, {
            hash: {},
            data: a
        }) : y), x += S(b) + "</div>\n        </div>\n    </li>\n	", b = i.each.call(t, t && t.episodes, {
            hash: {},
            inverse: T.noop,
            fn: T.program(1, s, a),
            data: a
        }), (b || 0 === b) && (x += b), x += "\n<ul/>\n"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/splash/templates/splash-cards-header", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<i class="close-icon sprites-close"></i>\n<div class="archived-episodes-btn">\n    <div class="opened">\n        ' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "select an episode below", o) : l.call(t, "t", "select an episode below", o))) + '\n    </div>\n    <div class="closed">\n        ' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "explore past episodes", o) : l.call(t, "t", "explore past episodes", o))) + ' <i class="sprites-arrow-top-black"></i>\n    </div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/splash/templates/splash-cards-seasons-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = "function",
            h = this.escapeExpression,
            d = i.helperMissing;
        return l += '<a href="#" season_id="', (o = i.season_number) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.season_number, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '" class="tablet-up">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "season upper", r) : d.call(t, "t", "season upper", r))) + " ", (o = i.season_number) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.season_number, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '</a>\n<a href="#" season_id="', (o = i.season_number) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.season_number, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + '" class="mobile">' + h((o = i.t || t && t.t, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "season short", r) : d.call(t, "t", "season short", r))) + " ", (o = i.season_number) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.season_number, s = typeof o === c ? o.call(t, {
            hash: {},
            data: a
        }) : o), l += h(s) + "</a>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/splash/templates/splash-cards", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = "function",
            c = this.escapeExpression;
        return r += '<div class="sliderMask"/>\n<div class="archived-wrapper">\n	<div class="scrollable">\n		<header>\n		</header>\n		<div class="archived-content">\n			<div class="archived-title">\n				<h2>', (o = i.title) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.title, s = typeof o === l ? o.call(t, {
            hash: {},
            data: a
        }) : o), r += c(s) + "</h2>\n\n				<h3>", (o = i.description) ? s = o.call(t, {
            hash: {},
            data: a
        }) : (o = t && t.description, s = typeof o === l ? o.call(t, {
            hash: {},
            data: a
        }) : o), r += c(s) + '</h3>\n			</div>\n			<div class="seasons-row"></div>\n			<div class="clearfix"></div>\n			<div class="episodes"></div>\n		</div>\n	</div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/splash/templates/splash-slider-item", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        function s(e, t) {
            var n, a, s = "";
            return s += '\n    <div class="premiere-copy">' + f((n = i.t || e && e.t, a = {
                hash: {},
                data: t
            }, n ? n.call(e, e && e.premiere_copy, a) : m.call(e, "t", e && e.premiere_copy, a))) + "</div>\n"
        }

        function o(e, t) {
            var n, a, s, o = "";
            return o += '\n    <div class="explore">\n        <a class="', (a = i.size) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.size, n = typeof a === g ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += f(n) + '" href="' + f((a = i["mobile-url"] || e && e["mobile-url"], s = {
                hash: {},
                data: t
            }, a ? a.call(e, e && e.cta_url, e && e.cta_mobile_url, s) : m.call(e, "mobile-url", e && e.cta_url, e && e.cta_mobile_url, s))) + '"\n           style="">\n            <span class="hod">', (a = i.explore_button_text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.explore_button_text, n = typeof a === g ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += f(n) + '</span>\n            <svg class="splash-button-icon" width="12px" height="22px" viewbox="0 0 60 100">\n                <line x1="2" y1="2" x2="58" y2="50" stroke-width="7"/>\n                <line x1="2" y1="98" x2="58" y2="50" stroke-width="7"/>\n            </svg>\n        </a>\n    </div>\n'
        }

        function r(e, t) {
            var n, a = "";
            return a += "\n    ", n = i["if"].call(e, e && e.episode_number, {
                hash: {},
                inverse: v.noop,
                fn: v.program(6, l, t),
                data: t
            }), (n || 0 === n) && (a += n), a += "\n"
        }

        function l(e, t) {
            var n, a, s, o = "";
            return o += '\n    <div class="explore">\n        <a class="', (a = i.size) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.size, n = typeof a === g ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += f(n) + '" href="' + f((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "home#home", e && e.id, e && e.season_number, e && e.episode_number, s) : m.call(e, "url", "home#home", e && e.id, e && e.season_number, e && e.episode_number, s))) + '"\n           style="">\n			<span class="hod">', (a = i.explore_button_text) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.explore_button_text, n = typeof a === g ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += f(n) + '</span>\n            <svg class="splash-button-icon" width="12px" height="22px" viewbox="0 0 60 100">\n                <line x1="2" y1="2" x2="58" y2="50" stroke-width="7"/>\n                <line x1="2" y1="98" x2="58" y2="50" stroke-width="7"/>\n            </svg>\n        </a>\n    </div>\n    '
        }

        function c(e, t) {
            var n, a, s, o = "";
            return o += '\n    <div class="trailer">\n        <a class="', (a = i.size) ? n = a.call(e, {
                hash: {},
                data: t
            }) : (a = e && e.size, n = typeof a === g ? a.call(e, {
                hash: {},
                data: t
            }) : a), o += f(n) + '" href="' + f((a = i.url || e && e.url, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "home#home", e && e.id, e && e.season_number, e && e.episode_number, s) : m.call(e, "url", "home#home", e && e.id, e && e.season_number, e && e.episode_number, s))) + '"\n           style="background: ' + f((n = e && e.season_colors, n = null == n || n === !1 ? n : n.color3, typeof n === g ? n.apply(e) : n)) + '">\n			' + f((a = i.t || e && e.t, s = {
                hash: {},
                data: t
            }, a ? a.call(e, "watch the trailer", s) : m.call(e, "t", "watch the trailer", s))) + '\n            <i class="sprites-play_youtube"></i>\n        </a>\n    </div>\n'
        }
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var h, d, p, u = "",
            m = i.helperMissing,
            f = this.escapeExpression,
            g = "function",
            v = this;
        return u += '<h2 class="mini-tag-line">\n' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "The", p) : m.call(t, "t", "The", p))) + '\n</h2>\n<h1 class="tag-line">\n' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "VIEWERS-GUIDE", p) : m.call(t, "t", "VIEWERS-GUIDE", p))) + '\n</h1>\n\n<!-- OVERRODE COLORS IN STYLESHEET WITH !IMPORTANT -->\n\n<div class="underline-bottom" style="width: 175px;"></div>\n\n', h = i["if"].call(t, t && t.premiere_copy, {
            hash: {},
            inverse: v.noop,
            fn: v.program(1, s, a),
            data: a
        }), (h || 0 === h) && (u += h), u += "\n", h = i["if"].call(t, t && t.cta_url, {
            hash: {},
            inverse: v.program(5, r, a),
            fn: v.program(3, o, a),
            data: a
        }), (h || 0 === h) && (u += h), u += "\n\n", h = i["if"].call(t, t && t.trailer, {
            hash: {},
            inverse: v.noop,
            fn: v.program(8, c, a),
            data: a
        }), (h || 0 === h) && (u += h), u += '\n\n<div class="to-avoid-spoilers">\n' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "TO-AVOID-SPOILERS", p) : m.call(t, "t", "TO-AVOID-SPOILERS", p))) + '\n</div>\n<div class="select-previous">\n    <span class="hod">' + f((d = i.t || t && t.t, p = {
            hash: {},
            data: a
        }, d ? d.call(t, "SELECT-PREVIOUS", p) : m.call(t, "t", "SELECT-PREVIOUS", p))) + '</span>\n    <svg class="splash-button-icon" width="12px" height="22px" viewbox="0 0 60 100">\n        <line x1="2" y1="2" x2="58" y2="50" stroke-width="7"/>\n        <line x1="2" y1="98" x2="58" y2="50" stroke-width="7"/>\n    </svg>\n</div>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/splash/templates/splash-slider", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<div class="slider">\n    <ul class="slides">\n    </ul>\n</div>\n<div class="backgrounds"></div>\n<div class="bottom">\n  <p class="headline">' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "go-inside-the-series", o) : l.call(t, "t", "go-inside-the-series", o))) + '</p>\n  <ul>\n    <a href="game-of-thrones/season-4/episode-10" class="extras">\n      <li>\n        <img class="splash-episodes-icon" src="../images/splash-episodes.png">\n        <h3>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "extras", o) : l.call(t, "t", "extras", o))) + "</h3>\n        <p>" + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "behind-the-scenes", o) : l.call(t, "t", "behind-the-scenes", o))) + '</p>\n      </li>\n    </a>\n    <a href="game-of-thrones/season-4/episode-10/people" class="people">\n      <li>\n        <img class="splash-people-icon" src="../images/splash-people.png">\n        <h3>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "people", o) : l.call(t, "t", "people", o))) + "</h3>\n        <p>" + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "character-bios", o) : l.call(t, "t", "character-bios", o))) + '</p>\n      </li>\n    </a>\n    <a href="game-of-thrones/season-4/episode-10/houses" class="houses">\n      <li>\n        <img class="splash-houses-icon" src="../images/splash-houses.png">\n        <h3>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "houses", o) : l.call(t, "t", "houses", o))) + "</h3>\n        <p>" + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "family-trees", o) : l.call(t, "t", "family-trees", o))) + '</p>\n      </li>\n    </a>\n    <a href="game-of-thrones/season-4/episode-10/map" class="map">\n      <li>\n        <img class="splash-map-icon" src="../images/splash-map.png">\n        <h3>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "locations", o) : l.call(t, "t", "locations", o))) + "</h3>\n        <p>" + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "map-of-world", o) : l.call(t, "t", "map-of-world", o))) + '</p>\n      </li>\n    </a>\n    <a href="game-of-thrones/season-4/episode-10/histories" class="histories">\n      <li>\n        <img class="splash-histories-icon" src="../images/splash-appendix.png">\n        <h3>' + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "histories", o) : l.call(t, "t", "histories", o))) + "</h3>\n        <p>" + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "events-customs", o) : l.call(t, "t", "events-customs", o))) + '</p>\n      </li>\n    </a>\n  </ul>\n  <div class="bottom-most-holder"> \n    <a href="http://www.facebook.com/GameOfThrones" target="_blank"><i class="sprites-facebook-square"><img src="../images/facebook-square.png"></i></a>\n    <a href="http://twitter.com/GameOfThrones" target="_blank"><i class="sprites-twitter-square"><img src="../images/twitter-square.png"></i></a>\n    <div class="disclaimer">\n      2015 Home Box Office, Inc. All rights reserved. HBO and related channels and service marks are the property of Home Box Office, Inc.   | <a href="http://www.hbo.com/html/privacy-policy/index.html" target="_blank"> Privacy policy </a> | <a href="http://www.hbo.com/html/terms-of-use/index.html" target="_blank"> Terms of use </a>\n    </div>\n    <div class="affiliate-links">\n      <a href="http://www.hbo.com/#/" target="_blank"> HBO.COM | </a><a href="https://order.hbonow.com/" target="_blank">HBO NOW |</a><a href="http://www.hbogo.com/" target="_blank"> HBO GO | </a><a href="http://connect.hbo.com/" target="_blank"> HBO CONNECT | </a> <a href="http://shop.hbo.com/game-of-thrones/index.php?v=hbo_shows_game-of-thrones&ecid=PRF-HBO-803217&pa=PRF-HBO-803217" target="_blank"> HBO STORE </a>\n    </div>\n  </div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/splash/templates/splash", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r = "",
            l = i.helperMissing,
            c = this.escapeExpression;
        return r += '<!-- BEGIN Krux Control Tag for "viewers-guide.hbo.com" -->\n<!-- Source: /snippet/controltag?confid=JodMuOhq&site=viewers-guide.hbo.com&edit=1 -->\n<script class="kxct" data-id="JodMuOhq" data-timing="async" data-version="1.9" type="text/javascript">\n  window.Krux||((Krux=function(){Krux.q.push(arguments)}).q=[]);\n  (function(){\n    var k=document.createElement(\'script\');k.type=\'text/javascript\';k.async=true;\n    var m,src=(m=location.href.match(/\\bkxsrc=([^&]+)/))&&decodeURIComponent(m[1]);\n    k.src = /^https?:\\/\\/([a-z0-9_\\-\\.]+\\.)?krxd\\.net(:\\d{1,5})?\\//i.test(src) ? src : src === "disable" ? "" :\n      (location.protocol==="https:"?"https:":"http:")+"//cdn.krxd.net/controltag?confid=JodMuOhq"\n  ;\n    var s=document.getElementsByTagName(\'script\')[0];s.parentNode.insertBefore(k,s);\n  }());\n  \n</script>\n<!-- END Krux Controltag -->\n<header class="clearfix">\n	<div class="logo">\n		<img src="' + c((s = i["img-path"] || t && t["img-path"], o = {
            hash: {},
            data: a
        }, s ? s.call(t, "", "original", o) : l.call(t, "img-path", "", "original", o))) + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "hboLogo", o) : l.call(t, "t", "hboLogo", o))) + '" alt=""/>\n	</div>\n  <img class="nav-logo" src="' + c((s = i["img-path"] || t && t["img-path"], o = {
            hash: {},
            data: a
        }, s ? s.call(t, "", "original", o) : l.call(t, "img-path", "", "original", o))) + c((s = i.t || t && t.t, o = {
            hash: {},
            data: a
        }, s ? s.call(t, "navLogo", o) : l.call(t, "t", "navLogo", o))) + '" alt="">\n</header>\n<div class="splash-page-wrapper">\n	<section>\n		<div class="splash-slider">\n		</div>\n	</section>\n</div>\n<div class="video-takeover"></div>\n<footer>\n</footer>\n'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/templates/site", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        return this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {}, '<div class="side-nav-container" id="side-nav-container"></div>\n\n<div class="nav-container" id="nav-container"></div>\n\n<div class="outer-page-container">\n	<div class="loading-overlay">\n		<div class="loader"><div class="spinner"></div></div>\n	</div>\n	<div class="page-container" id="page-container">\n	</div>\n</div>'
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
}), require.register("views/templates/styles", function(e, t, i) {
    var n = Handlebars.template(function(e, t, i, n, a) {
        this.compilerInfo = [4, ">= 1.0.0"], i = this.merge(i, e.helpers), a = a || {};
        var s, o, r, l = "",
            c = i.helperMissing,
            h = this.escapeExpression;
        return l += "<style>\n\n	.global-nav nav a:hover i {\n		background-color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.global-nav nav a:not(.active):hover span {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.global-nav nav a.active {\n		background-color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.global-nav nav a.active i {\n		background-color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.side-buttons .side-icon {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.side-buttons li:not(.disable):hover .side-icon {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + ";\n	}\n	.side-buttons li.disable .side-icon {\n		color: ", o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, s = o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r), l += h((o = i.darken || t && t.darken, r = {
            hash: {},
            data: a
        }, o ? o.call(t, s, "-0.5", r) : c.call(t, "darken", s, "-0.5", r))) + ";\n	}\n\n	.side-nav:not(.nav-language-selector) ul li:hover {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.side-nav ul.not-selectable li:hover {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n	.side-nav ul.not-selectable .language-selector ul li:hover {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.inside-icon {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.action-callout:hover .inside-icon {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + ";\n	}\n\n	.inside figure figcaption h1 a:hover,\n	.inside figure:hover figcaption h1 a {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + "!important;\n	}\n\n	.splash-slider .explore {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.splash-slider .explore:hover {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + ";\n	}\n\n	.splash-slider .select-previous {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.select-previous .splash-button-icon {\n		stroke: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.splash-slider .underline-bottom {\n		border-top: 2px solid " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.explore-items .icon {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.explore-items li:hover .icon {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + ";\n	}\n\n	.people figure:hover figcaption a.name h1,\n	.people figure:hover figcaption a.name h2 {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + ";\n	}\n\n	.people figure.col.featured:hover figcaption h1,\n	.people figure.col.featured:hover figcaption h2,\n	.people figure.col.featured:hover figcaption a {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + "!important;\n	}\n\n	.location-item .img-wrapper .icon {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n	.location-item .img-wrapper:hover .icon {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + ";\n	}\n\n/*	.houses-list-panel {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color3", r) : c.call(t, "scolor", "color3", r))) + ";\n	}\n*/\n\n	.side-buttons .show-items-list {\n		color: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	@media only screen and (max-width: 768px) {\n		.houses-page .landing-wrapper h2 {\n			border-left: 8px solid " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color2", r) : c.call(t, "scolor", "color2", r))) + ";\n		}\n	}\n\n	.items-list ul.items li:hover,\n	.items-list ul.items li.active {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n/*	.items-list-panel {\n		border-right: 6px solid " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color4", r) : c.call(t, "scolor", "color4", r))) + ";\n	}*/\n/*	.items-list {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color3", r) : c.call(t, "scolor", "color3", r))) + ";\n	}*/\n/*	.items-list-panel .filter {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color4", r) : c.call(t, "scolor", "color4", r))) + ";\n	}*/\n	.a-z ul li:hover, .a-z ul li.active {\n		background: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n\n	.svg-icon {\n		width: 15px;\n		height: 15px;\n		vertical-align: middle;\n	}\n\n	.svg-icon .icon-path {\n		fill: #808080;\n		transition: all .1s ease;\n	}\n\n	.navbar-item-home.active .svg-icon .icon-path,\n	.navbar-item-people.active .svg-icon .icon-path,\n	.navbar-item-houses.active .svg-icon .icon-path,\n	.navbar-item-map.active .svg-icon .icon-path,\n	.navbar-item-histories.active .svg-icon .icon-path,\n	.navbar-item-settings.active .svg-icon .icon-path {\n		fill: #fff;\n	}\n\n	.navbar-item-home:not(.active):hover .svg-icon .icon-path,\n	.navbar-item-people:not(.active):hover .svg-icon .icon-path,\n	.navbar-item-houses:not(.active):hover .svg-icon .icon-path,\n	.navbar-item-map:not(.active):hover .svg-icon .icon-path,\n	.navbar-item-histories:not(.active):hover .svg-icon .icon-path,\n	.navbar-item-settings:not(.active):hover .svg-icon .icon-path {\n		fill: " + h((o = i.scolor || t && t.scolor, r = {
            hash: {},
            data: a
        }, o ? o.call(t, "color1", r) : c.call(t, "scolor", "color1", r))) + ";\n	}\n</style>"
    });
    "function" == typeof define && define.amd ? define([], function() {
        return n
    }) : "object" == typeof i && i && i.exports && (i.exports = n)
});
